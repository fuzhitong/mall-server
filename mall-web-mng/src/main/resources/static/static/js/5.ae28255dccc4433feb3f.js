webpackJsonp([5],{1181:function(t,e,s){var n=s(1182);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);s(664)("55134e6e",n,!0)},1182:function(t,e,s){e=t.exports=s(663)(!1),e.push([t.i,"",""])},1183:function(t,e,s){"use strict";var n=s(149),i=s.n(n),a=s(222),r=s(760),o=s(37);e.a={name:"Home",mixins:[r.a],data:function(){return{bg:{background:"url("+o.a.LOGIN_BG+") no-repeat left top",backgroundSize:"100% 100%"},approvingNum:0,myApplyNum:0,list:[{key:"apply.submit.vacation",name:"请假申请",icon:"el-icon-leave",color:"#97cb3a",url:"/apply/submit/vacation"},{key:"apply.submit.overtime",name:"加班申请",icon:"el-icon-overtime",color:"#30beed",url:"/apply/submit/overtime"},{key:"apply.submit.businessTrip",name:"出差申请",icon:"el-icon-business-trip",color:"#beb084",url:"/apply/submit/businessTrip"},{key:"apply.submit.egression",name:"外出申请",icon:"el-icon-out",color:"#0094d7",url:"/apply/submit/egression"},{key:"apply.submit.workOff",name:"调休申请",icon:"el-icon-time",color:"#e9e631",url:"/apply/submit/workOff"},{key:"apply.submit.businessCars",name:"用车申请",icon:"el-icon-daohang",color:"#e584b2",url:"/apply/submit/businessCars"}]}},computed:i()({},Object(a.c)("user",["userInfo"]),{appList:function(){var t=this;return this.list.filter(function(e){return t.$lodash.isEmpty(e.key)||t.hasPermission(e.key)})}}),mounted:function(){var t=this;this.$service.apply.getApprovingNum().then(function(e){t.approvingNum=e.data}),this.$service.apply.getMyApplyNum().then(function(e){t.myApplyNum=e.data[0]})},methods:{logout:function(){var t=this;this.$service.login.logout().then(function(){t.$router.push("login")})}}}},1184:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("section",{staticClass:"personal-info",style:t.bg},[s("dl",[s("dt",[s("img",{attrs:{src:t.$imgUrl(t.userInfo.icon)}})]),t._v(" "),s("dd",[t._v(t._s(t.userInfo.realName))]),t._v(" "),s("dd",[s("a",{staticClass:"btn-login",attrs:{href:"javascript:void(0)"},on:{click:t.logout}},[t._v("注销")])])])]),t._v(" "),s("section",{staticClass:"oa-appList"},[s("div",{staticClass:"list-cell-default"},[t.hasPermission("approving")?s("mt-cell",{attrs:{title:"待我审批的",to:"/apply/my-approval/approving","is-link":""}},[t.approvingNum>0?s("mt-badge",{attrs:{type:"error"}},[t._v(t._s(t.approvingNum))]):t._e()],1):t._e(),t._v(" "),t.hasPermission("myApply")?s("mt-cell",{attrs:{title:"我发起的申请",to:"/apply/my-apply/audit","is-link":""}},[t.myApplyNum>0?s("mt-badge",{attrs:{type:"error"}},[t._v(t._s(t.myApplyNum))]):t._e()],1):t._e()],1),t._v(" "),s("h4",{staticClass:"oa-appList-title  space-m-t"},[t._v("出勤休假")]),t._v(" "),s("div",{staticClass:"oa-appList-wrap clearfix"},[t._l(t.appList,function(e){return[s("dl",{staticClass:"oa-appList__item",on:{click:function(s){t.$router.push(e.url)}}},[s("dt",{style:{background:e.color}},[s("i",{class:e.icon})]),t._v(" "),s("dd",[t._v(t._s(e.name))])])]})],2)])])},i=[],a={render:n,staticRenderFns:i};e.a=a},1259:function(t,e,s){"use strict";var n=s(739);e.a={name:"Main",mixins:[n.a],created:function(){var t=this;this.$service.personal.getPersonalInfoSilence().then(function(e){t.setUserInfo(e.data)}).catch(function(t){})}}},1260:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement;return(t._self._c||e)("router-view")},i=[],a={render:n,staticRenderFns:i};e.a=a},1261:function(t,e,s){"use strict";var n=s(37);e.a={data:function(){return{loginImg:n.a.LOGIN_LOGO,form:{userName:"",password:""}}},methods:{binding:function(){var t=this;this.$service.login.bindWx(this.form).then(function(){t.$router.push("/main")})}}}},1262:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"oa-login"},[s("div",{staticClass:"oa-login-wrap"},[s("p",{staticClass:"text-center space-p"},[s("img",{attrs:{src:t.loginImg}})]),t._v(" "),s("section",{staticClass:"oa-loginBox"},[s("mt-field",{attrs:{label:"用户名",placeholder:"请输入邮箱或手机号"},model:{value:t.form.userName,callback:function(e){t.$set(t.form,"userName",e)},expression:"form.userName"}}),t._v(" "),s("mt-field",{attrs:{label:"密码",placeholder:"请输入密码",type:"password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),t._v(" "),s("p",{staticClass:"space-p-t"},[s("mt-button",{attrs:{type:"primary",size:"large"},on:{click:t.binding}},[t._v("绑定")])],1)],1)])])},i=[],a={render:n,staticRenderFns:i};e.a=a},712:function(t,e,s){"use strict";function n(t){s(1181)}Object.defineProperty(e,"__esModule",{value:!0});var i=s(1183),a=s(1184),r=s(68),o=n,u=r(i.a,a.a,!1,o,null,null);e.default=u.exports},732:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(1259),i=s(1260),a=s(68),r=a(n.a,i.a,!1,null,null,null);e.default=r.exports},733:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(1261),i=s(1262),a=s(68),r=a(n.a,i.a,!1,null,null,null);e.default=r.exports},739:function(t,e,s){"use strict";var n=s(101),i=s.n(n),a=s(149),r=s.n(a),o=s(222),u=s(104);e.a={computed:r()({},Object(o.c)("user",["userInfo","departments"])),watch:{userInfo:function(){this.$emit("$_userInfoOk")},departments:function(){this.$emit("$_departmentsOk")}},methods:r()({},Object(o.b)("user",{setUserInfo:u.a}),{$_getUserInfo:function(){var t=this;return new i.a(function(e){t.$lodash.isEmpty(t.userInfo)?t.$once("$_userInfoOk",function(){e(t.userInfo)}):e(t.userInfo)})},$_getDepartments:function(){var t=this;return new i.a(function(e){t.$lodash.isEmpty(t.departments)?t.$once("$_departmentsOk",function(){e(t.departments)}):e(t.departments)})}})}},760:function(t,e,s){"use strict";var n=s(149),i=s.n(n),a=s(222);e.a={computed:i()({},Object(a.c)("user",["authorityInfo"])),methods:{hasPermission:function(t){return this.authorityInfo.includes(t)}}}}});