webpackJsonp([1],{1185:function(t,e,s){"use strict";e.a={name:"Main"}},1186:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("router-view")},a=[],r={render:i,staticRenderFns:a};e.a=r},1187:function(t,e,s){var i=s(1188);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s(664)("977710ac",i,!0)},1188:function(t,e,s){e=t.exports=s(663)(!1),e.push([t.i,"",""])},1189:function(t,e,s){"use strict";var i=s(753);e.a={name:"Detail",mixins:[i.a],data:function(){return{detail:{applyNo:"",applyUserNames:[],beginTime:"",bizKey:"",createTime:"",endTime:"",hours:"",reason:"",submitUserId:"",submitUserName:"",summary:{},taskId:"",title:"",type:"",nextAuditUserNames:[],userTaskInfos:[]}}},computed:{summary:function(){var t=[];for(var e in this.detail.summary)t.push({key:e,value:this.detail.summary[e]});return t},userTaskInfos:function(){return this.detail.userTaskInfos.reverse()},nextAuditUserNames:function(){return this.$lodash.isEmpty(this.detail.nextAuditUserNames)?"":this.detail.nextAuditUserNames.join(",")},applyUserNames:function(){return this.$lodash.isEmpty(this.detail.applyUserNames)?"":this.detail.applyUserNames.join(",")}},created:function(){var t=this,e=this.$route.query.applyNo;this.$lodash.isEmpty(e)||this.$service.apply.detailApproved({applyNo:e}).then(function(e){t.detail=e})}}},1190:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"oa-fixed"},[i("mt-header",{attrs:{title:t.detail.title}},[i("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(e){t.$router.back()}},slot:"left"})],1),t._v(" "),i("section",{staticClass:"oa-topCard"},[i("div",{staticClass:"oa-topCard__body"},[i("mt-cell",{staticClass:"oa-topCard__title",attrs:{title:t.detail.submitUserName}},[i("img",{staticClass:"space-m-r",attrs:{slot:"icon",src:s(779),width:"18",height:"18"},slot:"icon"}),t._v(" "),i("mt-badge",{attrs:{color:t.statusBadgeColor(t.detail.auditStatus)}},[t._v(t._s(t.statusStr(t.detail.auditStatus)))])],1),t._v(" "),i("div",{staticClass:"oa-topCard__content"},[i("table",{staticClass:"oa-form oa-form-details"},[i("tr",[i("th",{attrs:{width:"80"}},[t._v("审批编号")]),t._v(" "),i("td",[t._v(t._s(t.detail.applyNo))])]),t._v(" "),i("tr",[i("th",[t._v("所在部门")]),t._v(" "),i("td",[t._v(t._s(t.detail.deptName))])])])])],1)]),t._v(" "),i("table",{staticClass:"oa-form oa-form-border"},[t._l(t.summary,function(e){return[i("tr",[i("th",{attrs:{width:"90"}},[t._v(" "+t._s(e.key)+" ")]),t._v(" "),i("td",[t._v(t._s(e.value))])])]}),t._v(" "),i("tr",[i("th",[t._v("参与人员")]),t._v(" "),i("td",[t._v(t._s(t.applyUserNames))])])],2),t._v(" "),i("hr",{staticClass:"oa-hr"}),t._v(" "),t._m(0),t._v(" "),i("section",{staticClass:"oa-timeLine"},[i("table",{staticClass:"oa-table"},[i("tbody",[t._l(t.userTaskInfos,function(e){return[t.$lodash.isEmpty(e.username)?[i("tr",[i("td",[i("span",{staticClass:"font-blue"},[t._v(t._s(t.nextAuditUserNames))]),t._v("正在审批")]),t._v(" "),i("td",{staticClass:"font-gray",attrs:{width:"120"}},[t._v("-")])])]:[i("tr",[i("td",[i("span",{staticClass:"font-blue"},[t._v(t._s(e.username))]),t._v(" "),i("span",{staticClass:"text-status"},[t._v(t._s(t.statusStr(e.audit)))]),t._v(" "),i("span",[t._v(" "+t._s(e.comment))])]),t._v(" "),i("td",{staticClass:"font-gray",attrs:{width:"120"}},[t._v("\n              "+t._s(t.$dateUtils.getFormatDate(e.auditTime,"yyyy-MM-dd hh:mm"))+"\n            ")])])]]}),t._v(" "),i("tr",[i("td",[i("span",{staticClass:"font-blue"},[t._v(t._s(t.detail.submitUserName))]),t._v("提交申请")]),t._v(" "),i("td",{staticClass:"font-gray",attrs:{width:"120"}},[t._v(t._s(t.$dateUtils.getFormatDate(t.detail.createTime,"yyyy-MM-dd hh:mm")))])])],2)])])],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h4",{staticClass:"oa-secTitle"},[s("span",{staticClass:"oa-secTitle-name"},[t._v("审批记录")])])}],r={render:i,staticRenderFns:a};e.a=r},1191:function(t,e,s){var i=s(1192);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s(664)("d6f5f91a",i,!0)},1192:function(t,e,s){e=t.exports=s(663)(!1),e.push([t.i,"",""])},1193:function(t,e,s){"use strict";var i=s(760),a=s(753),r=s(745);e.a={name:"ApprovingDetail",mixins:[i.a,a.a,r.a],data:function(){return{isOper:!1,nextAuditUserId:"",detail:{applyNo:"",applyUserNames:[],beginTime:"",bizKey:"",createTime:"",endTime:"",hours:"",reason:"",submitUserId:"",submitUserName:"",summary:{},taskId:"",title:"",type:"",taskDefinitionKey:"",userTaskInfos:[]}}},computed:{summary:function(){var t=[];for(var e in this.detail.summary)t.push({key:e,value:this.detail.summary[e]});return t},userTaskInfos:function(){return this.detail.userTaskInfos.reverse()},applyUserNames:function(){return this.$lodash.isEmpty(this.detail.applyUserNames)?"":this.detail.applyUserNames.join(",")}},created:function(){var t=this;this.getOption("FinalApproverUser");var e=this.$route.query.applyNo;this.$lodash.isEmpty(e)||this.$service.apply.detailApproving({applyNo:e}).then(function(e){t.detail=e,console.log(e)})},methods:{reject:function(){this.processOper("reject")},pass:function(){"ResourceProcess"===this.detail.type&&"usertask6"===this.detail.taskDefinitionKey?this.$refs.finalApproverUserPopup.open():this.processOper("pass")},passEnd:function(){this.processOper("passEnd")},processOper:function(t){var e=this,s={reject:this.$service.apply.reject,pass:this.$service.apply.pass,passEnd:this.$service.apply.passEnd}[t],i={reject:"是否拒绝？",pass:"是否通过？",passEnd:"是否通过并结束？"}[t];this.$messagebox.prompt("请输入原因",i).then(function(t){var i=t.value;"confirm"===t.action&&(e.isOper=!0,s.call(e,{taskId:e.detail.taskId,type:e.detail.type,comment:i}).then(function(){e.$router.replace("/apply/my-approval/approved")}).finally(function(){e.isOper=!1}))})},finalApproverProcessOper:function(t){var e=this;this.$messagebox.prompt("请输入原因",t+"为最终审批人").then(function(t){var s=t.value;"confirm"===t.action&&(e.isOper=!0,e.$service.apply.pass.call(e,{taskId:e.detail.taskId,type:e.detail.type,comment:s,bizKey:e.detail.bizKey,nextAuditUserId:e.nextAuditUserId}).then(function(){e.$router.replace("/apply/my-approval/approved")}).finally(function(){e.isOper=!1}))})}}}},1194:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"oa-fixed"},[i("mt-header",{attrs:{title:t.detail.title}},[i("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(e){t.$router.back()}},slot:"left"})],1),t._v(" "),i("mt-tabbar",{staticClass:"oa-tabbar-btnGroup"},[i("c-button",{attrs:{disabled:t.isOper,type:"danger",size:"small"},on:{click:function(){return t.reject()}}},[t._v("拒绝")]),t._v(" "),t.hasPermission("approvingPass")?i("c-button",{attrs:{disabled:t.isOper,type:"success",size:"small"},on:{click:function(){return t.pass()}}},[t._v("通过")]):t._e(),t._v(" "),t.hasPermission("approvingPassEnd")?i("c-button",{attrs:{disabled:t.isOper,type:"submit",size:"small"},on:{click:function(){return t.passEnd()}}},[t._v("通过并结束")]):t._e()],1),t._v(" "),i("section",{staticClass:"oa-topCard"},[i("div",{staticClass:"oa-topCard__body"},[i("mt-cell",{staticClass:"oa-topCard__title",attrs:{title:t.detail.submitUserName}},[i("img",{staticClass:"space-m-r",attrs:{slot:"icon",src:s(779),width:"18",height:"18"},slot:"icon"}),t._v(" "),i("mt-badge",{attrs:{color:t.statusBadgeColor(t.detail.auditStatus)}},[t._v(t._s(t.statusStr(t.detail.auditStatus)))])],1),t._v(" "),i("div",{staticClass:"oa-topCard__content"},[i("table",{staticClass:"oa-form oa-form-details"},[i("tr",[i("th",{attrs:{width:"80"}},[t._v("审批编号")]),t._v(" "),i("td",[t._v(t._s(t.detail.applyNo))])]),t._v(" "),i("tr",[i("th",[t._v("所在部门")]),t._v(" "),i("td",[t._v(t._s(t.detail.deptName))])])])])],1)]),t._v(" "),i("table",{staticClass:"oa-form oa-form-border"},[t._l(t.summary,function(e){return[i("tr",[i("th",{attrs:{width:"90"}},[t._v(" "+t._s(e.key)+" ")]),t._v(" "),i("td",[t._v(t._s(e.value))])])]}),t._v(" "),t.detail.applyNo.startsWith("YC")?t._e():i("tr",[i("th",[t._v("参与人员")]),t._v(" "),i("td",[t._v(t._s(t.applyUserNames))])])],2),t._v(" "),i("hr",{staticClass:"oa-hr"}),t._v(" "),t._m(0),t._v(" "),i("section",{staticClass:"oa-timeLine"},[i("table",{staticClass:"oa-table"},[i("tbody",[t._l(t.userTaskInfos,function(e){return[t.$lodash.isEmpty(e.username)?[i("tr",[t._m(1,!0),t._v(" "),i("td",{staticClass:"font-gray",attrs:{width:"120"}},[t._v("-")])])]:[i("tr",[i("td",[i("span",{staticClass:"font-blue"},[t._v(t._s(e.username))]),t._v(" "),i("span",{staticClass:"text-status"},[t._v(t._s(t.statusStr(e.audit)))]),t._v(" "),i("span",[t._v(t._s(e.comment))])]),t._v(" "),i("td",{staticClass:"font-gray",attrs:{width:"120"}},[t._v("\n              "+t._s(t.$dateUtils.getFormatDate(e.auditTime,"yyyy-MM-dd hh:mm"))+"\n            ")])])]]}),t._v(" "),i("tr",[i("td",[i("span",{staticClass:"font-blue"},[t._v(t._s(t.detail.submitUserName))]),t._v("提交申请")]),t._v(" "),i("td",{staticClass:"font-gray",attrs:{width:"120"}},[t._v(t._s(t.$dateUtils.getFormatDate(t.detail.createTime,"yyyy-MM-dd hh:mm")))])])],2)])]),t._v(" "),i("c-select-popup",{ref:"finalApproverUserPopup",attrs:{options:t.options.FinalApproverUser},on:{show:t.finalApproverProcessOper},model:{value:t.nextAuditUserId,callback:function(e){t.nextAuditUserId=e},expression:"nextAuditUserId"}})],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h4",{staticClass:"oa-secTitle"},[s("span",{staticClass:"oa-secTitle-name"},[t._v("审批记录")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("td",[s("span",{staticClass:"font-blue"},[t._v("我")]),t._v("正在审批")])}],r={render:i,staticRenderFns:a};e.a=r},1195:function(t,e,s){var i=s(1196);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s(664)("80470c9e",i,!0)},1196:function(t,e,s){e=t.exports=s(663)(!1),e.push([t.i,"",""])},1197:function(t,e,s){"use strict";e.a={name:"Main",data:function(){return{approvingNum:0,approvedNum:0}},methods:{getNumStr:function(t){return t=t||0,t>0?"("+t+")":""}},mounted:function(){var t=this;this.$service.apply.getApprovingNum().then(function(e){t.approvingNum=e.data}),this.$service.apply.getApprovedNum().then(function(e){t.approvedNum=e.data})}}},1198:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"oa-fixed"},[s("mt-header",{attrs:{title:"我的审批"}},[s("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(e){t.$router.push("/main")}},slot:"left"})],1),t._v(" "),s("section",{staticClass:"oa-tab"},[s("ul",{staticClass:"tabHeader"},[s("li",{class:t.$route.matched.map(function(t){return t.path}).includes("/apply/my-approval/approving")?"active":""},[s("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$router.replace("/apply/my-approval/approving")}}},[t._v("待我审批"+t._s(t.getNumStr(t.approvingNum)))])]),t._v(" "),s("li",{class:t.$route.matched.map(function(t){return t.path}).includes("/apply/my-approval/approved")?"active":""},[s("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$router.replace("/apply/my-approval/approved")}}},[t._v("我已审批"+t._s(t.getNumStr(t.approvedNum)))])])]),t._v(" "),s("div",{staticClass:"tabBody"},[s("keep-alive",[s("router-view")],1)],1)])],1)},a=[],r={render:i,staticRenderFns:a};e.a=r},1199:function(t,e,s){var i=s(1200);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s(664)("dba1f458",i,!0)},1200:function(t,e,s){e=t.exports=s(663)(!1),e.push([t.i,"",""])},1201:function(t,e,s){"use strict";var i=s(102),a=s.n(i),r=void 0;e.a={name:"MyApproving",data:function(){return{page:1,disabledLoad:!1,loading:!1,pageSizes:40,list:[]}},created:function(){r={}},destroyed:function(){r=null},methods:{refresh:function(){this.page=1,this.list=[],this.loadMore()},loadMore:function(){var t=this;this.disabledLoad=!0,this.loading=!0,this.$service.apply.queryApprovingPage(this.page,this.pageSizes,r).then(function(e){t.page++,t.list=[].concat(a()(t.list),a()(e.rows)),t.disabledLoad=t.page>e.total}).catch(function(){t.disabledLoad=!0}).finally(function(){t.loading=!1})}}}},1202:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("c-top-refresh",{ref:"loadmore",on:{refresh:t.refresh}},[s("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"list-cell",attrs:{"infinite-scroll-disabled":"disabledLoad","infinite-scroll-distance":"10"}},[t._l(t.list,function(e){return[s("li",[s("mt-cell",{attrs:{title:e.title,"is-link":""},nativeOn:{click:function(s){t.$router.push({path:"/apply/approving-detail",query:{applyNo:e.applyNo}})}}},[s("span",[t._v(t._s(t.$dateUtils.getShortDate(e.createTime)))])])],1)]})],2),t._v(" "),s("c-loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]})],1)},a=[],r={render:i,staticRenderFns:a};e.a=r},1203:function(t,e,s){var i=s(1204);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s(664)("55aa7771",i,!0)},1204:function(t,e,s){e=t.exports=s(663)(!1),e.push([t.i,"",""])},1205:function(t,e,s){"use strict";var i=s(102),a=s.n(i),r=s(753),n=void 0;e.a={name:"MyApproved",mixins:[r.a],data:function(){return{page:1,disabledLoad:!1,loading:!1,pageSizes:10,list:[]}},created:function(){n={}},destroyed:function(){n=null},methods:{refresh:function(){this.page=1,this.list=[],this.loadMore()},loadMore:function(){var t=this;this.disabledLoad=!0,this.loading=!0,this.$service.apply.queryApprovedPage(this.page,this.pageSizes,n).then(function(e){t.page++,t.list=[].concat(a()(t.list),a()(e.rows)),t.disabledLoad=t.page>e.total}).catch(function(){t.disabledLoad=!0}).finally(function(){t.loading=!1})}}}},1206:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("c-top-refresh",{ref:"loadmore",on:{refresh:t.refresh}},[s("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"list-cell",attrs:{"infinite-scroll-disabled":"disabledLoad","infinite-scroll-distance":"10"}},[t._l(t.list,function(e){return[s("li",[s("mt-cell",{attrs:{title:e.title,"is-link":""},nativeOn:{click:function(s){t.$router.push({path:"/apply/detail",query:{applyNo:e.applyNo}})}}},[s("mt-badge",{staticClass:"space-m-r",attrs:{color:t.statusBadgeColor(e.auditStatus)}},[t._v(t._s(t.statusStr(e.auditStatus)))]),t._v(" "),s("span",[t._v(t._s(t.$dateUtils.getShortDate(e.createTime)))])],1)],1)]})],2),t._v(" "),s("c-loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]})],1)},a=[],r={render:i,staticRenderFns:a};e.a=r},1207:function(t,e,s){var i=s(1208);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s(664)("41b7c564",i,!0)},1208:function(t,e,s){e=t.exports=s(663)(!1),e.push([t.i,"",""])},1209:function(t,e,s){"use strict";e.a={name:"Submit",data:function(){return{}},methods:{}}},1210:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("router-view")},a=[],r={render:i,staticRenderFns:a};e.a=r},1211:function(t,e,s){var i=s(1212);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s(664)("6793b916",i,!0)},1212:function(t,e,s){e=t.exports=s(663)(!1),e.push([t.i,"",""])},1213:function(t,e,s){"use strict";var i=s(102),a=s.n(i),r=s(739),n=s(745),o=s(755),l=s(223),c=void 0;e.a={name:"WorkOff",mixins:[r.a,n.a,o.a],data:function(){var t=this,e=function(e,s,i){t.$refs.form.validateField("beginTime"),i()},s=function(e,s,i){""===t.form.beginTime||""===t.form.endTime?i():t.form.beginTime>t.form.endTime?i(new Error(e.message)):i()},i=function(e,s,i){s>t.remaining?i(new Error("调休时间不能超过可用时间"+t.remaining)):i()},r=(new Date).format("yyyy-MM-dd");return{saving:!1,remaining:0,show:{department:"",orgId:""},form:{department:"",orgId:"",hours:7.5,beginTime:r+" 08:30:00",endTime:r+" 17:30:00",reason:""},rules:{department:this.$checkRules.department,hours:[].concat(a()(this.$checkRules.hours),[this.$checkRules.range({min:1},"不能小于1"),{validator:i,trigger:"blur,change"}]),beginTime:[].concat(a()(this.$checkRules.beginTime),[{validator:s,trigger:"change",message:"开始时间应该小于结束时间"}]),endTime:[].concat(a()(this.$checkRules.endTime),[{validator:e,trigger:"change"}])}}},computed:{departmentName:function(){return c.isEmpty(this.departments)?"":this.departments[0].departmentName}},beforeCreate:function(){c=this.$lodash},created:function(){var t=this;this.$_getDepartments().then(function(e){t.form.department=e[0].id}),this.getOption("MyGroup"),this.refreshRemaining()},destroyed:function(){c=null},watch:{"form.beginTime":function(t,e){t===e||c.isEmpty(t)||(c.isEmpty(this.form.endTime)||c.isEmpty(t)||(this.form.hours=this.$dateUtils.getWorkTimeHours(Object(l.b)(t),Object(l.b)(this.form.endTime))),this.refreshRemaining())},"form.endTime":function(t,e){if(t!==e&&!c.isEmpty(t)){var s=Object(l.b)(t);c.isEmpty(this.form.beginTime)||(this.form.hours=this.$dateUtils.getWorkTimeHours(Object(l.b)(this.form.beginTime),s))}}},methods:{refreshRemaining:function(){var t=this;this.$service.personal.queryMyHours({beginTime:this.form.beginTime}).then(function(e){t.remaining=e.data})},handleSubmit:function(){var t=this;this.$refs.form.validate(function(e){e?t.$messagebox.confirm("确认要提交?").then(function(){t.saving=!0,t.$service.apply.addWorkOff(t.form).then(function(){t.$router.replace("/main")}).finally(function(){t.saving=!1})}):t.$webUtil.error("校验不通过")})}}}},1214:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"oa-fixed"},[s("mt-header",{attrs:{title:"调休申请"}},[s("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(e){t.$router.back()}},slot:"left"})],1),t._v(" "),s("section",{staticClass:"fixBottom"},[s("c-button",{attrs:{disabled:t.saving,type:"submit",size:"large"},on:{click:t.handleSubmit}},[t._v("提交申请")])],1),t._v(" "),s("c-form",{ref:"form",attrs:{rules:t.rules}},[s("ul",{staticClass:"oa-form-list"},[s("li",[s("c-field",{attrs:{label:"姓名",value:t.userInfo.realName,disabled:""}})],1),t._v(" "),s("li",[s("c-field",{attrs:{label:"部门",value:t.departmentName,disabled:""}})],1),t._v(" "),s("li",{on:{click:function(){return t.$refs.myGroup.open()}}},[s("c-field",{attrs:{label:"组织",placeholder:"请选择",type:"text",disabled:""},model:{value:t.show.orgId,callback:function(e){t.$set(t.show,"orgId",e)},expression:"show.orgId"}},[s("i",{staticClass:"el-icon-arrow-right font-blue"})])],1),t._v(" "),s("li",{on:{click:function(){return t.$refs.beginTime.open()}}},[s("c-field",{attrs:{label:"开始时间",prop:"beginTime",placeholder:"请选择",type:"text",disabled:""},model:{value:t.form.beginTime,callback:function(e){t.$set(t.form,"beginTime",e)},expression:"form.beginTime"}},[s("i",{staticClass:"el-icon-arrow-right font-blue"})])],1),t._v(" "),s("li",{on:{click:function(){return t.$refs.endTime.open()}}},[s("c-field",{attrs:{label:"结束时间",prop:"endTime",placeholder:"请选择",type:"text",disabled:""},model:{value:t.form.endTime,callback:function(e){t.$set(t.form,"endTime",e)},expression:"form.endTime"}},[s("i",{staticClass:"el-icon-arrow-right font-blue"})])],1),t._v(" "),s("li",[s("c-field",{attrs:{label:"可用时间",value:t.remaining,disabled:""}},[s("span",{staticClass:"font-blue"},[t._v("小时")])])],1),t._v(" "),s("li",[s("c-field",{attrs:{label:"调休时长",prop:"hours",placeholder:"请填写",type:"number"},model:{value:t.form.hours,callback:function(e){t.$set(t.form,"hours",e)},expression:"form.hours"}},[s("span",{staticClass:"font-blue"},[t._v("小时")])])],1),t._v(" "),s("li",[s("c-field",{attrs:{label:"调休事由",placeholder:"请填写",type:"text"},model:{value:t.form.reason,callback:function(e){t.$set(t.form,"reason",e)},expression:"form.reason"}})],1)])]),t._v(" "),s("c-select-popup",{ref:"myGroup",attrs:{options:t.options.MyGroup},on:{show:function(e){return t.show.orgId=e}},model:{value:t.form.orgId,callback:function(e){t.$set(t.form,"orgId",e)},expression:"form.orgId"}}),t._v(" "),s("c-date-time-picker",{ref:"beginTime",attrs:{"start-hour":8,"end-hour":17,"step-minute":30},model:{value:t.form.beginTime,callback:function(e){t.$set(t.form,"beginTime",e)},expression:"form.beginTime"}}),t._v(" "),s("c-date-time-picker",{ref:"endTime",attrs:{"start-hour":8,"end-hour":17,"step-minute":30},model:{value:t.form.endTime,callback:function(e){t.$set(t.form,"endTime",e)},expression:"form.endTime"}})],1)},a=[],r={render:i,staticRenderFns:a};e.a=r},1215:function(t,e,s){var i=s(1216);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s(664)("24632489",i,!0)},1216:function(t,e,s){e=t.exports=s(663)(!1),e.push([t.i,"",""])},1217:function(t,e,s){"use strict";var i=s(102),a=s.n(i),r=s(739),n=s(745),o=s(755),l=void 0;e.a={name:"Vacation",mixins:[r.a,n.a,o.a],data:function(){var t=this,e=(new Date).format("yyyy-MM-dd"),s=function(e,s,i){t.$refs.form.validateField("beginTime"),i()},i=function(e,s,i){""===t.form.beginTime||""===t.form.endTime?i():t.form.beginTime>t.form.endTime?i(new Error(e.message)):i()};return{saving:!1,remaining:0,duration:"7.5",unit:"小时",show:{department:"",vacationType:"",orgId:""},form:{department:"",vacationType:"",orgId:"",beginTime:e+" 08:30:00",endTime:e+" 17:30:00",reason:""},rules:{department:this.$checkRules.department,vacationType:this.$checkRules.vacationType,beginTime:[].concat(a()(this.$checkRules.beginTime),[{validator:i,trigger:"change",message:"开始时间应该小于结束时间"}]),endTime:[].concat(a()(this.$checkRules.endTime),[{validator:s,trigger:"change"}])}}},computed:{departmentName:function(){return l.isEmpty(this.departments)?"":this.departments[0].departmentName}},created:function(){var t=this;l=this.$lodash,this.$_getDepartments().then(function(e){t.form.department=e[0].id}),this.getOption("MyGroup"),this.getOption("VacationType"),this.refreshDuration()},destroyed:function(){l=null},watch:{"form.vacationType":function(t,e){t!==e&&(this.form.beginTime=this.$dateUtils.getShortDate(this.form.beginTime)+" 08:30:00",this.form.endTime=this.$dateUtils.getShortDate(this.form.endTime)+" 17:30:00",this.refreshDuration())},"form.beginTime":function(t,e){t!==e&&this.refreshDuration()},"form.endTime":function(t,e){t!==e&&this.refreshDuration()}},methods:{refreshDuration:function(){var t=this;l.isEmpty(this.form.vacationType)||l.isEmpty(this.form.beginTime)||l.isEmpty(this.form.endTime)||this.$service.system.getLeaveDuration({leaveType:this.form.vacationType,beginTime:this.form.beginTime,endTime:this.form.endTime}).then(function(e){t.duration=e.data.duration,t.unit=e.data.unit})},handleSubmit:function(){var t=this;this.$refs.form.validate(function(e){e?t.$messagebox.confirm("确认要提交?").then(function(){t.saving=!0,t.$service.apply.addVacation(t.form).then(function(){t.$router.replace("/main")}).finally(function(){t.saving=!1})}):t.$webUtil.error("校验不通过")})}}}},1218:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"oa-fixed"},[s("mt-header",{attrs:{title:"请假申请"}},[s("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(e){t.$router.back()}},slot:"left"})],1),t._v(" "),s("section",{staticClass:"fixBottom"},[s("c-button",{attrs:{disabled:t.saving,type:"submit",size:"large"},on:{click:t.handleSubmit}},[t._v("提交申请")])],1),t._v(" "),s("c-form",{ref:"form",attrs:{rules:t.rules}},[s("ul",{staticClass:"oa-form-list"},[s("li",[s("c-field",{attrs:{label:"姓名",value:t.userInfo.realName,disabled:""}})],1),t._v(" "),s("li",[s("c-field",{attrs:{label:"部门",value:t.departmentName,disabled:""}})],1),t._v(" "),s("li",{on:{click:function(){return t.$refs.myGroup.open()}}},[s("c-field",{attrs:{label:"组织",placeholder:"请选择",type:"text",disabled:""},model:{value:t.show.orgId,callback:function(e){t.$set(t.show,"orgId",e)},expression:"show.orgId"}},[s("i",{staticClass:"el-icon-arrow-right font-blue"})])],1),t._v(" "),s("li",{on:{click:function(){return t.$refs.vacationType.open()}}},[s("c-field",{attrs:{label:"请假类别",placeholder:"请选择",prop:"vacationType",type:"text",disabled:""},model:{value:t.show.vacationType,callback:function(e){t.$set(t.show,"vacationType",e)},expression:"show.vacationType"}},[s("i",{staticClass:"el-icon-arrow-right font-blue"})])],1),t._v(" "),s("li",{on:{click:function(){return t.$refs.beginTime.open()}}},[s("c-field",{attrs:{label:"开始时间",prop:"beginTime",placeholder:"请选择",type:"text",disabled:""},model:{value:t.form.beginTime,callback:function(e){t.$set(t.form,"beginTime",e)},expression:"form.beginTime"}},[s("i",{staticClass:"el-icon-arrow-right font-blue"})])],1),t._v(" "),s("li",{on:{click:function(){return t.$refs.endTime.open()}}},[s("c-field",{attrs:{label:"结束时间",prop:"endTime",placeholder:"请选择",type:"text",disabled:""},model:{value:t.form.endTime,callback:function(e){t.$set(t.form,"endTime",e)},expression:"form.endTime"}},[s("i",{staticClass:"el-icon-arrow-right font-blue"})])],1),t._v(" "),s("li",[s("c-field",{attrs:{label:"请假时长",placeholder:"请填写",type:"text",disabled:""},model:{value:t.duration,callback:function(e){t.duration=e},expression:"duration"}},[s("span",{staticClass:"font-blue"},[t._v(t._s(t.unit))])])],1),t._v(" "),s("li",[s("c-field",{attrs:{label:"请假事由",placeholder:"请填写",type:"text"},model:{value:t.form.reason,callback:function(e){t.$set(t.form,"reason",e)},expression:"form.reason"}})],1)])]),t._v(" "),s("c-select-popup",{ref:"myGroup",attrs:{options:t.options.MyGroup},on:{show:function(e){return t.show.orgId=e}},model:{value:t.form.orgId,callback:function(e){t.$set(t.form,"orgId",e)},expression:"form.orgId"}}),t._v(" "),s("c-select-popup",{ref:"vacationType",attrs:{options:t.options.VacationType},on:{show:function(e){return t.show.vacationType=e}},model:{value:t.form.vacationType,callback:function(e){t.$set(t.form,"vacationType",e)},expression:"form.vacationType"}}),t._v(" "),s("c-date-time-picker",{ref:"beginTime",attrs:{"start-hour":8,"end-hour":17,"step-minute":30},model:{value:t.form.beginTime,callback:function(e){t.$set(t.form,"beginTime",e)},expression:"form.beginTime"}}),t._v(" "),s("c-date-time-picker",{ref:"endTime",attrs:{"start-hour":8,"end-hour":17,"step-minute":30},model:{value:t.form.endTime,callback:function(e){t.$set(t.form,"endTime",e)},expression:"form.endTime"}})],1)},a=[],r={render:i,staticRenderFns:a};e.a=r},1219:function(t,e,s){var i=s(1220);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s(664)("4eb19f62",i,!0)},1220:function(t,e,s){e=t.exports=s(663)(!1),e.push([t.i,"",""])},1221:function(t,e,s){"use strict";var i=s(739),a=s(745),r=s(755),n=void 0;e.a={name:"OverTime",mixins:[i.a,a.a,r.a],data:function(){return{saving:!1,remaining:0,show:{department:"",orgId:"",applyIds:[],reasonType:""},form:{department:"",orgId:"",beginTime:(new Date).format("yyyy-MM-dd")+" 08:30:00",reasonType:"",applyIds:[],reason:""},rules:{department:this.$checkRules.department,beginTime:this.$checkRules.beginTime,reasonType:this.$checkRules.reasonType}}},computed:{departmentName:function(){return n.isEmpty(this.departments)?"":this.departments[0].departmentName}},created:function(){var t=this;n=this.$lodash,this.$_getDepartments().then(function(e){t.form.department=e[0].id}),this.$_getUserInfo().then(function(e){n.isEmpty(t.form.applyIds)&&(t.form.applyIds=[e.id])}),this.getOption("MyGroup"),this.getOption("OvertimeType")},destroyed:function(){n=null},methods:{handleSubmit:function(){var t=this;this.$refs.form.validate(function(e){e?t.$messagebox.confirm("确认要提交?").then(function(){t.saving=!0,t.$service.apply.addOvertime(t.form).then(function(){t.$router.replace("/main")}).finally(function(){t.saving=!1})}):t.$webUtil.error("校验不通过")})}}}},1222:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"oa-fixed"},[s("mt-header",{attrs:{title:"加班申请"}},[s("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(e){t.$router.back()}},slot:"left"})],1),t._v(" "),s("section",{staticClass:"fixBottom"},[s("c-button",{attrs:{disabled:t.saving,type:"submit",size:"large"},on:{click:t.handleSubmit}},[t._v("提交申请")])],1),t._v(" "),s("c-form",{ref:"form",attrs:{rules:t.rules}},[s("ul",{staticClass:"oa-form-list"},[s("li",[s("c-field",{attrs:{label:"姓名",value:t.userInfo.realName,disabled:""}})],1),t._v(" "),s("li",[s("c-field",{attrs:{label:"部门",value:t.departmentName,disabled:""}})],1),t._v(" "),s("li",{on:{click:function(){return t.$refs.myGroup.open()}}},[s("c-field",{attrs:{label:"组织",placeholder:"请选择",type:"text",disabled:""},model:{value:t.show.orgId,callback:function(e){t.$set(t.show,"orgId",e)},expression:"show.orgId"}},[s("i",{staticClass:"el-icon-arrow-right font-blue"})])],1),t._v(" "),s("li",{on:{click:function(){return t.$refs.overtimeType.open()}}},[s("c-field",{attrs:{label:"加班原因",placeholder:"请选择",prop:"reasonType",type:"text",disabled:""},model:{value:t.show.reasonType,callback:function(e){t.$set(t.show,"reasonType",e)},expression:"show.reasonType"}},[s("i",{staticClass:"el-icon-arrow-right font-blue"})])],1),t._v(" "),s("li",[s("c-field",{attrs:{label:"加班内容",placeholder:"请填写",type:"text"},model:{value:t.form.reason,callback:function(e){t.$set(t.form,"reason",e)},expression:"form.reason"}})],1),t._v(" "),s("li",{on:{click:function(){return t.$refs.beginTime.open()}}},[s("c-field",{attrs:{label:"加班时间",prop:"beginTime",placeholder:"请选择",type:"text",disabled:""},model:{value:t.form.beginTime,callback:function(e){t.$set(t.form,"beginTime",e)},expression:"form.beginTime"}},[s("i",{staticClass:"el-icon-arrow-right font-blue"})])],1),t._v(" "),s("li",{on:{click:function(){return t.$refs.applyIds.open()}}},[s("c-field",{attrs:{label:"加班人员",placeholder:"请选择",prop:"applyIds",type:"text",disabled:""},model:{value:t.show.applyIds,callback:function(e){t.$set(t.show,"applyIds",e)},expression:"show.applyIds"}},[s("i",{staticClass:"el-icon-arrow-right font-blue"})])],1)])]),t._v(" "),s("c-select-popup",{ref:"myGroup",attrs:{options:t.options.MyGroup},on:{show:function(e){return t.show.orgId=e}},model:{value:t.form.orgId,callback:function(e){t.$set(t.form,"orgId",e)},expression:"form.orgId"}}),t._v(" "),s("c-select-popup",{ref:"overtimeType",attrs:{options:t.options.OvertimeType},on:{show:function(e){return t.show.reasonType=e}},model:{value:t.form.reasonType,callback:function(e){t.$set(t.form,"reasonType",e)},expression:"form.reasonType"}}),t._v(" "),s("c-date-time-picker",{ref:"beginTime",attrs:{"start-hour":0,"end-hour":23,"step-minute":30},model:{value:t.form.beginTime,callback:function(e){t.$set(t.form,"beginTime",e)},expression:"form.beginTime"}}),t._v(" "),s("c-user-select-popup",{ref:"applyIds",attrs:{options:t.options.OvertimeType,multiple:""},on:{show:function(e){return t.show.applyIds=e}},model:{value:t.form.applyIds,callback:function(e){t.$set(t.form,"applyIds",e)},expression:"form.applyIds"}})],1)},a=[],r={render:i,staticRenderFns:a};e.a=r},1223:function(t,e,s){var i=s(1224);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s(664)("b06324a6",i,!0)},1224:function(t,e,s){e=t.exports=s(663)(!1),e.push([t.i,"",""])},1225:function(t,e,s){"use strict";var i=s(102),a=s.n(i),r=s(739),n=s(745),o=s(755),l=s(223),c=void 0;e.a={name:"Egression",mixins:[r.a,n.a,o.a],data:function(){var t=this,e=function(e,s,i){t.$refs.form.validateField("beginTime"),i()},s=function(e,s,i){""===t.form.beginTime||""===t.form.endTime?i():t.form.beginTime>t.form.endTime?i(new Error(e.message)):i()},i=(new Date).format("yyyy-MM-dd");return{saving:!1,show:{department:"",orgId:"",applyIds:[]},form:{department:"",orgId:"",hours:7.5,beginTime:i+" 08:30:00",endTime:i+" 17:30:00",applyIds:[],reason:""},rules:{department:this.$checkRules.department,hours:[].concat(a()(this.$checkRules.hours),[this.$checkRules.range({min:1},"不能小于1")]),beginTime:[].concat(a()(this.$checkRules.beginTime),[{validator:s,trigger:"change",message:"开始时间应该小于结束时间"}]),endTime:[].concat(a()(this.$checkRules.endTime),[{validator:e,trigger:"change"}])}}},computed:{departmentName:function(){return c.isEmpty(this.departments)?"":this.departments[0].departmentName}},created:function(){var t=this;c=this.$lodash,this.$_getDepartments().then(function(e){t.form.department=e[0].id}),this.$_getUserInfo().then(function(e){c.isEmpty(t.form.applyIds)&&(t.form.applyIds=[e.id])}),this.getOption("MyGroup")},destroyed:function(){c=null},watch:{"form.beginTime":function(t,e){t!==e&&(c.isEmpty(this.form.endTime)||c.isEmpty(t)||(this.form.hours=this.$dateUtils.getWorkTimeHours(Object(l.b)(t),Object(l.b)(this.form.endTime),!1)))},"form.endTime":function(t,e){if(t!==e&&!c.isEmpty(t)){var s=Object(l.b)(t);c.isEmpty(this.form.beginTime)||(this.form.hours=this.$dateUtils.getWorkTimeHours(Object(l.b)(this.form.beginTime),s,!1))}}},methods:{handleSubmit:function(){var t=this;this.$refs.form.validate(function(e){e?t.$messagebox.confirm("确认要提交?").then(function(){t.saving=!0,t.$service.apply.addEgression(t.form).then(function(){t.$router.replace("/main")}).finally(function(){t.saving=!1})}):t.$webUtil.error("校验不通过")})}}}},1226:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"oa-fixed"},[s("mt-header",{attrs:{title:"外出申请"}},[s("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(e){t.$router.back()}},slot:"left"})],1),t._v(" "),s("section",{staticClass:"fixBottom"},[s("c-button",{attrs:{disabled:t.saving,type:"submit",size:"large"},on:{click:t.handleSubmit}},[t._v("提交申请")])],1),t._v(" "),s("c-form",{ref:"form",attrs:{rules:t.rules}},[s("ul",{staticClass:"oa-form-list"},[s("li",[s("c-field",{attrs:{label:"姓名",value:t.userInfo.realName,disabled:""}})],1),t._v(" "),s("li",[s("c-field",{attrs:{label:"部门",value:t.departmentName,disabled:""}})],1),t._v(" "),s("li",{on:{click:function(){return t.$refs.myGroup.open()}}},[s("c-field",{attrs:{label:"组织",placeholder:"请选择",type:"text",disabled:""},model:{value:t.show.orgId,callback:function(e){t.$set(t.show,"orgId",e)},expression:"show.orgId"}},[s("i",{staticClass:"el-icon-arrow-right font-blue"})])],1),t._v(" "),s("li",{on:{click:function(){return t.$refs.beginTime.open()}}},[s("c-field",{attrs:{label:"开始时间",prop:"beginTime",placeholder:"请选择",type:"text",disabled:""},model:{value:t.form.beginTime,callback:function(e){t.$set(t.form,"beginTime",e)},expression:"form.beginTime"}},[s("i",{staticClass:"el-icon-arrow-right font-blue"})])],1),t._v(" "),s("li",{on:{click:function(){return t.$refs.endTime.open()}}},[s("c-field",{attrs:{label:"结束时间",prop:"endTime",placeholder:"请选择",type:"text",disabled:""},model:{value:t.form.endTime,callback:function(e){t.$set(t.form,"endTime",e)},expression:"form.endTime"}},[s("i",{staticClass:"el-icon-arrow-right font-blue"})])],1),t._v(" "),s("li",[s("c-field",{attrs:{label:"外出时长",prop:"hours",placeholder:"请填写",type:"number"},model:{value:t.form.hours,callback:function(e){t.$set(t.form,"hours",e)},expression:"form.hours"}},[s("span",{staticClass:"font-blue"},[t._v("小时")])])],1),t._v(" "),s("li",[s("c-field",{attrs:{label:"外出事由",placeholder:"请填写",type:"text"},model:{value:t.form.reason,callback:function(e){t.$set(t.form,"reason",e)},expression:"form.reason"}})],1),t._v(" "),s("li",{on:{click:function(){return t.$refs.applyIds.open()}}},[s("c-field",{attrs:{label:"外出人员",placeholder:"请选择",prop:"applyIds",type:"text",disabled:""},model:{value:t.show.applyIds,callback:function(e){t.$set(t.show,"applyIds",e)},expression:"show.applyIds"}},[s("i",{staticClass:"el-icon-arrow-right font-blue"})])],1)])]),t._v(" "),s("c-select-popup",{ref:"myGroup",attrs:{options:t.options.MyGroup},on:{show:function(e){return t.show.orgId=e}},model:{value:t.form.orgId,callback:function(e){t.$set(t.form,"orgId",e)},expression:"form.orgId"}}),t._v(" "),s("c-date-time-picker",{ref:"beginTime",attrs:{"start-hour":8,"end-hour":17,"step-minute":30},model:{value:t.form.beginTime,callback:function(e){t.$set(t.form,"beginTime",e)},expression:"form.beginTime"}}),t._v(" "),s("c-date-time-picker",{ref:"endTime",attrs:{"start-hour":8,"end-hour":17,"step-minute":30},model:{value:t.form.endTime,callback:function(e){t.$set(t.form,"endTime",e)},expression:"form.endTime"}}),t._v(" "),s("c-user-select-popup",{ref:"applyIds",attrs:{options:t.options.OvertimeType,multiple:""},on:{show:function(e){return t.show.applyIds=e}},model:{value:t.form.applyIds,callback:function(e){t.$set(t.form,"applyIds",e)},expression:"form.applyIds"}})],1)},a=[],r={render:i,staticRenderFns:a};e.a=r},1227:function(t,e,s){var i=s(1228);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s(664)("0b5744f5",i,!0)},1228:function(t,e,s){e=t.exports=s(663)(!1),e.push([t.i,"",""])},1229:function(t,e,s){"use strict";var i=s(102),a=s.n(i),r=s(739),n=s(745),o=s(755),l=s(223),c=void 0;e.a={name:"BusinessTrip",mixins:[r.a,n.a,o.a],data:function(){var t=this,e=function(e,s,i){t.$refs.form.validateField("beginTime"),i()},s=function(e,s,i){""===t.form.beginTime||""===t.form.endTime?i():t.form.beginTime>t.form.endTime?i(new Error(e.message)):i()},i=(new Date).format("yyyy-MM-dd");return{saving:!1,cityIndex:"",cityKey:"",show:{department:"",orgId:"",applyIds:[],transportations:[]},form:{department:"",orgId:"",days:1,beginTime:i+" 08:30:00",endTime:i+" 17:30:00",applyIds:[],transportations:[],trips:[{from:"",to:""}],reason:""},rules:{department:this.$checkRules.department,from:this.$checkRules.from,to:this.$checkRules.to,beginTime:[].concat(a()(this.$checkRules.beginTime),[{validator:s,trigger:"change",message:"开始时间应该小于结束时间"}]),endTime:[].concat(a()(this.$checkRules.endTime),[{validator:e,trigger:"change"}])}}},computed:{departmentName:function(){return c.isEmpty(this.departments)?"":this.departments[0].departmentName},exceptUsers:function(){return c.isEmpty(this.userInfo)?[]:[this.userInfo.id]}},created:function(){var t=this;c=this.$lodash,this.$_getDepartments().then(function(e){t.form.department=e[0].id}),this.getOption("MyGroup"),this.getOption("Transportation")},destroyed:function(){c=null},watch:{"form.beginTime":function(t,e){t!==e&&(c.isEmpty(this.form.endTime)||c.isEmpty(t)||(this.form.days=this.getDays(Object(l.b)(t),Object(l.b)(this.form.endTime))))},"form.endTime":function(t,e){t===e||c.isEmpty(t)||c.isEmpty(this.form.beginTime)||(this.form.days=this.getDays(Object(l.b)(this.form.beginTime),Object(l.b)(t)))}},methods:{addJourney:function(){this.form.trips.push({from:"",to:""})},removeJourney:function(t){this.form.trips.splice(t,1)},getDays:function(t,e){var s=this.$dateUtils.getWorkTimeHours(t,e,!1),i=parseInt(s.div(7.5));return s%7.5>0&&(i+=.5),c.round(i,1)},handleSubmit:function(){var t=this;this.$refs.form.validate(function(e){e?t.$messagebox.confirm("确认要提交?").then(function(){t.saving=!0,t.$service.apply.addBusinessTrip(t.form).then(function(){t.$router.replace("/main")}).finally(function(){t.saving=!1})}):t.$webUtil.error("校验不通过")})},onCitySelect:function(t){this.form.trips[this.cityIndex][this.cityKey]=t},fromClick:function(t){this.$refs.city.open(),this.cityIndex=t,this.cityKey="from"},toClick:function(t){this.$refs.city.open(),this.cityIndex=t,this.cityKey="to"}}}},1230:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"oa-fixed"},[s("mt-header",{attrs:{title:"出差申请"}},[s("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(e){t.$router.back()}},slot:"left"})],1),t._v(" "),s("section",{staticClass:"fixBottom"},[s("c-button",{attrs:{disabled:t.saving,type:"submit",size:"large"},on:{click:t.handleSubmit}},[t._v("提交申请")])],1),t._v(" "),s("c-form",{ref:"form",attrs:{rules:t.rules}},[s("ul",{staticClass:"oa-form-list"},[s("li",[s("c-field",{attrs:{label:"姓名",value:t.userInfo.realName,disabled:""}})],1),t._v(" "),s("li",[s("c-field",{attrs:{label:"部门",value:t.departmentName,disabled:""}})],1),t._v(" "),s("li",{on:{click:function(){return t.$refs.myGroup.open()}}},[s("c-field",{attrs:{label:"组织",placeholder:"请选择",type:"text",disabled:""},model:{value:t.show.orgId,callback:function(e){t.$set(t.show,"orgId",e)},expression:"show.orgId"}},[s("i",{staticClass:"el-icon-arrow-right font-blue"})])],1),t._v(" "),t._l(t.form.trips,function(e,i){return[s("li",{staticClass:"oa-form-addc"},[s("mt-cell",{staticClass:"mint-field is-required",attrs:{title:"行程"+(i+1),disabled:""}},[s("div",{staticClass:"oa-form-input"},[s("c-field",{staticClass:"default-input",attrs:{prop:"from",placeholder:"出发地",type:"text",disabled:""},nativeOn:{click:function(e){t.fromClick(i)}},model:{value:e.from,callback:function(s){t.$set(e,"from",s)},expression:"item.from"}}),t._v(" "),s("c-field",{staticClass:"default-input",attrs:{prop:"to",placeholder:"目的地",type:"text",disabled:""},nativeOn:{click:function(e){t.toClick(i)}},model:{value:e.to,callback:function(s){t.$set(e,"to",s)},expression:"item.to"}})],1)]),t._v(" "),0==i?s("i",{staticClass:"el-icon-plus font-blue oa-form-btn",on:{click:t.addJourney}}):s("i",{staticClass:"el-icon-delete font-red oa-form-btn",on:{click:function(e){t.removeJourney(i)}}})],1)]}),t._v(" "),s("li",{on:{click:function(){return t.$refs.beginTime.open()}}},[s("c-field",{attrs:{label:"开始时间",prop:"beginTime",placeholder:"请选择",type:"text",disabled:""},model:{value:t.form.beginTime,callback:function(e){t.$set(t.form,"beginTime",e)},expression:"form.beginTime"}},[s("i",{staticClass:"el-icon-arrow-right font-blue"})])],1),t._v(" "),s("li",{on:{click:function(){return t.$refs.endTime.open()}}},[s("c-field",{attrs:{label:"结束时间",prop:"endTime",placeholder:"请选择",type:"text",disabled:""},model:{value:t.form.endTime,callback:function(e){t.$set(t.form,"endTime",e)},expression:"form.endTime"}},[s("i",{staticClass:"el-icon-arrow-right font-blue"})])],1),t._v(" "),s("li",[s("c-field",{attrs:{label:"出差时长",prop:"days",placeholder:"请填写",disabled:""},model:{value:t.form.days,callback:function(e){t.$set(t.form,"days",e)},expression:"form.days"}},[s("span",{staticClass:"font-blue"},[t._v("天")])])],1),t._v(" "),s("li",[s("c-field",{attrs:{label:"出差事由",placeholder:"请填写",type:"text"},model:{value:t.form.reason,callback:function(e){t.$set(t.form,"reason",e)},expression:"form.reason"}})],1),t._v(" "),s("li",{on:{click:function(){return t.$refs.transportations.open()}}},[s("c-field",{attrs:{label:"交通工具",placeholder:"请选择",prop:"transportations",type:"text",disabled:""},model:{value:t.show.transportations,callback:function(e){t.$set(t.show,"transportations",e)},expression:"show.transportations"}},[s("i",{staticClass:"el-icon-arrow-right font-blue"})])],1),t._v(" "),s("li",{on:{click:function(){return t.$refs.applyIds.open()}}},[s("c-field",{attrs:{label:"陪同人员",placeholder:"请选择",prop:"applyIds",type:"text",disabled:""},model:{value:t.show.applyIds,callback:function(e){t.$set(t.show,"applyIds",e)},expression:"show.applyIds"}},[s("i",{staticClass:"el-icon-arrow-right font-blue"})])],1)],2)]),t._v(" "),s("c-select-popup",{ref:"myGroup",attrs:{options:t.options.MyGroup},on:{show:function(e){return t.show.orgId=e}},model:{value:t.form.orgId,callback:function(e){t.$set(t.form,"orgId",e)},expression:"form.orgId"}}),t._v(" "),s("c-date-time-picker",{ref:"beginTime",attrs:{"time-select":"",pickerTimeOptions:{start:"08:30",step:"05:00",end:"13:30"}},model:{value:t.form.beginTime,callback:function(e){t.$set(t.form,"beginTime",e)},expression:"form.beginTime"}}),t._v(" "),s("c-date-time-picker",{ref:"endTime",attrs:{"time-select":"",pickerTimeOptions:{start:"12:00",step:"05:30",end:"17:30"}},model:{value:t.form.endTime,callback:function(e){t.$set(t.form,"endTime",e)},expression:"form.endTime"}}),t._v(" "),s("c-muti-select-popup",{ref:"transportations",attrs:{options:t.options.Transportation},on:{show:function(e){return t.show.transportations=e}},model:{value:t.form.transportations,callback:function(e){t.$set(t.form,"transportations",e)},expression:"form.transportations"}}),t._v(" "),s("c-user-select-popup",{ref:"applyIds",attrs:{excepts:t.exceptUsers,multiple:""},on:{show:function(e){return t.show.applyIds=e}},model:{value:t.form.applyIds,callback:function(e){t.$set(t.form,"applyIds",e)},expression:"form.applyIds"}}),t._v(" "),s("c-city-select-popup",{ref:"city",on:{input:t.onCitySelect}})],1)},a=[],r={render:i,staticRenderFns:a};e.a=r},1231:function(t,e,s){var i=s(1232);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s(664)("6d911463",i,!0)},1232:function(t,e,s){e=t.exports=s(663)(!1),e.push([t.i,"",""])},1233:function(t,e,s){"use strict";e.a={name:"Main",data:function(){return{allNum:0,auditNum:0,passNum:0,rejectNum:0}},methods:{getNumStr:function(t){return t=t||0,t>0?"("+t+")":""}},mounted:function(){var t=this;this.$service.apply.getMyApplyNum().then(function(e){var s=e.data;t.allNum=s.all,t.auditNum=s[0],t.passNum=s[1],t.rejectNum=s[2]})}}},1234:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"oa-fixed"},[s("mt-header",{attrs:{title:"我发起的申请"}},[s("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(e){t.$router.push("/main")}},slot:"left"})],1),t._v(" "),s("section",{staticClass:"oa-tab"},[s("ul",{staticClass:"tabHeader"},[s("li",{class:t.$route.matched.map(function(t){return t.path}).includes("/apply/my-apply/all")?"active":""},[s("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$router.replace("/apply/my-apply/all")}}},[t._v("全部"+t._s(t.getNumStr(t.allNum)))])]),t._v(" "),s("li",{class:t.$route.matched.map(function(t){return t.path}).includes("/apply/my-apply/audit")?"active":""},[s("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$router.replace("/apply/my-apply/audit")}}},[t._v("审批中"+t._s(t.getNumStr(t.auditNum)))])]),t._v(" "),s("li",{class:t.$route.matched.map(function(t){return t.path}).includes("/apply/my-apply/pass")?"active":""},[s("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$router.replace("/apply/my-apply/pass")}}},[t._v("通过"+t._s(t.getNumStr(t.passNum)))])]),t._v(" "),s("li",{class:t.$route.matched.map(function(t){return t.path}).includes("/apply/my-apply/reject")?"active":""},[s("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$router.replace("/apply/my-apply/reject")}}},[t._v("拒绝"+t._s(t.getNumStr(t.rejectNum)))])])]),t._v(" "),s("div",{staticClass:"tabBody"},[s("keep-alive",[s("router-view")],1)],1)])],1)},a=[],r={render:i,staticRenderFns:a};e.a=r},1235:function(t,e,s){var i=s(1236);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s(664)("5ac7bc34",i,!0)},1236:function(t,e,s){e=t.exports=s(663)(!1),e.push([t.i,"",""])},1237:function(t,e,s){"use strict";var i=s(102),a=s.n(i),r=s(753),n=void 0;e.a={name:"All",mixins:[r.a],data:function(){return{page:1,disabledLoad:!1,loading:!1,pageSizes:10,list:[]}},created:function(){n={}},destroyed:function(){n=null},methods:{refresh:function(){this.page=1,this.list=[],this.loadMore()},loadMore:function(){var t=this;this.disabledLoad=!0,this.loading=!0,this.$service.apply.queryMyApplyPage(this.page,this.pageSizes,n).then(function(e){t.page++,t.list=[].concat(a()(t.list),a()(e.rows)),t.disabledLoad=t.page>e.total}).catch(function(){t.disabledLoad=!0}).finally(function(){t.loading=!1})}}}},1238:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("c-top-refresh",{ref:"loadmore",on:{refresh:t.refresh}},[s("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"list-cell",attrs:{"infinite-scroll-disabled":"disabledLoad","infinite-scroll-distance":"10"}},[t._l(t.list,function(e){return[s("li",[s("mt-cell",{attrs:{title:e.title,"is-link":""},nativeOn:{click:function(s){t.$router.push({path:"/apply/my-detail",query:{applyNo:e.applyNo}})}}},[s("mt-badge",{staticClass:"space-m-r",attrs:{color:t.statusBadgeColor(e.auditStatus)}},[t._v(t._s(t.statusStr(e.auditStatus)))]),t._v(" "),s("span",[t._v(t._s(t.$dateUtils.getShortDate(e.createTime)))])],1)],1)]})],2),t._v(" "),s("c-loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]})],1)},a=[],r={render:i,staticRenderFns:a};e.a=r},1239:function(t,e,s){var i=s(1240);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s(664)("62453f5d",i,!0)},1240:function(t,e,s){e=t.exports=s(663)(!1),e.push([t.i,"",""])},1241:function(t,e,s){"use strict";var i=s(102),a=s.n(i),r=void 0;e.a={name:"Audit",data:function(){return{page:1,disabledLoad:!1,loading:!1,pageSizes:10,list:[]}},created:function(){r={auditStatus:"audit"}},destroyed:function(){r=null},methods:{refresh:function(){this.page=1,this.list=[],this.loadMore()},loadMore:function(){var t=this;this.disabledLoad=!0,this.loading=!0,this.$service.apply.queryMyApplyPage(this.page,this.pageSizes,r).then(function(e){t.page++,t.list=[].concat(a()(t.list),a()(e.rows)),t.disabledLoad=t.page>e.total}).catch(function(){t.disabledLoad=!0}).finally(function(){t.loading=!1})}}}},1242:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("c-top-refresh",{ref:"loadmore",on:{refresh:t.refresh}},[s("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"list-cell",attrs:{"infinite-scroll-disabled":"disabledLoad","infinite-scroll-distance":"10"}},[t._l(t.list,function(e){return[s("li",[s("mt-cell",{attrs:{title:e.title,"is-link":""},nativeOn:{click:function(s){t.$router.push({path:"/apply/my-detail",query:{applyNo:e.applyNo}})}}},[s("span",[t._v(t._s(t.$dateUtils.getShortDate(e.createTime)))])])],1)]})],2),t._v(" "),s("c-loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]})],1)},a=[],r={render:i,staticRenderFns:a};e.a=r},1243:function(t,e,s){var i=s(1244);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s(664)("7b6343a6",i,!0)},1244:function(t,e,s){e=t.exports=s(663)(!1),e.push([t.i,"",""])},1245:function(t,e,s){"use strict";var i=s(102),a=s.n(i),r=void 0;e.a={name:"Pass",data:function(){return{page:1,disabledLoad:!1,loading:!1,pageSizes:10,list:[]}},created:function(){r={auditStatus:"pass"}},destroyed:function(){r=null},methods:{refresh:function(){this.page=1,this.list=[],this.loadMore()},loadMore:function(){var t=this;this.disabledLoad=!0,this.loading=!0,this.$service.apply.queryMyApplyPage(this.page,this.pageSizes,r).then(function(e){t.page++,t.list=[].concat(a()(t.list),a()(e.rows)),t.disabledLoad=t.page>e.total}).catch(function(){t.disabledLoad=!0}).finally(function(){t.loading=!1})}}}},1246:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("c-top-refresh",{ref:"loadmore",on:{refresh:t.refresh}},[s("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"list-cell",attrs:{"infinite-scroll-disabled":"disabledLoad","infinite-scroll-distance":"10"}},[t._l(t.list,function(e){return[s("li",[s("mt-cell",{attrs:{title:e.title,"is-link":""},nativeOn:{click:function(s){t.$router.push({path:"/apply/my-detail",query:{applyNo:e.applyNo}})}}},[s("span",[t._v(t._s(t.$dateUtils.getShortDate(e.createTime)))])])],1)]})],2),t._v(" "),s("c-loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]})],1)},a=[],r={render:i,staticRenderFns:a};e.a=r},1247:function(t,e,s){var i=s(1248);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s(664)("03a67954",i,!0)},1248:function(t,e,s){e=t.exports=s(663)(!1),e.push([t.i,"",""])},1249:function(t,e,s){"use strict";var i=s(102),a=s.n(i),r=void 0;e.a={name:"Reject",data:function(){return{page:1,disabledLoad:!1,loading:!1,pageSizes:10,list:[]}},created:function(){r={auditStatus:"reject"}},destroyed:function(){r=null},methods:{refresh:function(){this.page=1,this.list=[],this.loadMore()},loadMore:function(){var t=this;this.disabledLoad=!0,this.loading=!0,this.$service.apply.queryMyApplyPage(this.page,this.pageSizes,r).then(function(e){t.page++,t.list=[].concat(a()(t.list),a()(e.rows)),t.disabledLoad=t.page>e.total}).catch(function(){t.disabledLoad=!0}).finally(function(){t.loading=!1})}}}},1250:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("c-top-refresh",{ref:"loadmore",on:{refresh:t.refresh}},[s("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"list-cell",attrs:{"infinite-scroll-disabled":"disabledLoad","infinite-scroll-distance":"10"}},[t._l(t.list,function(e){return[s("li",[s("mt-cell",{attrs:{title:e.title,"is-link":""},nativeOn:{click:function(s){t.$router.push({path:"/apply/my-detail",query:{applyNo:e.applyNo}})}}},[s("span",[t._v(t._s(t.$dateUtils.getShortDate(e.createTime)))])])],1)]})],2),t._v(" "),s("c-loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]})],1)},a=[],r={render:i,staticRenderFns:a};e.a=r},1251:function(t,e,s){var i=s(1252);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s(664)("56147206",i,!0)},1252:function(t,e,s){e=t.exports=s(663)(!1),e.push([t.i,"",""])},1253:function(t,e,s){"use strict";var i=s(753);e.a={name:"Detail",mixins:[i.a],data:function(){return{detail:{applyNo:"",applyUserNames:[],beginTime:"",bizKey:"",createTime:"",endTime:"",hours:"",reason:"",submitUserId:"",submitUserName:"",summary:{},taskId:"",title:"",type:"",nextAuditUserNames:[],userTaskInfos:[]}}},computed:{summary:function(){var t=[];for(var e in this.detail.summary)t.push({key:e,value:this.detail.summary[e]});return t},userTaskInfos:function(){return this.detail.userTaskInfos.reverse()},nextAuditUserNames:function(){return this.$lodash.isEmpty(this.detail.nextAuditUserNames)?"":this.detail.nextAuditUserNames.join(",")},applyUserNames:function(){return this.$lodash.isEmpty(this.detail.applyUserNames)?"":this.detail.applyUserNames.join(",")}},created:function(){var t=this,e=this.$route.query.applyNo;this.$lodash.isEmpty(e)||this.$service.apply.detailMyApply({applyNo:e}).then(function(e){t.detail=e})},methods:{processOper:function(t){this.$service.apply.bookingTickets({applyNo:this.detail.applyNo,type:t})},handleEdit:function(){this.$router.push({name:"apply.submit."+this.detail.type,query:{applyNo:this.detail.applyNo}})}}}},1254:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"oa-fixed"},[i("mt-header",{attrs:{title:t.detail.title}},[i("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(e){t.$router.back()}},slot:"left"})],1),t._v(" "),t.detail.auditStatus==t.$constant.ApplyStatus.reject?i("mt-tabbar",{staticClass:"oa-tabbar-btnGroup"},[i("c-button",{attrs:{type:"success",size:"small"},on:{click:t.handleEdit}},[t._v("编辑")])],1):t._e(),t._v(" "),t.detail.applyNo.indexOf("CC")>-1&&t.detail.auditStatus==t.$constant.ApplyStatus.pass?i("mt-tabbar",{staticClass:"oa-tabbar-btnGroup"},[i("c-button",{attrs:{type:"success",size:"small"},on:{click:function(){return t.processOper("train")}}},[t._v("订火车票")]),t._v(" "),i("c-button",{attrs:{type:"success",size:"small"},on:{click:function(){return t.processOper("fly")}}},[t._v("订机票")]),t._v(" "),i("c-button",{attrs:{type:"success",size:"small"},on:{click:function(){return t.processOper("hotel")}}},[t._v("订酒店")])],1):t._e(),t._v(" "),i("section",{staticClass:"oa-topCard"},[i("div",{staticClass:"oa-topCard__body"},[i("mt-cell",{staticClass:"oa-topCard__title",attrs:{title:t.detail.submitUserName}},[i("img",{staticClass:"space-m-r",attrs:{slot:"icon",src:s(779),width:"18",height:"18"},slot:"icon"}),t._v(" "),i("mt-badge",{attrs:{color:t.statusBadgeColor(t.detail.auditStatus)}},[t._v(t._s(t.statusStr(t.detail.auditStatus)))])],1),t._v(" "),i("div",{staticClass:"oa-topCard__content"},[i("table",{staticClass:"oa-form oa-form-details"},[i("tr",[i("th",{attrs:{width:"80"}},[t._v("审批编号")]),t._v(" "),i("td",[t._v(t._s(t.detail.applyNo))])]),t._v(" "),i("tr",[i("th",[t._v("所在部门")]),t._v(" "),i("td",[t._v(t._s(t.detail.deptName))])])])])],1)]),t._v(" "),i("table",{staticClass:"oa-form oa-form-border"},[t._l(t.summary,function(e){return[i("tr",[i("th",{attrs:{width:"90"}},[t._v(" "+t._s(e.key)+" ")]),t._v(" "),i("td",[t._v(t._s(e.value))])])]}),t._v(" "),i("tr",[i("th",[t._v("参与人员")]),t._v(" "),i("td",[t._v(t._s(t.applyUserNames))])])],2),t._v(" "),i("hr",{staticClass:"oa-hr"}),t._v(" "),t._m(0),t._v(" "),i("section",{staticClass:"oa-timeLine"},[i("table",{staticClass:"oa-table"},[i("tbody",[t._l(t.userTaskInfos,function(e){return[t.$lodash.isEmpty(e.username)?[i("tr",[i("td",[i("span",{staticClass:"font-blue"},[t._v(t._s(t.nextAuditUserNames))]),t._v("正在审批")]),t._v(" "),i("td",{staticClass:"font-gray",attrs:{width:"120"}},[t._v("-")])])]:[i("tr",[i("td",[i("span",{staticClass:"font-blue"},[t._v(t._s(e.username))]),t._v(" "),i("span",{staticClass:"text-status"},[t._v(t._s(t.statusStr(e.audit)))]),t._v(" "),i("span",[t._v(" "+t._s(e.comment))])]),t._v(" "),i("td",{staticClass:"font-gray",attrs:{width:"120"}},[t._v("\n              "+t._s(t.$dateUtils.getFormatDate(e.auditTime,"yyyy-MM-dd hh:mm"))+"\n            ")])])]]}),t._v(" "),i("tr",[i("td",[i("span",{staticClass:"font-blue"},[t._v(t._s(t.detail.submitUserName))]),t._v("提交申请")]),t._v(" "),i("td",{staticClass:"font-gray",attrs:{width:"120"}},[t._v(t._s(t.$dateUtils.getFormatDate(t.detail.createTime,"yyyy-MM-dd hh:mm")))])])],2)])])],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h4",{staticClass:"oa-secTitle"},[s("span",{staticClass:"oa-secTitle-name"},[t._v("审批记录")])])}],r={render:i,staticRenderFns:a};e.a=r},1255:function(t,e,s){var i=s(1256);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s(664)("9434b7a8",i,!0)},1256:function(t,e,s){e=t.exports=s(663)(!1),e.push([t.i,"",""])},1257:function(t,e,s){"use strict";var i=s(739),a=s(745),r=s(755),n=void 0;e.a={name:"BusinessCars",mixins:[i.a,a.a,r.a],data:function(){return{saving:!1,remaining:0,show:{department:"",orgId:"",userName:""},form:{department:"",orgId:"",startTime:(new Date).format("yyyy-MM-dd")+" 08:30:00",startKilometer:"",reason:"",userId:"",driver:""},rules:{department:this.$checkRules.department,userId:this.$checkRules.businessCars.userId,reason:this.$checkRules.businessCars.reason,startKilometer:this.$checkRules.businessCars.startKilometer,driver:this.$checkRules.businessCars.driver}}},computed:{departmentName:function(){return n.isEmpty(this.departments)?"":this.departments[0].departmentName}},created:function(){var t=this;n=this.$lodash,this.$_getDepartments().then(function(e){t.form.department=e[0].id}),this.getOption("MyGroup"),this.getOption("OvertimeType")},destroyed:function(){n=null},methods:{handleSubmit:function(){var t=this;this.$refs.form.validate(function(e){e?t.$messagebox.confirm("确认要提交?").then(function(){t.saving=!0,t.$service.apply.addVehicleApply(t.form).then(function(){t.$router.replace("/main")}).finally(function(){t.saving=!1})}):t.$webUtil.error("校验不通过")})}}}},1258:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"oa-fixed"},[s("mt-header",{attrs:{title:"用车申请"}},[s("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(e){t.$router.back()}},slot:"left"})],1),t._v(" "),s("section",{staticClass:"fixBottom"},[s("c-button",{attrs:{disabled:t.saving,type:"submit",size:"large"},on:{click:t.handleSubmit}},[t._v("提交申请")])],1),t._v(" "),s("c-form",{ref:"form",attrs:{rules:t.rules}},[s("ul",{staticClass:"oa-form-list"},[s("li",[s("c-field",{attrs:{label:"姓名",value:t.userInfo.realName,disabled:""}})],1),t._v(" "),s("li",[s("c-field",{attrs:{label:"部门",value:t.departmentName,disabled:""}})],1),t._v(" "),s("li",{on:{click:function(){return t.$refs.myGroup.open()}}},[s("c-field",{attrs:{label:"组织",placeholder:"请选择",type:"text",disabled:""},model:{value:t.show.orgId,callback:function(e){t.$set(t.show,"orgId",e)},expression:"show.orgId"}},[s("i",{staticClass:"el-icon-arrow-right font-blue"})])],1),t._v(" "),s("li",{on:{click:function(){return t.$refs.startTime.open()}}},[s("c-field",{attrs:{label:"用车时间",prop:"startTime",placeholder:"请选择",type:"text",disabled:""},model:{value:t.form.startTime,callback:function(e){t.$set(t.form,"startTime",e)},expression:"form.startTime"}},[s("i",{staticClass:"el-icon-arrow-right font-blue"})])],1),t._v(" "),s("li",[s("c-field",{attrs:{label:"起始公里",prop:"startKilometer",placeholder:"请填写",type:"text"},model:{value:t.form.startKilometer,callback:function(e){t.$set(t.form,"startKilometer",e)},expression:"form.startKilometer"}})],1),t._v(" "),s("li",{on:{click:function(){return t.$refs.myUser.open()}}},[s("c-field",{attrs:{label:"用车人",prop:"userId",placeholder:"请填写",type:"text"},model:{value:t.show.userName,callback:function(e){t.$set(t.show,"userName",e)},expression:"show.userName"}})],1),t._v(" "),s("li",[s("c-field",{attrs:{label:"出车人",prop:"driver",placeholder:"请填写",type:"text"},model:{value:t.form.driver,callback:function(e){t.$set(t.form,"driver",e)},expression:"form.driver"}})],1),t._v(" "),s("li",[s("c-field",{attrs:{label:"事由及地点",prop:"reason",placeholder:"请填写",type:"text"},model:{value:t.form.reason,callback:function(e){t.$set(t.form,"reason",e)},expression:"form.reason"}})],1)])]),t._v(" "),s("c-select-popup",{ref:"myGroup",attrs:{options:t.options.MyGroup},on:{show:function(e){return t.show.orgId=e}},model:{value:t.form.orgId,callback:function(e){t.$set(t.form,"orgId",e)},expression:"form.orgId"}}),t._v(" "),s("c-date-time-picker",{ref:"startTime",attrs:{"start-hour":0,"end-hour":23,"step-minute":30},model:{value:t.form.startTime,callback:function(e){t.$set(t.form,"startTime",e)},expression:"form.startTime"}}),t._v(" "),s("c-user-select-popup",{ref:"myUser",attrs:{options:t.options.OvertimeType},on:{show:function(e){return t.show.userName=e}},model:{value:t.form.userId,callback:function(e){t.$set(t.form,"userId",e)},expression:"form.userId"}})],1)},a=[],r={render:i,staticRenderFns:a};e.a=r},713:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(1185),a=s(1186),r=s(68),n=r(i.a,a.a,!1,null,null,null);e.default=n.exports},714:function(t,e,s){"use strict";function i(t){s(1187)}Object.defineProperty(e,"__esModule",{value:!0});var a=s(1189),r=s(1190),n=s(68),o=i,l=n(a.a,r.a,!1,o,null,null);e.default=l.exports},715:function(t,e,s){"use strict";function i(t){s(1191)}Object.defineProperty(e,"__esModule",{value:!0});var a=s(1193),r=s(1194),n=s(68),o=i,l=n(a.a,r.a,!1,o,null,null);e.default=l.exports},716:function(t,e,s){"use strict";function i(t){s(1195)}Object.defineProperty(e,"__esModule",{value:!0});var a=s(1197),r=s(1198),n=s(68),o=i,l=n(a.a,r.a,!1,o,null,null);e.default=l.exports},717:function(t,e,s){"use strict";function i(t){s(1199)}Object.defineProperty(e,"__esModule",{value:!0});var a=s(1201),r=s(1202),n=s(68),o=i,l=n(a.a,r.a,!1,o,null,null);e.default=l.exports},718:function(t,e,s){"use strict";function i(t){s(1203)}Object.defineProperty(e,"__esModule",{value:!0});var a=s(1205),r=s(1206),n=s(68),o=i,l=n(a.a,r.a,!1,o,null,null);e.default=l.exports},719:function(t,e,s){"use strict";function i(t){s(1207)}Object.defineProperty(e,"__esModule",{value:!0});var a=s(1209),r=s(1210),n=s(68),o=i,l=n(a.a,r.a,!1,o,null,null);e.default=l.exports},720:function(t,e,s){"use strict";function i(t){s(1211)}Object.defineProperty(e,"__esModule",{value:!0});var a=s(1213),r=s(1214),n=s(68),o=i,l=n(a.a,r.a,!1,o,null,null);e.default=l.exports},721:function(t,e,s){"use strict";function i(t){s(1215)}Object.defineProperty(e,"__esModule",{value:!0});var a=s(1217),r=s(1218),n=s(68),o=i,l=n(a.a,r.a,!1,o,null,null);e.default=l.exports},722:function(t,e,s){"use strict";function i(t){s(1219)}Object.defineProperty(e,"__esModule",{value:!0});var a=s(1221),r=s(1222),n=s(68),o=i,l=n(a.a,r.a,!1,o,null,null);e.default=l.exports},723:function(t,e,s){"use strict";function i(t){s(1223)}Object.defineProperty(e,"__esModule",{value:!0});var a=s(1225),r=s(1226),n=s(68),o=i,l=n(a.a,r.a,!1,o,null,null);e.default=l.exports},724:function(t,e,s){"use strict";function i(t){s(1227)}Object.defineProperty(e,"__esModule",{value:!0});var a=s(1229),r=s(1230),n=s(68),o=i,l=n(a.a,r.a,!1,o,null,null);e.default=l.exports},725:function(t,e,s){"use strict";function i(t){s(1231)}Object.defineProperty(e,"__esModule",{value:!0});var a=s(1233),r=s(1234),n=s(68),o=i,l=n(a.a,r.a,!1,o,null,null);e.default=l.exports},726:function(t,e,s){"use strict";function i(t){s(1235)}Object.defineProperty(e,"__esModule",{value:!0});var a=s(1237),r=s(1238),n=s(68),o=i,l=n(a.a,r.a,!1,o,null,null);e.default=l.exports},727:function(t,e,s){"use strict";function i(t){s(1239)}Object.defineProperty(e,"__esModule",{value:!0});var a=s(1241),r=s(1242),n=s(68),o=i,l=n(a.a,r.a,!1,o,null,null);e.default=l.exports},728:function(t,e,s){"use strict";function i(t){s(1243)}Object.defineProperty(e,"__esModule",{value:!0});var a=s(1245),r=s(1246),n=s(68),o=i,l=n(a.a,r.a,!1,o,null,null);e.default=l.exports},729:function(t,e,s){"use strict";function i(t){s(1247)}Object.defineProperty(e,"__esModule",{value:!0});var a=s(1249),r=s(1250),n=s(68),o=i,l=n(a.a,r.a,!1,o,null,null);e.default=l.exports},730:function(t,e,s){"use strict";function i(t){s(1251)}Object.defineProperty(e,"__esModule",{value:!0});var a=s(1253),r=s(1254),n=s(68),o=i,l=n(a.a,r.a,!1,o,null,null);e.default=l.exports},731:function(t,e,s){"use strict";function i(t){s(1255)}Object.defineProperty(e,"__esModule",{value:!0});var a=s(1257),r=s(1258),n=s(68),o=i,l=n(a.a,r.a,!1,o,null,null);e.default=l.exports},739:function(t,e,s){"use strict";var i=s(101),a=s.n(i),r=s(149),n=s.n(r),o=s(222),l=s(104);e.a={computed:n()({},Object(o.c)("user",["userInfo","departments"])),watch:{userInfo:function(){this.$emit("$_userInfoOk")},departments:function(){this.$emit("$_departmentsOk")}},methods:n()({},Object(o.b)("user",{setUserInfo:l.a}),{$_getUserInfo:function(){var t=this;return new a.a(function(e){t.$lodash.isEmpty(t.userInfo)?t.$once("$_userInfoOk",function(){e(t.userInfo)}):e(t.userInfo)})},$_getDepartments:function(){var t=this;return new a.a(function(e){t.$lodash.isEmpty(t.departments)?t.$once("$_departmentsOk",function(){e(t.departments)}):e(t.departments)})}})}},745:function(t,e,s){"use strict";var i=s(149),a=s.n(i),r=s(222);e.a={computed:a()({},Object(r.c)("options",["options"])),methods:{getOption:function(t){this.$service.options.setOptions(t)}}}},753:function(t,e,s){"use strict";e.a={methods:{statusPopClass:function(t){return this.$lodash.isEmpty(t.username)||t.audit+""=="0"?"status-waiting":t.audit+""=="1"?"status-success":"status-refuse"},statusStr:function(t){switch(t+""){case"0":return"审批中";case"1":return"已通过";case"2":return"已拒绝";case"3":return"已作废";default:return""}},statusTagType:function(t){switch(t+""){case"0":return"gray";case"1":return"success";case"2":return"warning";case"3":default:return""}},statusBadgeColor:function(t){switch(t+""){case"0":return"#CCC";case"1":return"#4caf50";case"2":return"#ffc107";case"3":default:return"#888"}}}}},755:function(t,e,s){"use strict";var i=s(69),a=s.n(i);e.a={created:function(){var t=this,e=this.$route.query.applyNo;this.$lodash.isEmpty(e)||this.$service.apply.detail({applyNo:e}).then(function(e){var s={};a()(t.form,e),t.$lodash.isEmpty(e.beginTime)||(s.beginTime=t.$dateUtils.parseDate(e.beginTime)),t.$lodash.isEmpty(e.endTime)||(s.endTime=t.$dateUtils.parseDate(e.endTime)),a()(t,s),e.hours&&setTimeout(function(){t.form.hours=e.hours},200)})}}},760:function(t,e,s){"use strict";var i=s(149),a=s.n(i),r=s(222);e.a={computed:a()({},Object(r.c)("user",["authorityInfo"])),methods:{hasPermission:function(t){return this.authorityInfo.includes(t)}}}},779:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAgCAYAAAB6kdqOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjQ1MkNEMjNGQ0M3MTFFNjhFRDA4MDA0QTVBNjBCQjQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjQ1MkNEMjRGQ0M3MTFFNjhFRDA4MDA0QTVBNjBCQjQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyNDUyQ0QyMUZDQzcxMUU2OEVEMDgwMDRBNUE2MEJCNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyNDUyQ0QyMkZDQzcxMUU2OEVEMDgwMDRBNUE2MEJCNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgsL4gAAAAKqSURBVHjatFc7a1RBFN67GdkEJT7IQ2IaWRvxFwhCQsSks7Ew2ClYWriFVbqIkEKxt7DRwlpJFYukMJDaJpBiCSZiAokmG1Z85OY7cAYOkzN3Z3bnHvi4c+f53W/OOXfG1Ov1Clme5xVh97Ise0PVwJlKWvvHzyfAe7fR2AIISFKDwMVKiYa1zsu1TxGSDejc5qpd4AErlSXi8hYYx1ptrdFolei8xcUjYCmxOD+JELDtIzQPnGUVSJ0chK5zezXhFtmPtT7ZAO4I5el5RITmtG1jO5bO7rRFk7Fz8nOacUqhfXbgZWCT668Ct0ghSUJ8ZawqstqqvgpscHkMuE3bSYT6uPIZsMblKeBzyi2Tm8DPF8AnJn4DpL+SQMb6DmxUDBoukJ2+5pIY510Yto9xWzTWVRV1Q+L1sq02ipSqM4sJXwH3A9X4CNz1tFXF3FVv2Lv7rvhBK2J7Dn3+5qs3nkgoGthwI7PA2rEOZpQs3WnMAaMUM6FS9pgMuycUMAnlrHMhUca/nj1PlKlCdPQhheBL4GFQwsmyDxg/m3TLFKVqEfPXCsiqQphQ3xEDG+g7H7hlvwJUDAt7TSnu84NRioObmOjqJgIj0omuUMCi/RHn7L/A76J53XW9ibGAGEXZ40Afegc8KiUxCqJjEQpd8X2gbwslodxTdu0psOD2UZIfvewUKJ2LtlwSsrXbYvLvPmfEexNtzZ5PaVkmI/WbrSZC//nlOdDkztfs+Vc7wvb6ixMnVHtWGreXSCMuhDPK4OPQsA9NrOhn55xgSLtAhF4rP8s6n6uTnakFYTvnCrDu+FzLsJO6XzOJCaYCQrvruz3WWMAai6E3V3voHgBuJr5KD/Iao8FXac7GZCPAl5IOhwMdCYlc0hJ/6hqrk2r7/vBc6jH4RIABAKrh8Awa3MKpAAAAAElFTkSuQmCC"}});