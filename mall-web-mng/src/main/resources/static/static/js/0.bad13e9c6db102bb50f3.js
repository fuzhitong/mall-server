webpackJsonp([0],Array(667).concat([function(e,t,a){"use strict";function o(e){a(854)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(856),n=a(862),l=a(68),r=o,s=l(i.a,n.a,!1,r,"data-v-57d4d89e",null);t.default=s.exports},function(e,t,a){"use strict";function o(e){a(863)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(865),n=a(871),l=a(68),r=o,s=l(i.a,n.a,!1,r,"data-v-566db798",null);t.default=s.exports},function(e,t,a){"use strict";function o(e){a(872)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(874),n=a(880),l=a(68),r=o,s=l(i.a,n.a,!1,r,"data-v-84040eda",null);t.default=s.exports},function(e,t,a){"use strict";function o(e){a(881)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(883),n=a(889),l=a(68),r=o,s=l(i.a,n.a,!1,r,"data-v-0fd6232c",null);t.default=s.exports},function(e,t,a){"use strict";function o(e){a(890)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(892),n=a(893),l=a(68),r=o,s=l(i.a,n.a,!1,r,"data-v-3e288321",null);t.default=s.exports},function(e,t,a){"use strict";function o(e){a(894)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(896),n=a(921),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.default=s.exports},function(e,t,a){"use strict";function o(e){a(922)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(924),n=a(925),l=a(68),r=o,s=l(i.a,n.a,!1,r,"data-v-28bd2e03",null);t.default=s.exports},,function(e,t,a){"use strict";function o(e){a(928)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(930),n=a(946),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.default=s.exports},function(e,t,a){"use strict";function o(e){a(947)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(949),n=a(955),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.default=s.exports},function(e,t,a){"use strict";function o(e){a(956)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(958),n=a(964),l=a(68),r=o,s=l(i.a,n.a,!1,r,"data-v-a680463e",null);t.default=s.exports},function(e,t,a){"use strict";function o(e){a(965)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(967),n=a(968),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.default=s.exports},,function(e,t,a){"use strict";function o(e){a(971)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(973),n=a(989),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.default=s.exports},function(e,t,a){"use strict";function o(e){a(990)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(992),n=a(1008),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.default=s.exports},function(e,t,a){"use strict";function o(e){a(1009)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(1011),n=a(1017),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.default=s.exports},function(e,t,a){"use strict";function o(e){a(1018)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(1020),n=a(1031),l=a(68),r=o,s=l(i.a,n.a,!1,r,"data-v-7f735f60",null);t.default=s.exports},function(e,t,a){"use strict";function o(e){a(1032)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(1034),n=a(1040),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.default=s.exports},function(e,t,a){"use strict";function o(e){a(1041)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(1043),n=a(1044),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.default=s.exports},,function(e,t,a){"use strict";function o(e){a(1047)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(1049),n=a(1050),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.default=s.exports},,,,,function(e,t,a){"use strict";function o(e){a(1067)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(1069),n=a(1095),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.default=s.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports={default:a(774),__esModule:!0}},,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){a(152),a(105),e.exports=a(775)},function(e,t,a){var o=a(42),i=a(151);e.exports=a(10).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return o(t.call(e))}},function(e,t,a){e.exports={default:a(777),__esModule:!0}},function(e,t,a){a(778),e.exports=a(10).Object.keys},function(e,t,a){var o=a(80),i=a(71);a(225)("keys",function(){return function(e){return i(o(e))}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function o(e){a(915)}var i=a(917),n=a(918),l=a(68),r=o,s=l(i.a,n.a,!1,r,"data-v-00cc51df",null);t.a=s.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){var o=a(855);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("03727e52",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,".green[data-v-57d4d89e]{color:#13ce66}",""])},function(e,t,a){"use strict";var o=a(149),i=a.n(o),n=a(101),l=a.n(n),r=a(69),s=a.n(r),c=a(857),d={};t.a={name:"CategoryManage",components:{SDialogAdd:c.a},filters:{statusClass:function(e){return e?"el-icon-circle-check green":"el-icon-circle-close"},statusStr:function(e){return e?"是":"否"}},data:function(){return{filterText:"",currentPage:1,pageSize:10,leftForm:{parentId:0,keywords:""},searchForm:{parentId:0,categoryName:""},dialog:"",isDictItemDialog:!1,dialogData:{},dictItemDialogData:{},canDeleteBatch:!1,loading:!1,defaultProps:{children:"nodes",label:"name"},treeData:[],tableData:{records:0,page:1,rows:[]},multipleSelection:[]}},mounted:function(){this.getTreeData(),this.handleCurrentChange(1)},destroyed:function(){this.$message.closeAll()},watch:{filterText:function(e){this.$refs.leftTree.filter(e)},multipleSelection:function(e){this.canDeleteBatch=e.length>0}},methods:{getTreeData:function(){var e=this;this.$service.goodsService.getCategoryTree(this.leftForm).then(function(t){e.treeData=t.data})},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},onSearch:function(){s()(d,this.searchForm),this.handleCurrentChange(1)},topCategory:function(){this.searchForm.parentId=0,this.onSearch()},handleNodeClick:function(e){this.searchForm.parentId=e.id,this.onSearch()},handleSizeChange:function(e){this.pageSize=e},handleSortChange:function(e){var t=e.sidx,a=e.sord;d.sidx=t,d.sord=a,this.handleCurrentChange(this.currentPage)},handleCurrentChange:function(e){var t=this;return this.currentPage=e,this.loading=!0,new l.a(function(a,o){t.$service.goodsService.queryCategoryByPage(i()({},d,{page:e,rows:t.pageSize,parentId:t.searchForm.parentId})).then(function(e){t.tableData=e.data,a()}).catch(function(){o()}).finally(function(){t.loading=!1})})},onAdd:function(){this.dialogData.treeData=this.treeData,this.dialog="SDialogAdd"},handleSave:function(e){console.log("save",e),this.$service.goodsService.saveCategory(e)},onDeleteBatch:function(e){var t=this;this.multipleSelection.length>0?this.$confirm("确定删除选中分类？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",showCancelButton:!1,type:"warning"}).then(function(){for(var e=[],a=0;a<t.multipleSelection.length;a++)e.push(t.multipleSelection[a].id);t.$service.goodsService.batchDeleteCategory(e).then(function(){t.getTreeData(),t.handleCurrentChange(t.tableData.page)})}).catch(function(){}):this.$message({message:"没有选中项",type:"warning"})},handleDelete:function(e,t){var a=this;this.$service.goodsService.deleteCategory({id:t.id}).then(function(){a.getTreeData(),a.handleCurrentChange(a.tableData.page)}).finally(function(){e.isLoading(!1)})},handleOk:function(){this.getTreeData(),this.handleCurrentChange(this.tableData.page)},handleSelectionChange:function(e){this.multipleSelection=e},refreshCategory:function(){var e=this;this.$confirm("是否确认刷新分类缓存？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$service.goodsService.refreshCategory().then(function(t){e.handleCurrentChange(e.tableData.page),e.$message({type:"success",message:t.msg})})})}}}},function(e,t,a){"use strict";function o(e){a(858)}var i=a(860),n=a(861),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.a=s.exports},function(e,t,a){var o=a(859);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("f72fef22",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,".w300{width:300px}",""])},function(e,t,a){"use strict";var o=a(102),i=a.n(o);t.a={props:{data:{type:Object}},data:function(){return{formLabelWidth:"120px",visible:!0,treeData:this.data.treeData,props:{value:"id",label:"name",children:"nodes"},selectedCategory:[],categoryForm:{parentId:0,name:"",mobileName:"",parentIdPath:"",level:1,sortOrder:"",isShow:0,isHot:0},isDisabled:this.data.isDisabled,rules:{name:[].concat(i()(this.$checkRules.notEmpty),[{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur,change"}]),mobileName:[].concat(i()(this.$checkRules.notEmpty),[{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur,change"}]),sortOrder:[].concat(i()(this.$checkRules.notEmpty),i()(this.$checkRules.numeric))}}},created:function(){},methods:{close:function(){this.$emit("close")},submitForm:function(e){var t=this;this.$refs.categoryForm.validate(function(a){a?(t.categoryForm.parentIdPath="0",t.selectedCategory.length>0&&(t.categoryForm.level=t.selectedCategory.length+1,t.categoryForm.parentId=t.selectedCategory[t.selectedCategory.length-1],t.categoryForm.parentIdPath+="_"+t.selectedCategory.join("_")),t.$service.goodsService.saveCategory(t.categoryForm).then(function(){t.visible=!1,t.$emit("ok")}).finally(function(){e.isLoading(!1)})):e.isLoading(!1)})}}}},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"添加分类",size:"small"},on:{close:e.close},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("el-form",{ref:"categoryForm",attrs:{model:e.categoryForm,rules:e.rules}},[a("el-form-item",{attrs:{label:"上级分类：","label-width":e.formLabelWidth,prop:"parentId"}},[a("el-cascader",{staticClass:"w300",attrs:{options:e.treeData,props:e.props,"change-on-select":"",placeholder:"请选择上级分类"},model:{value:e.selectedCategory,callback:function(t){e.selectedCategory=t},expression:"selectedCategory"}}),e._v("\n       不选择将保存为顶层分类\n    ")],1),e._v(" "),a("el-form-item",{attrs:{label:"分类名称：","label-width":e.formLabelWidth,required:"",prop:"name"}},[a("el-input",{staticClass:"w300",model:{value:e.categoryForm.name,callback:function(t){e.$set(e.categoryForm,"name",t)},expression:"categoryForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"移动端名称：","label-width":e.formLabelWidth,required:"",prop:"mobileName"}},[a("el-input",{staticClass:"w300",model:{value:e.categoryForm.mobileName,callback:function(t){e.$set(e.categoryForm,"mobileName",t)},expression:"categoryForm.mobileName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否显示：","label-width":e.formLabelWidth,required:""}},[[a("el-radio-group",{model:{value:e.categoryForm.isShow,callback:function(t){e.$set(e.categoryForm,"isShow",t)},expression:"categoryForm.isShow"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)]],2),e._v(" "),a("el-form-item",{attrs:{label:"是否推荐：","label-width":e.formLabelWidth,required:""}},[[a("el-radio-group",{model:{value:e.categoryForm.isHot,callback:function(t){e.$set(e.categoryForm,"isHot",t)},expression:"categoryForm.isHot"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)]],2),e._v(" "),a("el-form-item",{attrs:{label:"排序号：","label-width":e.formLabelWidth,required:"",prop:"sortOrder"}},[a("el-input",{staticClass:"w300",model:{value:e.categoryForm.sortOrder,callback:function(t){e.$set(e.categoryForm,"sortOrder",t)},expression:"categoryForm.sortOrder"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("c-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("section",{staticClass:"border space-p bg-extra-light-blue"},[a("el-input",{staticClass:"space-m-b",attrs:{placeholder:"请输入关键字",icon:"search"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),a("el-tree",{ref:"leftTree",staticClass:"noborder bg-transparent scroll-bar",attrs:{data:e.treeData,props:e.defaultProps,"node-key":"id","filter-node-method":e.filterNode,"default-expand-all":!1,"highlight-current":"",indent:16},on:{"node-click":e.handleNodeClick}})],1)]),e._v(" "),a("el-col",{attrs:{span:18}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,onkeydown:"if(event.keyCode==13){return false;}"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.onSearch(t)}}},[a("el-form-item",{staticClass:"pull-right"},[a("el-input",{attrs:{placeholder:"请输入分类名,回车查询",icon:"search","on-icon-click":e.onSearch},model:{value:e.searchForm.categoryName,callback:function(t){e.$set(e.searchForm,"categoryName",t)},expression:"searchForm.categoryName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"plus",title:"新增一个分类"},on:{click:e.onAdd}},[e._v("新增")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"danger",disabled:!e.canDeleteBatch},on:{click:e.onDeleteBatch}},[a("i",{staticClass:"el-icon-delete"}),e._v(" 批量删除\n          ")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"info",title:"下面的列表显示最顶层的分类"},on:{click:e.topCategory}},[a("i",{staticClass:"el-icon-arrow-up"}),e._v(" 回顶层分类\n          ")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",title:"刷新缓存后 前台用户将查看到最新的分类信息"},on:{click:e.refreshCategory}},[a("i",{staticClass:"el-icon-refresh"}),e._v(" 刷新缓存\n          ")])],1)],1),e._v(" "),a("c-page-table",{attrs:{data:e.tableData,loading:e.loading},on:{"selection-change":e.handleSelectionChange,"size-change":e.handleSizeChange,"sort-change":e.handleSortChange,"current-change":e.handleCurrentChange}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"level",label:"层次 ","min-width":"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"分类名称","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{on:{blur:function(a){e.handleSave(t.row)}},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"手机端名称","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{on:{blur:function(a){e.handleSave(t.row)}},model:{value:t.row.mobileName,callback:function(a){e.$set(t.row,"mobileName",a)},expression:"scope.row.mobileName"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"是否推荐","min-width":"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{on:{click:function(a){t.row.isHot=!t.row.isHot,e.handleSave(t.row)}}},[!0===t.row.isHot?a("span",{staticClass:"green"},[a("i",{staticClass:"el-icon-circle-check"}),e._v("是")]):a("span",[a("i",{staticClass:"el-icon-circle-close"}),e._v("否")])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"是否显示","min-width":"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{on:{click:function(a){t.row.isShow=!t.row.isShow,e.handleSave(t.row)}}},[!0===t.row.isShow?a("span",{staticClass:"green"},[a("i",{staticClass:"el-icon-circle-check"}),e._v("是")]):a("span",[a("i",{staticClass:"el-icon-circle-close"}),e._v("否")])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"排序","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{on:{blur:function(a){e.handleSave(t.row)}},model:{value:t.row.sortOrder,callback:function(a){e.$set(t.row,"sortOrder",a)},expression:"scope.row.sortOrder"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("c-pop-button",{attrs:{size:"small",type:"danger",pMsg:"确认要删除吗？"},on:{click:function(a){return e.handleDelete(a,t.row)}}},[e._v("删除\n          ")])]}}])})],1),e._v(" "),a("el-collapse",{attrs:{accordion:""}},[a("el-collapse-item",[a("template",{slot:"title"},[e._v("\n            温馨提醒 "),a("i",{staticClass:"header-icon el-icon-information",staticStyle:{color:"#F7BA2A"}})]),e._v(" "),a("ol",[a("li",[e._v("1. 顶级分类（一级大类）设为推荐时才会在首页楼层中显示；")]),e._v(" "),a("li",[e._v("2. 对分类作任何更改后，都需要点“刷新缓存”按钮，新的设置才会生效；")]),e._v(" "),a("li",[e._v("3. 最多只能分类到三级；")])])],2)],1)],1)],1),e._v(" "),a(e.dialog,{tag:"component",attrs:{data:e.dialogData},on:{ok:function(t){e.handleOk(e.tableData.page)},close:function(t){e.dialog=""}}})],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){var o=a(864);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("d0a578e8",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,".green[data-v-566db798]{color:#13ce66}",""])},function(e,t,a){"use strict";var o=a(149),i=a.n(o),n=a(101),l=a.n(n),r=a(69),s=a.n(r),c=a(866),d={};t.a={name:"TypeManage",components:{SDialogAdd:c.a},filters:{statusClass:function(e){return e?"el-icon-circle-check green":"el-icon-circle-close"},statusStr:function(e){return e?"是":"否"}},data:function(){return{activeName:"1",currentPage:1,pageSize:10,searchForm:{name:""},dialog:"",dialogData:{},canDeleteBatch:!1,loading:!1,tableData:{records:0,page:1,rows:[]},multipleSelection:[]}},mounted:function(){this.handleCurrentChange(1)},destroyed:function(){this.$message.closeAll()},watch:{multipleSelection:function(e){this.canDeleteBatch=e.length>0}},methods:{onSearch:function(){s()(d,this.searchForm),this.handleCurrentChange(1)},handleSizeChange:function(e){this.pageSize=e},handleCurrentChange:function(e){var t=this;return this.currentPage=e,this.loading=!0,new l.a(function(a,o){t.$service.goodsService.queryTypeByPage(i()({},d,{page:e,rows:t.pageSize,parentId:t.searchForm.parentId})).then(function(e){t.tableData=e.data,a()}).catch(function(){o()}).finally(function(){t.loading=!1})})},onAdd:function(){this.dialog="SDialogAdd"},handleSave:function(e){this.$service.goodsService.saveType(e)},onDeleteBatch:function(e){var t=this;this.multipleSelection.length>0?this.$confirm("确定删除选中数据？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",showCancelButton:!1,type:"warning"}).then(function(){for(var e=[],a=0;a<t.multipleSelection.length;a++)e.push(t.multipleSelection[a].id);t.$service.goodsService.batchDeleteType(e).then(function(){t.handleCurrentChange(t.tableData.page)})}).catch(function(){}):this.$message({message:"没有选中项",type:"warning"})},handleDelete:function(e,t){var a=this;this.$service.goodsService.deleteType({id:t.id}).then(function(){a.handleCurrentChange(a.tableData.page)}).finally(function(){e.isLoading(!1)})},handleOk:function(){this.handleCurrentChange(this.tableData.page)},handleSelectionChange:function(e){this.multipleSelection=e},handleAttr:function(){},handleSpec:function(){}}}},function(e,t,a){"use strict";function o(e){a(867)}var i=a(869),n=a(870),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.a=s.exports},function(e,t,a){var o=a(868);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("19b12fc4",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,".w300{width:300px}",""])},function(e,t,a){"use strict";var o=a(102),i=a.n(o);t.a={props:{data:{type:Object}},data:function(){return{activeName:"1",formLabelWidth:"120px",visible:!0,categoryForm:{name:""},isDisabled:this.data.isDisabled,rules:{name:[].concat(i()(this.$checkRules.notEmpty),[{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur,change"}])}}},created:function(){},methods:{close:function(){this.$emit("close")},submitForm:function(e){var t=this;this.$refs.categoryForm.validate(function(a){a?t.$service.goodsService.saveType(t.categoryForm).then(function(){t.visible=!1,t.$emit("ok")}).finally(function(){e.isLoading(!1)}):e.isLoading(!1)})}}}},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"添加商品模型",size:"tiny"},on:{close:e.close},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("el-form",{ref:"categoryForm",attrs:{model:e.categoryForm,rules:e.rules}},[a("el-form-item",{attrs:{label:"模型名称：","label-width":e.formLabelWidth,required:"",prop:"name"}},[a("el-input",{staticClass:"w300",model:{value:e.categoryForm.name,callback:function(t){e.$set(e.categoryForm,"name",t)},expression:"categoryForm.name"}})],1)],1),e._v(" "),a("el-collapse",{attrs:{accordion:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[e._v("\n        温馨提醒 "),a("i",{staticClass:"header-icon el-icon-information",staticStyle:{color:"#F7BA2A"}})]),e._v(" "),a("div",[e._v("商品模型是对不同商品的分组")]),e._v(" "),a("div",[e._v("商品模型关联商品规格,商品属性")]),e._v(" "),a("div",[e._v("一个商品归属到这个商品模型就知道他有哪里规格属性")])],2)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("c-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,onkeydown:"if(event.keyCode===13){return false;}"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.onSearch(t)}}},[a("el-form-item",{staticClass:"pull-right"},[a("el-input",{attrs:{placeholder:"请输入模型名称,回车查询",icon:"search","on-icon-click":e.onSearch},model:{value:e.searchForm.name,callback:function(t){e.$set(e.searchForm,"name",t)},expression:"searchForm.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"plus",title:"新增一个分类"},on:{click:e.onAdd}},[e._v("新增")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"danger",disabled:!e.canDeleteBatch},on:{click:e.onDeleteBatch}},[a("i",{staticClass:"el-icon-delete"}),e._v(" 批量删除\n           ")])],1)],1),e._v(" "),a("c-page-table",{attrs:{data:e.tableData,loading:e.loading},on:{"selection-change":e.handleSelectionChange,"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"ID","min-width":"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"模型名称","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{on:{blur:function(a){e.handleSave(t.row)}},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"default",icon:"search"}},[a("router-link",{attrs:{to:{path:"/goods/attributeManage",query:{typeId:t.row.id}}}},[e._v("属性列表")])],1),e._v(" "),a("el-button",{attrs:{size:"small",type:"default",icon:"search"}},[a("router-link",{attrs:{to:{path:"/goods/specManage",query:{typeId:t.row.id}}}},[e._v("规格列表")])],1),e._v(" "),a("c-pop-button",{attrs:{size:"small",type:"danger",pMsg:"确认要删除吗？"},on:{click:function(a){return e.handleDelete(a,t.row)}}},[e._v("删除\n           ")])]}}])})],1),e._v(" "),a("el-collapse",{attrs:{accordion:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[e._v("\n             温馨提醒 "),a("i",{staticClass:"header-icon el-icon-information",staticStyle:{color:"#F7BA2A"}})]),e._v("\n           商品模型是用来规定某一类商品共有规格和属性的集合，其中规格会影响商品价格，同一个商品不同的规格价格会不同，而属性仅仅是商品的属性特质展示\n         ")],2)],1),e._v(" "),a(e.dialog,{tag:"component",attrs:{data:e.dialogData},on:{ok:function(t){e.handleOk()},close:function(t){e.dialog=""}}})],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){var o=a(873);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("65f1854c",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,".green[data-v-84040eda]{color:#13ce66}",""])},function(e,t,a){"use strict";var o=a(149),i=a.n(o),n=a(101),l=a.n(n),r=a(69),s=a.n(r),c=a(875),d={};t.a={name:"TypeManage",components:{SDialogAdd:c.a},filters:{statusClass:function(e){return e?"el-icon-circle-check green":"el-icon-circle-close"},statusStr:function(e){return e?"是":"否"}},data:function(){return{activeName:"1",currentPage:1,pageSize:10,searchForm:{name:"",typeId:null==this.$route.query.typeId?"":Number(this.$route.query.typeId)},typeOptions:[],dialog:"",dialogData:{},canDeleteBatch:!1,loading:!1,tableData:{records:0,page:1,rows:[]},multipleSelection:[]}},mounted:function(){this.getGoodsType(),s()(d,this.searchForm),this.handleCurrentChange(1)},destroyed:function(){this.$message.closeAll()},watch:{multipleSelection:function(e){this.canDeleteBatch=e.length>0}},methods:{getGoodsType:function(){var e=this;this.$service.goodsService.getAllType().then(function(t){e.typeOptions=t.data})},onSearch:function(){s()(d,this.searchForm),this.handleCurrentChange(1)},handleSizeChange:function(e){this.pageSize=e},handleSortChange:function(e){var t=e.sidx,a=e.sord;d.sidx=t,d.sord=a,this.handleCurrentChange(this.currentPage)},handleCurrentChange:function(e){var t=this;return this.currentPage=e,this.loading=!0,new l.a(function(a,o){t.$service.goodsService.querySpecByPage(i()({},d,{page:e,rows:t.pageSize})).then(function(e){t.tableData=e.data,a()}).catch(function(){o()}).finally(function(){t.loading=!1})})},onAdd:function(){this.dialogData.detail=null,this.dialog="SDialogAdd"},handleEdit:function(e){this.dialogData.detail=e,this.dialog="SDialogAdd"},handleSave:function(e){this.$service.goodsService.saveSpec(e)},handleUpdate:function(e){this.$service.goodsService.updateSpec(e)},onDeleteBatch:function(e){var t=this;this.multipleSelection.length>0?this.$confirm("确定删除选中数据？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",showCancelButton:!1,type:"warning"}).then(function(){for(var e=[],a=0;a<t.multipleSelection.length;a++)e.push(t.multipleSelection[a].id);t.$service.goodsService.batchDeleteSpec(e).then(function(){t.handleCurrentChange(t.tableData.page)})}).catch(function(){}):this.$message({message:"没有选中项",type:"warning"})},handleDelete:function(e,t){var a=this;this.$service.goodsService.deleteSpec({id:t.id}).then(function(){a.handleCurrentChange(a.tableData.page)}).finally(function(){e.isLoading(!1)})},handleOk:function(){this.handleCurrentChange(this.tableData.page)},handleSelectionChange:function(e){this.multipleSelection=e},handleSpec:function(){}}}},function(e,t,a){"use strict";function o(e){a(876)}var i=a(878),n=a(879),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.a=s.exports},function(e,t,a){var o=a(877);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("cb281052",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,".w300{width:300px}",""])},function(e,t,a){"use strict";var o=a(102),i=a.n(o);t.a={props:{data:{type:Object}},data:function(){var e={name:"",typeId:"",specItemList:[{index:1,item:""}],order:""};return null!=this.data.detail&&(e=this.data.detail),{formLabelWidth:"150px",visible:!0,typeOptions:[],myForm:e,isDisabled:this.data.isDisabled,rules:{name:[].concat(i()(this.$checkRules.notEmpty),[{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur,change"}]),typeId:this.$checkRules.notEmpty,notEmpty:this.$checkRules.notEmpty,order:[].concat(i()(this.$checkRules.notEmpty),i()(this.$checkRules.numeric))}}},mounted:function(){this.getGoodsType()},created:function(){},methods:{close:function(){this.$emit("close")},getGoodsType:function(){var e=this;this.$service.goodsService.getAllType().then(function(t){e.typeOptions=t.data})},addItem:function(){this.myForm.specItemList.push(this.makeRow(this.myForm.specItemList.length+1))},makeRow:function(e){return{index:e,item:""}},delParam:function(e){this.myForm.specItemList.splice(e,1)},submitForm:function(e){var t=this;this.$refs.myForm.validate(function(a){a?t.$service.goodsService.saveSpec(t.myForm).then(function(){t.visible=!1,t.$emit("ok")}).finally(function(){e.isLoading(!1)}):e.isLoading(!1)})}}}},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"编辑商品规格",size:"small"},on:{close:e.close},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("el-form",{ref:"myForm",attrs:{model:e.myForm,rules:e.rules}},[a("el-form-item",{attrs:{label:"规格名称：","label-width":e.formLabelWidth,required:"",prop:"name"}},[a("el-input",{staticClass:"w300",model:{value:e.myForm.name,callback:function(t){e.$set(e.myForm,"name",t)},expression:"myForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属商品模型：","label-width":e.formLabelWidth,prop:"typeId"}},[a("el-select",{staticClass:"w300",model:{value:e.myForm.typeId,callback:function(t){e.$set(e.myForm,"typeId",t)},expression:"myForm.typeId"}},e._l(e.typeOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"规格项：","label-width":e.formLabelWidth,required:""}},[a("el-button",{attrs:{type:"info",size:"small"},on:{click:e.addItem}},[e._v("新增")]),e._v(" "),e._l(e.myForm.specItemList,function(t,o){return[a("el-row",{staticClass:"mb5"},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{prop:"specItemList["+o+"].item",rules:e.rules.notEmpty}},[a("el-input",{attrs:{placeholder:"规格项"},model:{value:t.item,callback:function(a){e.$set(t,"item",a)},expression:"prm.item"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){e.delParam(o)}}},[e._v("删除")])],1)],1)]})],2),e._v(" "),a("el-form-item",{attrs:{label:"排序：","label-width":e.formLabelWidth,required:"",prop:"order"}},[a("el-input",{staticClass:"w300",model:{value:e.myForm.order,callback:function(t){e.$set(e.myForm,"order",t)},expression:"myForm.order"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("c-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,onkeydown:"if(event.keyCode===13){return false;}"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.onSearch(t)}}},[a("el-form-item",{staticClass:"pull-right"},[a("el-input",{attrs:{placeholder:"请输入名称,回车查询",icon:"search","on-icon-click":e.onSearch},model:{value:e.searchForm.name,callback:function(t){e.$set(e.searchForm,"name",t)},expression:"searchForm.name"}})],1),e._v(" "),a("el-form-item",{staticClass:"pull-right",attrs:{label:"所属商品模型："}},[a("el-select",{attrs:{clearable:""},on:{change:e.onSearch},model:{value:e.searchForm.typeId,callback:function(t){e.$set(e.searchForm,"typeId",t)},expression:"searchForm.typeId"}},e._l(e.typeOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"plus",title:"新增一个规格"},on:{click:e.onAdd}},[e._v("新增")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"danger",disabled:!e.canDeleteBatch},on:{click:e.onDeleteBatch}},[a("i",{staticClass:"el-icon-delete"}),e._v(" 批量删除\n           ")])],1)],1),e._v(" "),a("c-page-table",{attrs:{data:e.tableData,loading:e.loading},on:{"selection-change":e.handleSelectionChange,"size-change":e.handleSizeChange,"sort-change":e.handleSortChange,"current-change":e.handleCurrentChange}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"ID","min-width":"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"规格名称","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsType",label:"所属模型","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"规格项","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.specItemList,function(t){return a("span",[e._v(e._s(t.item)+" ")])})}}])}),e._v(" "),a("el-table-column",{attrs:{label:"筛选","min-width":"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{on:{click:function(a){t.row.searchIndex=!t.row.searchIndex,e.handleUpdate(t.row)}}},[!0===t.row.searchIndex?a("span",{staticClass:"green"},[a("i",{staticClass:"el-icon-circle-check"}),e._v("是")]):a("span",[a("i",{staticClass:"el-icon-circle-close"}),e._v("否")])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"排序","min-width":"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{on:{blur:function(a){e.handleUpdate(t.row)}},model:{value:t.row.order,callback:function(a){e.$set(t.row,"order",a)},expression:"scope.row.order"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"info",icon:"edit"},on:{click:function(a){e.handleEdit(t.row)}}},[e._v("编辑")]),e._v(" "),a("c-pop-button",{attrs:{size:"small",type:"danger",pMsg:"确认要删除吗？"},on:{click:function(a){return e.handleDelete(a,t.row)}}},[e._v("删除\n             ")])]}}])})],1),e._v(" "),a("el-collapse",{attrs:{accordion:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[e._v("\n             温馨提醒 "),a("i",{staticClass:"header-icon el-icon-information",staticStyle:{color:"#F7BA2A"}})]),e._v("\n           商品规格是购买商品时给用户选择的, 涉及到价格变动库存等, 例如:衣服的 颜色 尺寸 等\n         ")],2)],1),e._v(" "),a(e.dialog,{tag:"component",attrs:{data:e.dialogData},on:{ok:function(t){e.handleOk()},close:function(t){e.dialog=""}}})],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){var o=a(882);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("f465319e",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,".green[data-v-0fd6232c]{color:#13ce66}",""])},function(e,t,a){"use strict";var o=a(149),i=a.n(o),n=a(101),l=a.n(n),r=a(69),s=a.n(r),c=a(884),d={};t.a={name:"TypeManage",components:{SDialogAdd:c.a},filters:{attrInputTypeStr:function(e){switch(e){case 0:return"手工输入";case 1:return"选择";case 2:return"多行文本框";default:return"手工输入"}}},data:function(){return{activeName:"1",currentPage:1,pageSize:10,searchForm:{attrName:"",typeId:null==this.$route.query.typeId?"":Number(this.$route.query.typeId)},typeOptions:[],dialog:"",dialogData:{},canDeleteBatch:!1,loading:!1,tableData:{records:0,page:1,rows:[]},multipleSelection:[]}},mounted:function(){this.getGoodsType(),s()(d,this.searchForm),this.handleCurrentChange(1)},destroyed:function(){this.$message.closeAll()},watch:{multipleSelection:function(e){this.canDeleteBatch=e.length>0}},methods:{getGoodsType:function(){var e=this;this.$service.goodsService.getAllType().then(function(t){e.typeOptions=t.data})},onSearch:function(){s()(d,this.searchForm),this.handleCurrentChange(1)},handleSizeChange:function(e){this.pageSize=e},handleSortChange:function(e){var t=e.sidx,a=e.sord;d.sidx=t,d.sord=a,this.handleCurrentChange(this.currentPage)},handleCurrentChange:function(e){var t=this;return this.currentPage=e,this.loading=!0,new l.a(function(a,o){t.$service.goodsService.queryAttrByPage(i()({},d,{page:e,rows:t.pageSize})).then(function(e){t.tableData=e.data,a()}).catch(function(){o()}).finally(function(){t.loading=!1})})},onAdd:function(){this.dialogData.detail=null,this.dialog="SDialogAdd"},handleEdit:function(e){this.dialogData.detail=e,this.dialog="SDialogAdd"},handleSave:function(e){this.$service.goodsService.saveAttr(e)},handleUpdate:function(e){this.$service.goodsService.updateAttr(e)},onDeleteBatch:function(e){var t=this;this.multipleSelection.length>0?this.$confirm("确定删除选中数据？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",showCancelButton:!1,type:"warning"}).then(function(){for(var e=[],a=0;a<t.multipleSelection.length;a++)e.push(t.multipleSelection[a].attrId);t.$service.goodsService.batchDeleteAttr(e).then(function(){t.handleCurrentChange(t.tableData.page)})}).catch(function(){}):this.$message({message:"没有选中项",type:"warning"})},handleDelete:function(e,t){var a=this;this.$service.goodsService.deleteAttr({attrId:t.attrId}).then(function(){a.handleCurrentChange(a.tableData.page)}).finally(function(){e.isLoading(!1)})},handleOk:function(){this.handleCurrentChange(this.tableData.page)},handleSelectionChange:function(e){this.multipleSelection=e},handleSpec:function(){}}}},function(e,t,a){"use strict";function o(e){a(885)}var i=a(887),n=a(888),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.a=s.exports},function(e,t,a){var o=a(886);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("3e90fda6",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,".w300{width:300px}",""])},function(e,t,a){"use strict";var o=a(102),i=a.n(o);t.a={props:{data:{type:Object}},data:function(){var e=!1,t={attrName:"",typeId:"",attrInputType:0,attrType:0,attrIndex:0,attrValues:"",order:1};return null!=this.data.detail&&(t={attrId:this.data.detail.attrId,attrName:this.data.detail.attrName,typeId:this.data.detail.typeId,attrInputType:this.data.detail.attrInputType,attrValues:this.data.detail.attrValues,attrIndex:this.data.detail.attrIndex,attrType:this.data.detail.attrType,order:this.data.detail.order},e=1===t.attrInputType),{isShow:e,formLabelWidth:"150px",visible:!0,typeOptions:[],myForm:t,isDisabled:this.data.isDisabled,rules:{attrName:[].concat(i()(this.$checkRules.notEmpty),[{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur,change"}]),typeId:this.$checkRules.notEmpty,notEmpty:this.$checkRules.notEmpty,order:[].concat(i()(this.$checkRules.notEmpty),i()(this.$checkRules.numeric))}}},mounted:function(){this.getGoodsType()},created:function(){},methods:{close:function(){this.$emit("close")},getGoodsType:function(){var e=this;this.$service.goodsService.getAllType().then(function(t){e.typeOptions=t.data})},attrInputTypeChange:function(){this.isShow=1===this.myForm.attrInputType},submitForm:function(e){var t=this;this.$refs.myForm.validate(function(a){a?t.$service.goodsService.saveAttr(t.myForm).then(function(){t.visible=!1,t.$emit("ok")}).finally(function(){e.isLoading(!1)}):e.isLoading(!1)})}}}},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"编辑商品规格",size:"small"},on:{close:e.close},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("el-form",{ref:"myForm",attrs:{model:e.myForm,rules:e.rules}},[a("el-form-item",{attrs:{label:"属性名称：","label-width":e.formLabelWidth,required:"",prop:"attrName"}},[a("el-input",{staticClass:"w300",model:{value:e.myForm.attrName,callback:function(t){e.$set(e.myForm,"attrName",t)},expression:"myForm.attrName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属商品模型：","label-width":e.formLabelWidth,prop:"typeId"}},[a("el-select",{staticClass:"w300",model:{value:e.myForm.typeId,callback:function(t){e.$set(e.myForm,"typeId",t)},expression:"myForm.typeId"}},e._l(e.typeOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"属性值的录入方式：","label-width":e.formLabelWidth}},[a("el-radio-group",{on:{change:e.attrInputTypeChange},model:{value:e.myForm.attrInputType,callback:function(t){e.$set(e.myForm,"attrInputType",t)},expression:"myForm.attrInputType"}},[a("el-radio",{attrs:{label:0}},[e._v("手工录入")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("选择")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("多行文本框")])],1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],attrs:{label:"可选值列表：","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"w300",attrs:{type:"textarea",autosize:{minRows:3}},model:{value:e.myForm.attrValues,callback:function(t){e.$set(e.myForm,"attrValues",t)},expression:"myForm.attrValues"}}),e._v("\n      注：一行代表一个可选值\n    ")],1),e._v(" "),a("el-form-item",{attrs:{label:"排序：","label-width":e.formLabelWidth,required:"",prop:"order"}},[a("el-input",{staticClass:"w300",model:{value:e.myForm.order,callback:function(t){e.$set(e.myForm,"order",t)},expression:"myForm.order"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("c-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,onkeydown:"if(event.keyCode===13){return false;}"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.onSearch(t)}}},[a("el-form-item",{staticClass:"pull-right"},[a("el-input",{attrs:{placeholder:"请输入名称,回车查询",icon:"search","on-icon-click":e.onSearch},model:{value:e.searchForm.attrName,callback:function(t){e.$set(e.searchForm,"attrName",t)},expression:"searchForm.attrName"}})],1),e._v(" "),a("el-form-item",{staticClass:"pull-right",attrs:{label:"所属商品模型："}},[a("el-select",{attrs:{clearable:""},on:{change:e.onSearch},model:{value:e.searchForm.typeId,callback:function(t){e.$set(e.searchForm,"typeId",t)},expression:"searchForm.typeId"}},e._l(e.typeOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"plus",title:"新增一个属性"},on:{click:e.onAdd}},[e._v("新增")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"danger",disabled:!e.canDeleteBatch},on:{click:e.onDeleteBatch}},[a("i",{staticClass:"el-icon-delete"}),e._v(" 批量删除\n           ")])],1)],1),e._v(" "),a("c-page-table",{attrs:{data:e.tableData,loading:e.loading},on:{"selection-change":e.handleSelectionChange,"size-change":e.handleSizeChange,"sort-change":e.handleSortChange,"current-change":e.handleCurrentChange}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"attrId",label:"ID","min-width":"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"attrName",label:"属性名称","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsType",label:"所属模型","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"属性值的输入方式","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("attrInputTypeStr")(t.row.attrInputType)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"attrValues",label:"可选值","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"排序","min-width":"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{on:{blur:function(a){e.handleUpdate(t.row)}},model:{value:t.row.order,callback:function(a){e.$set(t.row,"order",a)},expression:"scope.row.order"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"info",icon:"edit"},on:{click:function(a){e.handleEdit(t.row)}}},[e._v("编辑")]),e._v(" "),a("c-pop-button",{attrs:{size:"small",type:"danger",pMsg:"确认要删除吗？"},on:{click:function(a){return e.handleDelete(a,t.row)}}},[e._v("删除\n             ")])]}}])})],1),e._v(" "),a("el-collapse",{attrs:{accordion:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[e._v("\n             温馨提醒 "),a("i",{staticClass:"header-icon el-icon-information",staticStyle:{color:"#F7BA2A"}})]),e._v("\n           商品属性是给用户看的,不牵涉价钱等, 例如: 生产日期、生产地、保质期等...\n         ")],2)],1),e._v(" "),a(e.dialog,{tag:"component",attrs:{data:e.dialogData},on:{ok:function(t){e.handleOk()},close:function(t){e.dialog=""}}})],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){var o=a(891);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("481d70c6",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,".green[data-v-3e288321]{color:#13ce66}.w300[data-v-3e288321]{width:400px}",""])},function(e,t,a){"use strict";var o=a(149),i=a.n(o),n=a(101),l=a.n(n),r=a(69),s=a.n(r),c={};t.a={name:"GoodsManager",components:{},data:function(){return{activeName:"1",currentPage:1,pageSize:10,props:{value:"id",label:"name",children:"nodes"},searchForm:{param:"",catIdAll:[],catId:""},leftForm:{parentId:0,keywords:""},dialog:"",dialogData:{},canDeleteBatch:!1,loading:!1,tableData:{records:0,page:1,rows:[]},categoryTreeData:[],modeListData:[],multipleSelection:[]}},mounted:function(){this.getCategoryTreeData(),this.getAllMode(),this.handleCurrentChange(1)},destroyed:function(){this.$message.closeAll()},watch:{multipleSelection:function(e){this.canDeleteBatch=e.length>0}},methods:{onSearch:function(){return null!=this.searchForm.catIdAll&&this.searchForm.catIdAll.length>0&&(this.searchForm.catId=this.searchForm.catIdAll[this.searchForm.catIdAll.length-1]),s()(c,this.searchForm),this.handleCurrentChange(1),!1},handleSizeChange:function(e){this.pageSize=e},handleSortChange:function(e){var t=e.sidx,a=e.sord;c.sidx=t,c.sord=a,this.handleCurrentChange(this.currentPage)},handleCurrentChange:function(e){var t=this;return this.currentPage=e,this.loading=!0,new l.a(function(a,o){t.$service.goodsService.queryGoodsPage(i()({},c,{page:e,pageSize:t.pageSize})).then(function(e){t.tableData=e.data,a()}).catch(function(){o()}).finally(function(){t.loading=!1})})},onAdd:function(){this.goodsId=0,this.dialogData.detail=null,this.dialogData.categoryTreeData=this.categoryTreeData,this.dialogData.modeListData=this.modeListData,this.dialog="SDialogAdd"},handleEdit:function(e){var t=this;this.dialogData.categoryTreeData=this.categoryTreeData,this.dialogData.modeListData=this.modeListData,this.$service.goodsService.detailGoods({goodsId:e.goodsId}).then(function(e){t.dialogData.detail=e.data,t.dialog="SDialogAdd"})},handleDetail:function(e){this.dialogData.detail=e},handleDelete:function(e,t){var a=this;this.$service.goodsService.deleteGoods({goodsId:t.goodsId}).then(function(){a.handleCurrentChange(a.tableData.page)}).finally(function(){e.isLoading(!1)})},handleSelectionChange:function(e){this.multipleSelection=e},onDeleteBatch:function(e){var t=this;if(this.multipleSelection.length>0){for(var a=[],o=0;o<this.multipleSelection.length;o++)a.push(this.multipleSelection[o].goodsId);this.$service.goodsService.batchDeleteGoods(a).then(function(){t.handleCurrentChange(t.tableData.page)}).finally(function(){e.isLoading(!1)})}else this.$message({message:"没有选中项",type:"warning"}),e.isLoading(!1)},getCategoryTreeData:function(){var e=this;this.$service.goodsService.getCategoryTree3(this.leftForm).then(function(t){e.categoryTreeData=t.data})},getAllMode:function(){var e=this;this.$service.goodsService.getAllType().then(function(t){e.modeListData=t.data})},handlePublishAll:function(){var e=this;this.$service.goodsService.publishAllGoods().then(function(t){e.$message({message:"发布成功",type:"ok"})})},handlePublish:function(e,t){var a=this;this.$service.goodsService.publishGoods({goodsId:t.goodsId}).then(function(){a.$message({message:"发布成功",type:"ok"})}).finally(function(){e.isLoading(!1)})},handleSave:function(e){this.$service.goodsService.saveGoods(e).then(function(e){})}}}},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,onkeydown:"if(event.keyCode==13){return false;}"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.onSearch(t)}}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"plus"}},[a("router-link",{attrs:{to:{path:"/goods/edit"}}},[e._v("添加商品")])],1)],1),e._v(" "),a("el-form-item",[a("c-pop-button",{attrs:{type:"danger",pMsg:"确认要批量删除吗？",disabled:!e.canDeleteBatch},on:{click:e.onDeleteBatch}},[a("i",{staticClass:"el-icon-delete"}),e._v(" 批量删除\n      ")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"success"},on:{click:e.handlePublishAll}},[e._v("全部发布")])],1),e._v(" "),a("el-form-item",{attrs:{label:"商品分类：","label-width":"120px"}},[a("el-cascader",{staticClass:"w300",attrs:{options:e.categoryTreeData,props:e.props,"change-on-select":"",placeholder:"请选择上级分类"},on:{change:e.onSearch},model:{value:e.searchForm.catIdAll,callback:function(t){e.$set(e.searchForm,"catIdAll",t)},expression:"searchForm.catIdAll"}})],1),e._v(" "),a("el-form-item",{staticClass:"pull-right"},[a("el-input",{attrs:{placeholder:"商品名称",icon:"search","on-icon-click":e.onSearch},model:{value:e.searchForm.param,callback:function(t){e.$set(e.searchForm,"param",t)},expression:"searchForm.param"}})],1)],1),e._v(" "),a("c-page-table",{attrs:{data:e.tableData,loading:e.loading},on:{"selection-change":e.handleSelectionChange,"size-change":e.handleSizeChange,"sort-change":e.handleSortChange,"current-change":e.handleCurrentChange}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsId",label:"Id",sortable:"custom","min-width":"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsName",label:"商品名称",sortable:"custom","min-width":"250"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsSn",label:"货号",sortable:"custom","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"catName",label:"分类","min-width":"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"shopPrice",label:"本店售价","min-width":"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"推荐","min-width":"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{on:{click:function(a){t.row.isRecommend=!t.row.isRecommend,e.handleSave(t.row)}}},[!0===t.row.isRecommend?a("span",{staticClass:"green"},[a("i",{staticClass:"el-icon-circle-check"}),e._v("是")]):a("span",[a("i",{staticClass:"el-icon-circle-close"}),e._v("否")])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"新品","min-width":"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{on:{click:function(a){t.row.isNew=!t.row.isNew,e.handleSave(t.row)}}},[!0===t.row.isNew?a("span",{staticClass:"green"},[a("i",{staticClass:"el-icon-circle-check"}),e._v("是")]):a("span",[a("i",{staticClass:"el-icon-circle-close"}),e._v("否")])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"热卖","min-width":"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{on:{click:function(a){t.row.isHot=!t.row.isHot,e.handleSave(t.row)}}},[!0===t.row.isHot?a("span",{staticClass:"green"},[a("i",{staticClass:"el-icon-circle-check"}),e._v("是")]):a("span",[a("i",{staticClass:"el-icon-circle-close"}),e._v("否")])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"上/下架","min-width":"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{on:{click:function(a){t.row.isOnSale=!t.row.isOnSale,e.handleSave(t.row)}}},[!0===t.row.isOnSale?a("span",{staticClass:"green"},[a("i",{staticClass:"el-icon-circle-check"}),e._v("是")]):a("span",[a("i",{staticClass:"el-icon-circle-close"}),e._v("否")])])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"storeCount",label:"库存","min-width":"70"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sort",label:"排序",sortable:"custom","min-width":"70"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"default"}},[a("router-link",{attrs:{to:{path:"/goods/edit",query:{goodsId:t.row.goodsId}}}},[e._v("编辑")])],1),e._v(" "),a("c-pop-button",{attrs:{size:"small",type:"danger",pMsg:"确认要删除吗？"},on:{click:function(a){return e.handleDelete(a,t.row)}}},[e._v("删除\n        ")]),e._v(" "),a("c-pop-button",{attrs:{size:"small",type:"success",pMsg:"确认要发布吗？"},on:{click:function(a){return e.handlePublish(a,t.row)}}},[e._v("\n          发布\n        ")])]}}])})],1),e._v(" "),a("el-collapse",{attrs:{accordion:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[e._v("\n        温馨提醒 "),a("i",{staticClass:"header-icon el-icon-information",staticStyle:{color:"#F7BA2A"}})]),e._v("\n      必须在商品模型中选择规格项并配置规格价格后才能发布成功\n    ")],2)],1),e._v(" "),a(e.dialog,{tag:"component",attrs:{data:e.dialogData},on:{ok:function(t){e.handleCurrentChange(e.tableData.page)},close:function(t){e.dialog=""}}})],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){var o=a(895);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("44fbe116",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,".el-dialog--middle{width:70%}",""])},function(e,t,a){"use strict";var o=a(897),i=a(902),n=a(907);t.a={name:"GoodsEdit",props:{data:{type:Object}},data:function(){return{activeName:"base",formLabelWidth:"120px",visible:!0,categoryTreeData:[],modeListData:[],goodsId:0,noSavedBase:!0,goodsBase:null,goodsImage:null,specPrice:null,goodsSpec:null,goodsAttr:null,goodsType:null}},components:{GoodsMode:n.a,GoodsImage:i.a,GoodsBaseInfo:o.a},created:function(){},mounted:function(){this.getCategoryTreeData(),this.getAllMode();var e=this.$route.query;null!=e&&this.getGoodsDetail(e.goodsId)},methods:{close:function(){this.$emit("close")},handleClick:function(e,t){},onOk:function(e){this.noSavedBase=!1,this.goodsId=e,this.visible=!0,this.$emit("ok")},getCategoryTreeData:function(){var e=this;this.$service.goodsService.getCategoryTree3({parentId:0}).then(function(t){e.categoryTreeData=t.data})},getAllMode:function(){var e=this;this.$service.goodsService.getAllType().then(function(t){e.modeListData=t.data})},getGoodsDetail:function(e){var t=this;this.$service.goodsService.detailGoods({goodsId:e}).then(function(e){var a=e.data;null!=a&&(t.goodsId=a.base.goodsId,t.goodsType=a.base.goodsType,t.goodsBase=a.base,t.goodsImage=a.imageList,t.specPrice=a.specGoodsPriceList,t.goodsSpec=a.typeSpecList,t.goodsAttr=a.typeGoodsAttributeList,t.gImage=a.imageList.map(function(e){return{fileName:e.imgId,storageName:e.imageUrl}}),t.noSavedBase=!1)})}}}},function(e,t,a){"use strict";function o(e){a(898)}var i=a(900),n=a(901),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.a=s.exports},function(e,t,a){var o=a(899);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("787a779a",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,".w300{width:300px}.w150{width:150px}.w500{width:500px}",""])},function(e,t,a){"use strict";var o=a(149),i=a.n(o),n=a(102),l=a.n(n),r=a(222);t.a={name:"GoodsBaseInfo",props:{categoryTreeData:{type:Array},goodsBase:{type:Object}},watch:{goodsId:function(e,t){this.form.goodsId=e},goodsBase:function(e,t){this.goodsBase=e,this.form=this.getForm()},categoryTreeData:function(e,t){this.mycategoryTreeData=e}},mounted:function(){this.getAllBrand(),this.getSuppliersOptions()},data:function(){return{formLabelWidth:"120px",form:this.getForm(),goodsId:0,props:{value:"id",label:"name",children:"nodes"},rules:{catIdAll:[].concat(l()(this.$checkRules.notEmpty)),goodsName:[].concat(l()(this.$checkRules.notEmpty)),goodsSn:[].concat(l()(this.$checkRules.notEmpty)),brandId:[].concat(l()(this.$checkRules.notEmpty)),shopPrice:[].concat(l()(this.$checkRules.notEmpty),l()(this.$checkRules.numeric)),marketPrice:[].concat(l()(this.$checkRules.notEmpty),l()(this.$checkRules.numeric)),costPrice:[].concat(l()(this.$checkRules.notEmpty),l()(this.$checkRules.numeric)),commission:[].concat(l()(this.$checkRules.notEmpty),l()(this.$checkRules.numeric)),keywords:[].concat(l()(this.$checkRules.notEmpty)),weight:[].concat(l()(this.$checkRules.integer)),storeCount:[].concat(l()(this.$checkRules.integer)),sort:[].concat(l()(this.$checkRules.integer))},options2:{brandOptions:[],suppliersOptions:[]},mycategoryTreeData:this.categoryTreeData}},computed:i()({},Object(r.c)("options",["options"])),methods:{getSuppliersOptions:function(){this.options2.suppliersOptions=[{id:0,name:"不指定供应商属于本店"},{id:1,name:"深圳供应商"},{id:2,name:"长沙供应商"}]},getAllBrand:function(){var e=this;this.$service.goodsService.queryAllBrand().then(function(t){e.options2.brandOptions=t.data})},close:function(){this.$emit("close")},btnOk:function(e){var t=this;null!=this.form.catIdAll&&this.form.catIdAll.length>0&&(this.form.catId=this.form.catIdAll[this.form.catIdAll.length-1]),this.$refs.form.validate(function(a){a?t.$service.goodsService.saveGoods(t.form).then(function(e){t.setMyData(e),t.$emit("ok",e.data)}).finally(function(){e.isLoading(!1)}):e.isLoading(!1)})},setMyData:function(e){this.form.goodsId=e.data},htmlDecode:function(e){var t=document.createElement("div");t.innerHTML=e;var a=t.innerText||t.textContent;return t=null,a},getForm:function(){var e={};if(null!=this.goodsBase){var t=0;!0===this.goodsBase.isFreeShipping&&(t=1);var a=0;!0===this.goodsBase.isReal&&(a=1);var o=[],i="";i=this.goodsBase.catParentIdPath,null!=i&&i.length>2&&"0_"===i.substring(0,2)&&(i=i.substring(2)),o=i.split("_");var n=[];n=o.map(function(e){return parseInt(e)}),e={goodsId:this.goodsBase.goodsId,catId:this.goodsBase.catId,catIdAll:n,extendCatId:this.goodsBase.extendCatId,goodsSn:this.goodsBase.goodsSn,goodsName:this.goodsBase.goodsName,clickCount:this.goodsBase.clickCount,brandId:this.goodsBase.brandId,storeCount:this.goodsBase.storeCount,commentCount:this.goodsBase.commentCount,weight:this.goodsBase.weight,marketPrice:this.goodsBase.marketPrice,shopPrice:this.goodsBase.shopPrice,costPrice:this.goodsBase.costPrice,keywords:this.goodsBase.keywords,goodsRemark:this.goodsBase.goodsRemark,originalImg:this.goodsBase.originalImg,isReal:a,isOnSale:this.goodsBase.isOnSale,isFreeShipping:t,onTime:this.goodsBase.onTime,sort:this.goodsBase.sort,isRecommend:this.goodsBase.isRecommend,isNew:this.goodsBase.isNew,isHot:this.goodsBase.isHot,lastUpdate:this.goodsBase.lastUpdate,goodsType:this.goodsBase.goodsType,specType:this.goodsBase.specType,giveIntegral:this.goodsBase.giveIntegral,exchangeIntegral:this.goodsBase.exchangeIntegral,suppliersId:this.goodsBase.suppliersId,salesSum:this.goodsBase.salesSum,promType:this.goodsBase.promType,promId:this.goodsBase.promId,commission:this.goodsBase.commission,spu:this.goodsBase.spu,sku:this.goodsBase.sku,shippingAreaIds:this.goodsBase.shippingAreaIds,goodsContent:this.goodsBase.goodsContent}}else e={goodsId:"",catId:"",catIdAll:[],extendCatId:"",goodsSn:"",goodsName:"",clickCount:"",brandId:"",storeCount:"",commentCount:"",weight:"",marketPrice:"",shopPrice:"",costPrice:"",keywords:"",goodsRemark:"",originalImg:"",isReal:0,isOnSale:0,isFreeShipping:0,onTime:"",sort:"",isRecommend:0,isNew:0,isHot:0,lastUpdate:"",goodsType:"",specType:"",giveIntegral:"",exchangeIntegral:"",suppliersId:"",salesSum:"",promType:"",promId:"",commission:"",spu:"",sku:"",shippingAreaIds:"",goodsContent:""};return e}}}},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"商品名称：","label-width":e.formLabelWidth,required:"",prop:"goodsName"}},[a("el-input",{staticClass:"w300",model:{value:e.form.goodsName,callback:function(t){e.$set(e.form,"goodsName",t)},expression:"form.goodsName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品简介：","label-width":e.formLabelWidth,prop:"goodsRemark"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入内容"},model:{value:e.form.goodsRemark,callback:function(t){e.$set(e.form,"goodsRemark",t)},expression:"form.goodsRemark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品货号：","label-width":e.formLabelWidth,required:"",prop:"goodsSn"}},[a("el-input",{staticClass:"w300",model:{value:e.form.goodsSn,callback:function(t){e.$set(e.form,"goodsSn",t)},expression:"form.goodsSn"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"SPU：","label-width":e.formLabelWidth,prop:"spu"}},[a("el-input",{staticClass:"w300",model:{value:e.form.spu,callback:function(t){e.$set(e.form,"spu",t)},expression:"form.spu"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"SKU：","label-width":e.formLabelWidth,prop:"sku"}},[a("el-input",{staticClass:"w300",model:{value:e.form.sku,callback:function(t){e.$set(e.form,"sku",t)},expression:"form.sku"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"排序：","label-width":e.formLabelWidth,prop:"sort"}},[a("el-input",{staticClass:"w150",model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品分类：","label-width":e.formLabelWidth,required:"",prop:"catIdAll"}},[a("el-cascader",{staticClass:"w300",attrs:{options:e.mycategoryTreeData,props:e.props,"change-on-select":"",placeholder:"请选择上级分类"},model:{value:e.form.catIdAll,callback:function(t){e.$set(e.form,"catIdAll",t)},expression:"form.catIdAll"}}),e._v("\n      不选择将保存为顶层分类\n    ")],1),e._v(" "),a("el-form-item",{attrs:{label:"商品品牌：","label-width":e.formLabelWidth,required:"",prop:"brandId"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.brandId,callback:function(t){e.$set(e.form,"brandId",t)},expression:"form.brandId"}},e._l(e.options2.brandOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"供应商：","label-width":e.formLabelWidth,required:"",prop:"suppliersId"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.suppliersId,callback:function(t){e.$set(e.form,"suppliersId",t)},expression:"form.suppliersId"}},e._l(e.options2.suppliersOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"本店售价：","label-width":e.formLabelWidth,required:"",prop:"shopPrice"}},[a("el-input",{staticClass:"w150",model:{value:e.form.shopPrice,callback:function(t){e.$set(e.form,"shopPrice",t)},expression:"form.shopPrice"}}),e._v("\n      元\n    ")],1),e._v(" "),a("el-form-item",{attrs:{label:"市场价：","label-width":e.formLabelWidth,required:"",prop:"marketPrice"}},[a("el-input",{staticClass:"w150",model:{value:e.form.marketPrice,callback:function(t){e.$set(e.form,"marketPrice",t)},expression:"form.marketPrice"}}),e._v("\n      元\n    ")],1),e._v(" "),a("el-form-item",{attrs:{label:"成本价：","label-width":e.formLabelWidth,required:"",prop:"costPrice"}},[a("el-input",{staticClass:"w150",model:{value:e.form.costPrice,callback:function(t){e.$set(e.form,"costPrice",t)},expression:"form.costPrice"}}),e._v("\n      元\n    ")],1),e._v(" "),a("el-form-item",{attrs:{label:"佣金：","label-width":e.formLabelWidth,prop:"commission"}},[a("el-input",{staticClass:"w150",model:{value:e.form.commission,callback:function(t){e.$set(e.form,"commission",t)},expression:"form.commission"}}),e._v("\n      元\n    ")],1),e._v(" "),a("el-form-item",{attrs:{label:"封面图片：","label-width":e.formLabelWidth,prop:"originalImg"}},[a("c-avatar-upload",{model:{value:e.form.originalImg,callback:function(t){e.$set(e.form,"originalImg",t)},expression:"form.originalImg"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品重量：","label-width":e.formLabelWidth,required:"",isInteger:"",prop:"weight"}},[a("el-input",{staticClass:"w150",model:{value:e.form.weight,callback:function(t){e.$set(e.form,"weight",t)},expression:"form.weight"}}),e._v("\n      克\n    ")],1),e._v(" "),a("el-form-item",{attrs:{label:"是否包邮：","label-width":e.formLabelWidth,required:"",prop:"isFreeShipping"}},[[a("el-radio-group",{model:{value:e.form.isFreeShipping,callback:function(t){e.$set(e.form,"isFreeShipping",t)},expression:"form.isFreeShipping"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)]],2),e._v(" "),a("el-form-item",{attrs:{label:"总库存：","label-width":e.formLabelWidth,required:"",prop:"storeCount"}},[a("el-input",{staticClass:"w150",model:{value:e.form.storeCount,callback:function(t){e.$set(e.form,"storeCount",t)},expression:"form.storeCount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品关键词：","label-width":e.formLabelWidth,required:"",prop:"keywords"}},[a("el-input",{staticClass:"w500",model:{value:e.form.keywords,callback:function(t){e.$set(e.form,"keywords",t)},expression:"form.keywords"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否为虚拟商品：","label-width":e.formLabelWidth,required:"",prop:"isReal"}},[[a("el-radio-group",{model:{value:e.form.isReal,callback:function(t){e.$set(e.form,"isReal",t)},expression:"form.isReal"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)]],2),e._v(" "),a("el-form-item",{attrs:{label:"商品详情描述：","label-width":e.formLabelWidth,prop:"goodsContent"}},[a("c-rich-text",{model:{value:e.form.goodsContent,callback:function(t){e.$set(e.form,"goodsContent",t)},expression:"form.goodsContent"}}),e._v(" "),a("el-input",{attrs:{type:"hidden"},model:{value:e.form.catId,callback:function(t){e.$set(e.form,"catId",t)},expression:"form.catId"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer",align:"center"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.$router.go(-1)}}},[e._v("返回")]),e._v(" "),a("c-button",{attrs:{type:"primary"},on:{click:e.btnOk}},[e._v("确 定")])],1)],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){"use strict";function o(e){a(903)}var i=a(905),n=a(906),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.a=s.exports},function(e,t,a){var o=a(904);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("0bbdd3bd",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,"",""])},function(e,t,a){"use strict";var o=a(149),i=a.n(o),n=a(222);t.a={name:"GoodsImage",props:{goodsId:Number,goodsImage:Array},data:function(){return{listType:"picture",formLabelWidth:"120px",form:{gImage:this.getGoodsImage(this.goodsImage),goodsId:this.goodsId},rules:{}}},watch:{goodsId:function(e,t){this.form.goodsId=e},goodsImage:function(e,t){this.form.gImage=this.getGoodsImage(e)}},computed:i()({},Object(n.c)("options",["options"])),methods:{close:function(){this.$emit("close")},btnOk:function(e){var t=this;this.$refs.form.validate(function(a){for(var o=[],i=0;i<t.form.gImage.length;i++)o.push(t.form.gImage[i].storageName);a?t.$service.goodsService.saveGoodsImage({goodsId:t.form.goodsId,imageUrls:o}).then(function(){t.$emit("ok")}).finally(function(){e.isLoading(!1)}):e.isLoading(!1)})},getGoodsImage:function(e){var t=[];return null!==e&&e.length>0&&(t=e.map(function(e){return{fileName:"图片",storageName:e.imageUrl}})),t}}}},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"图片上传：","label-width":e.formLabelWidth,prop:"originalImg"}},[a("c-upload",{attrs:{listType:e.listType},model:{value:e.form.gImage,callback:function(t){e.$set(e.form,"gImage",t)},expression:"form.gImage"}})],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-input",{staticClass:"w300",attrs:{type:"hidden"},model:{value:e.form.goodsId,callback:function(t){e.$set(e.form,"goodsId",t)},expression:"form.goodsId"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer",align:"center"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.$router.go(-1)}}},[e._v("返回")]),e._v(" "),a("c-button",{attrs:{type:"primary"},on:{click:e.btnOk}},[e._v("确 定")])],1)],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){"use strict";function o(e){a(908)}var i=a(910),n=a(920),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.a=s.exports},function(e,t,a){var o=a(909);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("3030f699",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,"",""])},function(e,t,a){"use strict";var o=a(149),i=a.n(o),n=a(222),l=a(911);t.a={components:{SpecTable:l.a},name:"GoodsMode",props:{modeListData:{type:Array},goodsId:{type:Number},gType:{type:Number},gSpecPriceList:{type:Array,default:[]},gSpecList:{type:Array,default:[]},gAttrList:{type:Array,default:[]}},data:function(){return{formLabelWidth:"120px",visible:!0,form:{goodsId:this.goodsId,goodsType:this.gType},rules:{},goodsType:this.gType,modeList:this.modeListData,specList:this.gSpecList,attrList:this.gAttrList,specPriceList:this.gSpecPriceList}},watch:{goodsId:function(e,t){this.form.goodsId=e},gType:function(e,t){this.goodsType=e,this.form.goodsType=e},modeListData:function(e,t){this.modeList=e},gSpecList:function(e,t){this.specList=e},gAttrList:function(e,t){this.attrList=e},gSpecPriceList:function(e,t){this.specPriceList=e}},computed:i()({},Object(n.c)("options",["options"])),methods:{close:function(){this.$emit("close")},handleChange:function(e){var t=this;null!=e&&(this.goodsType=e,this.$service.goodsService.querySpecAndAttrByType({goodsId:this.goodsId,type:e}).then(function(e){t.specList=e.data.specList,t.attrList=e.data.attributeList}))}}}},function(e,t,a){"use strict";function o(e){a(912)}var i=a(914),n=a(919),l=a(68),r=o,s=l(i.a,n.a,!1,r,"data-v-7e905928",null);t.a=s.exports},function(e,t,a){var o=a(913);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("a8fbed2c",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,".w65[data-v-7e905928]{width:65px}",""])},function(e,t,a){"use strict";var o=a(102),i=a.n(o),n=a(818);t.a={name:"SpecTable",components:{KillEditDialog:n.a},props:{specList:{type:Array},attrList:{type:Array},specPriceList:{type:Array},goodsId:{type:Number},goodsType:{type:Number}},data:function(){var e=this.getExchangeTableData();return{specPriceTable:e,specPriceTableName:e.specPriceTableName,specPriceData:e.specPriceData,form:{},dialog:{data:null,tag:""},rules:{goodsName:[].concat(i()(this.$checkRules.notEmpty))}}},watch:{specList:function(e,t){this.specList=e,this.getExchangeTableData()},attrList:function(e,t){this.attrList=e},specPriceTable:function(e,t){this.specPriceTableName=e.specPriceTableName,this.specPriceData=e.specPriceData},goodsId:function(e,t){this.form.goodsId=e},goodsType:function(e,t){this.form.goodsId=e}},methods:{onKill:function(e){this.dialog.tag="KillEditDialog",console.log(e),this.dialog.data={specGoodsId:e.id,key:e.key}},doExchange:function(e){var t=e.length;if(t>=2){for(var a=e[0].length,o=e[1].length,i=a*o,n=new Array(i),l=0,r=0;r<a;r++)for(var s=0;s<o;s++)e[0][r]instanceof Array?n[l]=e[0][r].concat(e[1][s]):n[l]=[e[0][r]].concat(e[1][s]),l++;for(var c=new Array(t-1),d=2;d<e.length;d++)c[d-1]=e[d];return c[0]=n,this.doExchange(c)}return e[0]},getExchangeTableData:function(){var e=void 0,t=void 0;e=[],t=[];var a=[],o="";if(null!=this.specList&&this.specList.length>0)for(var i=0;i<this.specList.length;i++){var n=this.specList[i],l=!1,r=n.specItemList;if(null!=r&&r.length>0){for(var s=[],c=0;c<r.length;c++)!0===r[c].checked&&(l=!0,s.push(r[c]));s.length>0&&a.push(s)}l&&(e.push({specId:n.id,lableName:n.name,propName:"spec_"+n.id}),""!==o&&(o+=","),o+=n.name+":{spec_"+n.id+"}")}var d=[];if(a.length>1)d=this.doExchange(a);else if(null!=a&&a.length>0&&null!=a[0]&&a[0].length>0)for(var u=0;u<a[0].length;u++){var m=[];m.push(a[0][u]),d.push(m)}if(null!=d&&d.length>0)for(var h=0;h<d.length;h++)if(null!=d[h]&&d[h].length>0){for(var p={},f="",v="",g=0;g<d[h].length;g++){var b="spec_"+d[h][g].specId,y=d[h][g].item;p[b]=y,g>0&&(f+="_",v+="_"),f+=d[h][g].id,v+=e[g].lableName+":"+d[h][g].item}if(p.id=0,p.goodsId=this.goodsId,p.key=f,p.keyName=v,p.price="",p.storeCount="",p.sku="",f.length>0&&null!=this.specPriceList&&this.specPriceList.length>0)for(var _=0;_<this.specPriceList.length;_++){var k=this.specPriceList[_];k.key===f&&(p.id=k.id,p.price=k.price,p.storeCount=k.storeCount,p.sku=k.sku)}t.push(p)}var w={};return w.specPriceTableName=e,w.specPriceData=t,this.specPriceTable=w,w},deleteSpecPrice:function(e){for(var t=[],a=0;a<this.specPriceData.length;a++)this.specPriceData[a].key!==e&&t.push(this.specPriceData[a]);this.specPriceData=t},close:function(){this.$emit("close")},btnOk:function(e){var t=this;this.$refs.form.validate(function(a){var o=t.attrList.map(function(e){return{goodsId:t.goodsId,attrId:e.attrId,attrValue:e.attrValues}});a?t.$service.goodsService.saveGoodsSpecAndAttr({goodsId:t.goodsId,goodsType:t.goodsType,specPriceList:t.specPriceData,attrList:o}).then(function(){t.$emit("ok")}).finally(function(){e.isLoading(!1)}):e.isLoading(!1)})},clickSpecItem:function(e){this.getExchangeTableData()}}}},function(e,t,a){var o=a(916);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("36d13796",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,".w100[data-v-00cc51df]{width:100px}.killDialog[data-v-00cc51df] .el-dialog{width:400px!important}",""])},function(e,t,a){"use strict";var o=a(149),i=a.n(o),n=a(102),l=a.n(n),r=a(222);t.a={components:{},name:"KillEditDialog",props:{data:{type:Object,default:function(){return{id:null,key:null,status:null,specGoodsId:null,price:null,killCount:null,begainTime:null,endTime:null}}}},data:function(){return{formLabelWidth:"120px",visible:!0,killForm:{id:this.data.id,key:this.data.key,status:this.data.status,specGoodsId:this.data.specGoodsId,price:this.data.price,killCount:this.data.killCount,begainTime:this.data.begainTime,endTime:this.data.endTime},rules:{notEmpty:[].concat(l()(this.$checkRules.notEmpty)),notEmptyNumber:[].concat(l()(this.$checkRules.notEmpty),l()(this.$checkRules.numeric))},goodsType:this.gType,modeList:this.modeListData,specList:this.gSpecList,attrList:this.gAttrList,specPriceList:this.gSpecPriceList}},watch:{},computed:i()({},Object(r.c)("options",["options"])),methods:{close:function(){this.$emit("close")},saveKill:function(e){var t=this;this.$refs.killForm.validate(function(a){a?t.$service.goodsService.saveKillGoods(t.killForm).then(function(){t.$emit("close")}).finally(function(){e.isLoading(!1)}):e.isLoading(!1)})}}}},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{staticClass:"killDialog",attrs:{title:"秒杀设置",visible:e.visible},on:{"update:visible":function(t){e.visible=t},close:e.close}},[a("el-form",{ref:"killForm",attrs:{model:e.killForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"价格",prop:"price",rules:e.rules.notEmptyNumber}},[a("el-input",{staticClass:"w100",model:{value:e.killForm.price,callback:function(t){e.$set(e.killForm,"price",t)},expression:"killForm.price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数量",prop:"killCount",rules:e.rules.notEmptyNumber}},[a("el-input",{staticClass:"w100",model:{value:e.killForm.killCount,callback:function(t){e.$set(e.killForm,"killCount",t)},expression:"killForm.killCount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态：","label-width":e.formLabelWidth,required:"",prop:"status"}},[[a("el-radio-group",{model:{value:e.killForm.status,callback:function(t){e.$set(e.killForm,"status",t)},expression:"killForm.status"}},[a("el-radio",{attrs:{label:1}},[e._v("有效")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("无效")])],1)]],2),e._v(" "),a("el-form-item",{attrs:{label:"开始时间",prop:"begainTime",rules:e.rules.notEmpty}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"开始时间"},on:{change:function(t){return e.killForm.begainTime=t}},model:{value:e.killForm.begainTime,callback:function(t){e.$set(e.killForm,"begainTime",t)},expression:"killForm.begainTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结束时间",prop:"endTime",rules:e.rules.notEmpty}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"结束时间"},on:{change:function(t){return e.killForm.endTime=t}},model:{value:e.killForm.endTime,callback:function(t){e.$set(e.killForm,"endTime",t)},expression:"killForm.endTime"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.close()}}},[e._v("取 消")]),e._v(" "),a("c-button",{attrs:{type:"primary"},on:{click:e.saveKill}},[e._v("确 定")])],1)],1)],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.specList}},[a("el-table-column",{attrs:{prop:"name",label:"规格名称",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"规格项","min-width":"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._l(t.row.specItemList,function(o){return[!0===o.checked?a("el-button",{attrs:{type:"success"},on:{click:function(a){o.checked=!o.checked,e.clickSpecItem(t.row)}}},[e._v(e._s(o.item))]):e._e(),e._v(" "),!1===o.checked?a("el-button",{attrs:{type:"default"},on:{click:function(a){o.checked=!o.checked,e.clickSpecItem(t.row)}}},[e._v(e._s(o.item))]):e._e()]})]}}])})],1)],1),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"grid-content bg-purple"},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.specPriceData},scopedSlots:e._u([{key:"default",fn:function(t){return[e._l(e.specPriceTableName,function(e,t){return a("el-table-column",{key:t,attrs:{prop:e.propName,label:e.lableName,"min-width":"80"}})}),e._v(" "),a("el-table-column",{attrs:{label:"价格",width:"75"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"w65",attrs:{required:""},model:{value:t.row.storeCount,callback:function(a){e.$set(t.row,"storeCount",a)},expression:"scope.row.storeCount"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"库存",width:"75"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"w65",attrs:{required:""},model:{value:t.row.price,callback:function(a){e.$set(t.row,"price",a)},expression:"scope.row.price"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"SKU",width:"75"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"w65",attrs:{required:""},model:{value:t.row.sku,callback:function(a){e.$set(t.row,"sku",a)},expression:"scope.row.sku"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.deleteSpecPrice(t.row.key)}}},[e._v("删除")]),e._v(" "),a("el-button",{attrs:{type:"warning",size:"small"},on:{click:function(a){e.onKill(t.row)}}},[e._v("加入秒杀")])]}}])})]}}])})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.attrList}},[a("el-table-column",{attrs:{prop:"attrName",label:"属性名称",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{label:"属性值","min-width":"190"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{type:"text"},model:{value:t.row.attrValues,callback:function(a){e.$set(t.row,"attrValues",a)},expression:"scope.row.attrValues"}})]}}])})],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple",attrs:{align:"center"}},[a("br"),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.$router.go(-1)}}},[e._v("返回")]),e._v(" "),a("c-button",{attrs:{type:"primary"},on:{click:e.btnOk}},[e._v("确 定")])],1)])],1),e._v(" "),a(e.dialog.tag,{tag:"component",attrs:{data:e.dialog.data},on:{close:function(t){e.dialog.tag=""}}})],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"商品模型：","label-width":e.formLabelWidth,prop:"goodsType"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.handleChange},model:{value:e.form.goodsType,callback:function(t){e.$set(e.form,"goodsType",t)},expression:"form.goodsType"}},e._l(e.modeList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),a("div",[a("spec-table",{attrs:{specList:e.specList,attrList:e.attrList,goodsType:e.goodsType,specPriceList:e.specPriceList,goodsId:e.form.goodsId},on:{close:e.close}}),e._v(" "),a("br")],1)],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"通用信息",name:"base"}},[a("goods-base-info",{attrs:{categoryTreeData:e.categoryTreeData,goodsBase:e.goodsBase},on:{ok:e.onOk,close:function(t){e.visible=!1}}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"商品相册",name:"image",disabled:e.noSavedBase}},[a("goods-image",{attrs:{goodsId:e.goodsId,goodsImage:e.goodsImage},on:{close:function(t){e.visible=!1}}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"商品模型",name:"type",disabled:e.noSavedBase}},[a("goods-mode",{attrs:{modeListData:e.modeListData,goodsId:e.goodsId,gType:e.goodsType,gSpecPriceList:e.specPrice,gSpecList:e.goodsSpec,gAttrList:e.goodsAttr},on:{close:function(t){e.visible=!1}}})],1)],1)],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){var o=a(923);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("892c1fba",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,".green[data-v-28bd2e03]{color:#13ce66}",""])},function(e,t,a){"use strict";var o=a(149),i=a.n(o),n=a(101),l=a.n(n),r=a(69),s=a.n(r),c=a(818),d={};t.a={name:"KillManage",components:{KillEditDialog:c.a},filters:{statusClass:function(e){return e?"el-icon-circle-check green":"el-icon-circle-close"},statusStr:function(e){return e?"是":"否"}},data:function(){return{activeName:"1",currentPage:1,pageSize:10,searchForm:{name:"",typeId:null==this.$route.query.typeId?"":Number(this.$route.query.typeId)},typeOptions:[],dialog:"",dialogData:{},canDeleteBatch:!1,loading:!1,tableData:{records:0,page:1,rows:[]},multipleSelection:[]}},mounted:function(){this.getGoodsType(),s()(d,this.searchForm),this.handleCurrentChange(1)},destroyed:function(){this.$message.closeAll()},watch:{multipleSelection:function(e){this.canDeleteBatch=e.length>0}},methods:{getGoodsType:function(){var e=this;this.$service.goodsService.getAllType().then(function(t){e.typeOptions=t.data})},onSearch:function(){s()(d,this.searchForm),this.handleCurrentChange(1)},handleSizeChange:function(e){this.pageSize=e},handleSortChange:function(e){var t=e.sidx,a=e.sord;d.sidx=t,d.sord=a,this.handleCurrentChange(this.currentPage)},handleCurrentChange:function(e){var t=this;return this.currentPage=e,this.loading=!0,new l.a(function(a,o){t.$service.goodsService.queryKillPage(i()({},d,{page:e,rows:t.pageSize})).then(function(e){t.tableData=e.data,a()}).catch(function(){o()}).finally(function(){t.loading=!1})})},onAdd:function(){this.dialogData.detail=null,this.dialog="SDialogAdd"},handleEdit:function(e){this.dialogData=e,this.dialog="KillEditDialog"},handleSave:function(e){this.$service.goodsService.saveSpec(e)},handleUpdate:function(e){this.$service.goodsService.updateSpec(e)},handleDelete:function(e,t){var a=this;this.$service.goodsService.deleteKillGoods({id:t.id}).then(function(){a.handleCurrentChange(a.tableData.page)}).finally(function(){e.isLoading(!1)})},handleOk:function(){this.handleCurrentChange(this.tableData.page)},handleSelectionChange:function(e){this.multipleSelection=e},handleSpec:function(){}}}},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,onkeydown:"if(event.keyCode===13){return false;}"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.onSearch(t)}}},[a("el-form-item",{staticClass:"pull-right"},[a("el-input",{attrs:{placeholder:"请输入名称,回车查询",icon:"search","on-icon-click":e.onSearch},model:{value:e.searchForm.name,callback:function(t){e.$set(e.searchForm,"name",t)},expression:"searchForm.name"}})],1)],1),e._v(" "),a("c-page-table",{attrs:{data:e.tableData,loading:e.loading},on:{"selection-change":e.handleSelectionChange,"size-change":e.handleSizeChange,"sort-change":e.handleSortChange,"current-change":e.handleCurrentChange}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"ID","min-width":"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsName",label:"商品名称","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"keyName",label:"规格","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"价格","min-width":"30",prop:"price"}}),e._v(" "),a("el-table-column",{attrs:{label:"数量","min-width":"30",prop:"killCount"}}),e._v(" "),a("el-table-column",{attrs:{label:"开始时间","min-width":"60",prop:"begainTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("datetimeFormat")(t.row.begainTime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"结束时间","min-width":"60",prop:"endTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("datetimeFormat")(t.row.endTime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"info",icon:"edit"},on:{click:function(a){e.handleEdit(t.row)}}},[e._v("编辑")]),e._v(" "),a("c-pop-button",{attrs:{size:"small",type:"danger",pMsg:"确认要删除吗？"},on:{click:function(a){return e.handleDelete(a,t.row)}}},[a("i",{staticClass:"el-icon-delete"}),e._v(" 删除\n             ")])]}}])})],1),e._v(" "),a("el-collapse",{attrs:{accordion:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[e._v("\n             温馨提醒 "),a("i",{staticClass:"header-icon el-icon-information",staticStyle:{color:"#F7BA2A"}})]),e._v("\n           商品规格是购买商品时给用户选择的, 涉及到价格变动库存等, 例如:衣服的 颜色 尺寸 等\n         ")],2)],1),e._v(" "),a(e.dialog,{tag:"component",attrs:{data:e.dialogData},on:{ok:function(t){e.handleOk()},close:function(t){e.dialog=""}}})],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},,,function(e,t,a){var o=a(929);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("55e0ddba",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,"",""])},function(e,t,a){"use strict";var o=a(101),i=a.n(o),n=a(69),l=a.n(n),r=a(931),s=a(936),c=a(941),d={};t.a={name:"UserManager",components:{SDialogAdd:r.a,SDialogEdit:s.a,SDialogDetail:c.a},data:function(){return{currentPage:1,pageSize:10,searchForm:{param:""},dialog:"",dialogData:{detail:{},resourceTree:[]},canDeleteBatch:!1,loading:!1,tableData:{records:0,page:1,rows:[]},multipleSelection:[]}},mounted:function(){var e=this;this.handleCurrentChange(1),this.$webUtil.must(function(){return e.$service.system.queryResourceTree()},function(t){e.dialogData.resourceTree=t.data},2e3)},destroyed:function(){this.$message.closeAll()},watch:{multipleSelection:function(e){this.canDeleteBatch=e.length>0}},methods:{onSearch:function(){l()(d,this.searchForm),this.handleCurrentChange(1)},handleSizeChange:function(e){this.pageSize=e},handleSortChange:function(e){var t=e.sidx,a=e.sord;d.sidx=t,d.sord=a,this.handleCurrentChange(this.currentPage)},handleCurrentChange:function(e){var t=this;return this.currentPage=e,this.loading=!0,new i.a(function(a,o){t.$service.system.queryRolePage(e,t.pageSize,d).then(function(e){t.tableData=e,a()}).catch(function(){o()}).finally(function(){t.loading=!1})})},handleEdit:function(e){this.dialogData.detail=e,this.dialog="SDialogEdit"},handleDetail:function(e){this.dialogData.detail=e,this.dialog="SDialogDetail"},handleDelete:function(e,t){var a=this;this.$service.system.deleteRole(t.id).then(function(){a.handleCurrentChange(a.tableData.page)}).finally(function(){e.isLoading(!1)})},handleSelectionChange:function(e){this.multipleSelection=e},onAdd:function(){this.dialog="SDialogAdd"},onDeleteBatch:function(e){var t=this;if(this.multipleSelection.length>0){for(var a=[],o=0;o<this.multipleSelection.length;o++)a.push(this.multipleSelection[o].id);this.$service.system.batchDeleteRole(a).then(function(){t.handleCurrentChange(t.tableData.page)}).finally(function(){e.isLoading(!1)})}else this.$message({message:"没有选中项",type:"warning"}),e.isLoading(!1)}}}},function(e,t,a){"use strict";function o(e){a(932)}var i=a(934),n=a(935),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.a=s.exports},function(e,t,a){var o=a(933);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("71a97c47",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,"",""])},function(e,t,a){"use strict";t.a={name:"SDialogAdd",props:{data:{type:Object,default:{resourceTree:[]}}},data:function(){return{formLabelWidth:"120px",visible:!0,form:{roleName:"",roleCode:"",roleDesc:""},rules:{roleName:this.$checkRules.roleNameR},resourceProps:{children:"nodes",label:"text"},resourceDefault:[this.$constant.Options.ResTreeRoot],resourceTree:this.data.resourceTree}},methods:{close:function(){this.$emit("close")},btnOk:function(e){var t=this;this.$refs.form.validate(function(a){a?(t.form.resources=t.$refs.resourceTree.getCheckedKeys(),t.$service.system.addRole(t.form).then(function(){t.visible=!1,t.$emit("ok")}).finally(function(){e.isLoading(!1)})):e.isLoading(!1)})}}}},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"新增角色"},on:{close:e.close},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"角色名","label-width":e.formLabelWidth,prop:"roleName"}},[a("el-input",{model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色编码","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.form.roleCode,callback:function(t){e.$set(e.form,"roleCode",t)},expression:"form.roleCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色描述","label-width":e.formLabelWidth,prop:"roleDesc"}},[a("el-input",{model:{value:e.form.roleDesc,callback:function(t){e.$set(e.form,"roleDesc",t)},expression:"form.roleDesc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限管理","label-width":e.formLabelWidth}},[a("c-tree",{ref:"resourceTree",staticStyle:{height:"300px",overflow:"auto"},attrs:{"check-strictly":"","show-checkbox":"","node-key":"id","default-expanded-keys":e.resourceDefault,data:e.resourceTree,props:e.resourceProps}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),e._v(" "),a("c-button",{attrs:{type:"primary"},on:{click:e.btnOk}},[e._v("确 定")])],1)],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){"use strict";function o(e){a(937)}var i=a(939),n=a(940),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.a=s.exports},function(e,t,a){var o=a(938);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("5b9224e4",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,"",""])},function(e,t,a){"use strict";t.a={name:"SDialogEdit",props:{data:{type:Object,default:{detail:{}}}},data:function(){return{formLabelWidth:"120px",visible:!0,form:{id:this.data.id,roleName:this.data.detail.roleName,roleCode:this.data.detail.roleCode,roleDesc:this.data.detail.roleDesc},rules:{roleName:this.$checkRules.roleNameR},resourceProps:{children:"nodes",label:"text"},resourceDefault:[this.$constant.Options.ResTreeRoot],resourceTree:this.data.resourceTree}},mounted:function(){var e=this;this.$service.system.detailRole({id:this.data.detail.id}).then(function(t){e.form=e.$lodash.pick(t.roleInfo,["id","roleName","roleCode","roleDesc"]),e.$refs.resourceTree.setCheckedKeys(t.resourceInfo),e.resourceDefault=t.resourceInfo})},methods:{close:function(){this.$emit("close")},btnOk:function(e){var t=this;this.$refs.form.validate(function(a){a?(t.form.resources=t.$refs.resourceTree.getCheckedKeys(),t.$service.system.updateRole(t.form).then(function(){t.$emit("ok"),t.visible=!1}).finally(function(){e.isLoading(!1)})):e.isLoading(!1)})}}}},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"编辑角色"},on:{close:e.close},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"角色名","label-width":e.formLabelWidth,prop:"roleName"}},[a("el-input",{model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色编码","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.form.roleCode,callback:function(t){e.$set(e.form,"roleCode",t)},expression:"form.roleCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色描述","label-width":e.formLabelWidth,prop:"roleDesc"}},[a("el-input",{model:{value:e.form.roleDesc,callback:function(t){e.$set(e.form,"roleDesc",t)},expression:"form.roleDesc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限管理","label-width":e.formLabelWidth}},[a("c-tree",{ref:"resourceTree",staticStyle:{height:"300px",overflow:"auto"},attrs:{"check-strictly":"","show-checkbox":"","node-key":"id","default-expanded-keys":e.resourceDefault,data:e.resourceTree,props:e.resourceProps}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),e._v(" "),a("c-button",{attrs:{type:"primary"},on:{click:e.btnOk}},[e._v("确 定")])],1)],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){"use strict";function o(e){a(942)}var i=a(944),n=a(945),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.a=s.exports},function(e,t,a){var o=a(943);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("4f0d47ed",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,"",""])},function(e,t,a){"use strict";t.a={name:"SDialogDetail",props:{data:{type:Object,default:{detail:{},resourceTree:[]}}},data:function(){return{formLabelWidth:"120px",detail:{roleName:this.data.detail.roleName,roleCode:this.data.detail.roleCode,roleDesc:this.data.detail.roleDesc},resourceProps:{children:"nodes",label:"text"},resourceDefault:[this.$constant.Options.ResTreeRoot],loading:!1,visible:!0}},computed:{resourceTree:function(){return this.data.resourceTree}},mounted:function(){var e=this;this.loading=!0,this.$service.system.detailRole({id:this.data.detail.id}).then(function(t){e.detail=e.$lodash.pick(t.roleInfo,["id","roleName","roleCode","roleDesc"]),e.$refs.resourceTree.setCheckedKeys(t.resourceInfo),e.resourceDefault=t.resourceInfo}).finally(function(){e.loading=!1})},methods:{close:function(){this.$emit("close")}}}},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"角色详情"},on:{close:e.close},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("el-form-item",{attrs:{label:"角色名","label-width":e.formLabelWidth}},[e._v("\n      "+e._s(e.detail.roleName)+"\n    ")]),e._v(" "),a("el-form-item",{attrs:{label:"角色编码","label-width":e.formLabelWidth}},[e._v("\n      "+e._s(e.detail.roleCode)+"\n    ")]),e._v(" "),a("el-form-item",{attrs:{label:"角色描述","label-width":e.formLabelWidth}},[e._v("\n      "+e._s(e.detail.roleDesc)+"\n    ")]),e._v(" "),a("el-form-item",{attrs:{label:"权限管理","label-width":e.formLabelWidth}},[a("c-tree",{ref:"resourceTree",staticStyle:{height:"300px",overflow:"auto"},attrs:{"check-strictly":"","show-checkbox":"","disabled-checkbox":"","node-key":"id","default-expanded-keys":e.resourceDefault,data:e.resourceTree,props:e.resourceProps}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.visible=!1}}},[e._v("关 闭")])],1)],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,onkeydown:"if(event.keyCode==13){return false;}"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.onSearch(t)}}},[a("el-form-item",{staticClass:"pull-right"},[a("el-input",{attrs:{placeholder:"角色名/角色编码/描述",icon:"search","on-icon-click":e.onSearch},model:{value:e.searchForm.param,callback:function(t){e.$set(e.searchForm,"param",t)},expression:"searchForm.param"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.onAdd}},[e._v("新增")])],1),e._v(" "),a("el-form-item",[a("c-pop-button",{attrs:{type:"danger",pMsg:"确认要批量删除吗？",disabled:!e.canDeleteBatch},on:{click:e.onDeleteBatch}},[a("i",{staticClass:"el-icon-delete"}),e._v(" 批量删除")])],1)],1),e._v(" "),a("c-page-table",{attrs:{data:e.tableData,loading:e.loading},on:{"selection-change":e.handleSelectionChange,"size-change":e.handleSizeChange,"sort-change":e.handleSortChange,"current-change":e.handleCurrentChange}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"roleName",label:"角色名",sortable:"custom","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"roleCode",label:"角色编码",sortable:"custom","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"roleDesc",label:"角色描述",sortable:"custom","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){e.handleEdit(t.row)}}},[e._v("编辑\n          ")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"default"},on:{click:function(a){e.handleDetail(t.row)}}},[e._v("详情\n          ")]),e._v(" "),a("c-pop-button",{attrs:{size:"small",type:"danger",pMsg:"确认要删除吗？"},on:{click:function(a){return e.handleDelete(a,t.row)}}},[e._v("删除\n          ")])]}}])})],1),e._v(" "),a(e.dialog,{tag:"component",attrs:{data:e.dialogData},on:{ok:function(t){e.handleCurrentChange(e.tableData.page)},close:function(t){e.dialog=""}}})],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){var o=a(948);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("2cfc6afa",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,"",""])},function(e,t,a){"use strict";var o=a(101),i=a.n(o),n=a(69),l=a.n(n),r=a(950),s={};t.a={name:"UserManager",components:{SDialogEdit:r.a},data:function(){return{currentPage:1,pageSize:10,searchForm:{orderSn:"",orderStatus:"",payStatus:"",shippingStatus:""},orderStatusOpts:[],shippingStatusOpts:[],dialog:"",dialogData:{},canDeleteBatch:!1,loading:!1,tableData:{records:0,page:1,rows:[]},multipleSelection:[]}},mounted:function(){this.getSelectData(),this.handleCurrentChange(1)},destroyed:function(){this.$message.closeAll()},watch:{multipleSelection:function(e){this.canDeleteBatch=e.length>0}},methods:{getSelectData:function(){var e=this;this.$service.options.getOrderStatus().then(function(t){e.orderStatusOpts=t.data}),this.$service.options.getShippingStatus().then(function(t){e.shippingStatusOpts=t.data})},onSearch:function(){return l()(s,this.searchForm),this.handleCurrentChange(1),!1},handleSizeChange:function(e){this.pageSize=e},handleSortChange:function(e){var t=e.sidx,a=e.sord;s.sidx=t,s.sord=a,this.handleCurrentChange(this.currentPage)},handleCurrentChange:function(e){var t=this;return this.currentPage=e,this.loading=!0,new i.a(function(a,o){s.page=e,s.size=t.pageSize,t.$service.orderService.queryByPage(s).then(function(e){t.tableData=e.data,a()}).catch(function(){o()}).finally(function(){t.loading=!1})})},onAdd:function(){this.dialog="SDialogAdd"},handleEdit:function(e){this.dialogData.detail=e,this.dialog="SDialogEdit"},handleDetail:function(e){this.dialogData.detail=e,this.dialog="SDialogDetail"},handleDelete:function(e,t){var a=this;this.$service.system.deleteUser(t.id).then(function(){a.handleCurrentChange(a.tableData.page)}).finally(function(){e.isLoading(!1)})},handleSelectionChange:function(e){this.multipleSelection=e},handleResetPassword:function(e){var t=this;this.$confirm("此用户密码将重置, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$service.system.resetPassword({userId:e}).then(function(e){t.$message({type:"success",message:e.msg})})})},onDeleteBatch:function(e){var t=this;if(this.multipleSelection.length>0){for(var a=[],o=0;o<this.multipleSelection.length;o++)a.push(this.multipleSelection[o].id);this.$service.system.batchDeleteUser(a).then(function(){t.handleCurrentChange(t.tableData.page)}).finally(function(){e.isLoading(!1)})}else this.$message({message:"没有选中项",type:"warning"}),e.isLoading(!1)},handleFreeze:function(e){var t=this;this.$confirm("此用户密码将冻结, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$service.system.freezeUser({userId:e,status:"2"}).then(function(e){t.handleCurrentChange(t.tableData.page),t.$message({type:"success",message:e.msg})})})},handleUnFreeze:function(e){var t=this;this.$confirm("此用户密码将解冻, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$service.system.freezeUser({userId:e,status:"1"}).then(function(e){t.handleCurrentChange(t.tableData.page),t.$message({type:"success",message:e.msg})})})}}}},function(e,t,a){"use strict";function o(e){a(951)}var i=a(953),n=a(954),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.a=s.exports},function(e,t,a){var o=a(952);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("eb37be1e",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,"",""])},function(e,t,a){"use strict";var o=a(149),i=a.n(o),n=a(751),l=a.n(n),r=a(69),s=a.n(r),c=a(102),d=a.n(c),u=a(222);t.a={name:"SDialogEdit",props:{data:{type:Object,default:{}}},data:function(){var e=this,t=this.$lodash,a=function(a,o,i){t.isEmpty(o)?i():e.$service.system.getUserByIdentityCode({identityCode:o}).then(function(a){t.isEmpty(a.data)||""+a.data.id==""+e.data.detail.id?i():i(new Error("该编号已被"+a.data.realName+"使用"))}).catch(function(){i(new Error("校验失败请重新选择"))})};return{loading:!1,formLabelWidth:"120px",visible:!0,form:{id:this.data.detail.id,icon:this.data.detail.icon,userName:this.data.detail.userName,realName:this.data.detail.realName,joinDate:this.data.detail.joinDate,birthday:this.data.detail.birthday,mobile:this.data.detail.mobile,email:this.data.detail.email,qq:this.data.detail.qq,wx:this.data.detail.wx,departIds:"",roleIds:[],positionLevel:this.data.detail.positionLevel,identityCode:this.data.detail.identityCode},rules:{userName:this.$checkRules.username,realName:this.$checkRules.name,joinDate:this.$checkRules.joinDate,mobile:[].concat(d()(this.$checkRules.mobileR),d()(this.$checkRules.mobile)),email:[].concat(d()(this.$checkRules.email),d()(this.$checkRules.emailR)),departIds:this.$checkRules.department,positionLevel:this.$checkRules.positionLevel,roleIds:this.$checkRules.roleOption,identityCode:[{validator:a,trigger:"blur,change"}]}}},created:function(){var e=this;this.$service.system.detailUser({id:this.data.detail.id}).then(function(t){s()(e.form,e.$lodash.pick(t.userInfo,["id","icon","userName","realName","birthday","joinDate","mobile","email","qq","wx","positionLevel","identityCode"])),e.$lodash.isEmpty(t.departments[0])?e.form.departIds="":e.form.departIds=t.departments[0].id;var a=[],o=!0,i=!1,n=void 0;try{for(var r,c=l()(t.roleNames);!(o=(r=c.next()).done);o=!0){var d=r.value,u=d.id;a.push(u)}}catch(e){i=!0,n=e}finally{try{!o&&c.return&&c.return()}finally{if(i)throw n}}e.form.roleIds=a})},computed:i()({},Object(u.c)("options",["options"])),methods:{close:function(){this.$emit("close")},btnOk:function(e){var t=this;this.$refs.form.validate(function(a){a?t.$service.system.updateUser(t.form).then(function(){t.$emit("ok"),t.visible=!1}).finally(function(){e.isLoading(!1)}):e.isLoading(!1)})}}}},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"编辑用户"},on:{close:e.close},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"头像","label-width":e.formLabelWidth,prop:"icon"}},[a("c-avatar-upload",{attrs:{size:"small"},model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}})],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户名","label-width":e.formLabelWidth,prop:"userName"}},[a("el-input",{model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"姓名","label-width":e.formLabelWidth,prop:"realName"}},[a("el-input",{model:{value:e.form.realName,callback:function(t){e.$set(e.form,"realName",t)},expression:"form.realName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"入职时间","label-width":e.formLabelWidth,prop:"joinDate"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"入职日期"},on:{change:function(t){return e.form.joinDate=t}},model:{value:e.form.joinDate,callback:function(t){e.$set(e.form,"joinDate",t)},expression:"form.joinDate"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机","label-width":e.formLabelWidth,prop:"mobile"}},[a("el-input",{model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"生日","label-width":e.formLabelWidth,prop:"birthday"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"出生日期"},on:{change:function(t){return e.form.birthday=t}},model:{value:e.form.birthday,callback:function(t){e.$set(e.form,"birthday",t)},expression:"form.birthday"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"email","label-width":e.formLabelWidth,prop:"email"}},[a("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"QQ","label-width":e.formLabelWidth,prop:"qq"}},[a("el-input",{model:{value:e.form.qq,callback:function(t){e.$set(e.form,"qq",t)},expression:"form.qq"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"微信","label-width":e.formLabelWidth,prop:"wx"}},[a("el-input",{model:{value:e.form.wx,callback:function(t){e.$set(e.form,"wx",t)},expression:"form.wx"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门","label-width":e.formLabelWidth,prop:"departIds"}},[a("c-select",{attrs:{type:"Department",placeholder:"请选择"},model:{value:e.form.departIds,callback:function(t){e.$set(e.form,"departIds",t)},expression:"form.departIds"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"职务","label-width":e.formLabelWidth,prop:"positionLevel"}},[a("c-select",{attrs:{type:"PositionLevel",placeholder:"请选择"},model:{value:e.form.positionLevel,callback:function(t){e.$set(e.form,"positionLevel",t)},expression:"form.positionLevel"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"角色","label-width":e.formLabelWidth,prop:"roleIds"}},[a("c-select",{attrs:{type:"RoleName",multiple:"",placeholder:"请选择"},model:{value:e.form.roleIds,callback:function(t){e.$set(e.form,"roleIds",t)},expression:"form.roleIds"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"编号","label-width":e.formLabelWidth,prop:"identityCode"}},[a("c-select",{attrs:{type:"KqUser",placeholder:"请选择",filterable:"",clearable:""},model:{value:e.form.identityCode,callback:function(t){e.$set(e.form,"identityCode",t)},expression:"form.identityCode"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),e._v(" "),a("c-button",{attrs:{type:"primary"},on:{click:e.btnOk}},[e._v("确 定")])],1)],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,onkeydown:"if(event.keyCode==13){return false;}"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.onSearch(t)}}},[a("el-form-item",{staticClass:"pull-right"},[a("el-input",{attrs:{placeholder:"订单号",icon:"search","on-icon-click":e.onSearch},model:{value:e.searchForm.orderSn,callback:function(t){e.$set(e.searchForm,"orderSn",t)},expression:"searchForm.orderSn"}})],1),e._v(" "),a("el-form-item",{staticClass:"pull-right"},[a("el-select",{attrs:{clearable:"",placeholder:"订单状态"},on:{change:e.onSearch},model:{value:e.searchForm.orderStatus,callback:function(t){e.$set(e.searchForm,"orderStatus",t)},expression:"searchForm.orderStatus"}},e._l(e.orderStatusOpts,function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})}))],1),e._v(" "),a("el-form-item",{staticClass:"pull-right"},[a("el-select",{attrs:{clearable:"",placeholder:"发货状态"},on:{change:e.onSearch},model:{value:e.searchForm.shippingStatus,callback:function(t){e.$set(e.searchForm,"shippingStatus",t)},expression:"searchForm.shippingStatus"}},e._l(e.shippingStatusOpts,function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})}))],1),e._v(" "),a("el-form-item",{staticClass:"pull-right"},[a("el-select",{attrs:{clearable:"",placeholder:"支付状态"},on:{change:e.onSearch},model:{value:e.searchForm.payStatus,callback:function(t){e.$set(e.searchForm,"payStatus",t)},expression:"searchForm.payStatus"}},[a("el-option",{attrs:{label:"未支付",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"已支付",value:"1"}})],1)],1)],1),e._v(" "),a("c-page-table",{attrs:{data:e.tableData,loading:e.loading},on:{"selection-change":e.handleSelectionChange,"size-change":e.handleSizeChange,"sort-change":e.handleSortChange,"current-change":e.handleCurrentChange}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderSn",label:"订单号",sortable:"custom","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"收货人","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.consignee)+":"+e._s(t.row.mobile))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"orderAmount",label:"总金额","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderStatusStr",label:"订单状态","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"支付状态","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(1==t.row.payStatus?"已支付":"未支付"))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"shippingStatusStr",label:"发货状态","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"payName",label:"支付方式","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"shippingName",label:"配送方式","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"下单时间","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.$dateUtils.getShortDate(new Date(t.row.addTime))))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"default"}},[a("router-link",{attrs:{to:{path:"/order/detail",query:t.row}}},[e._v("查看")])],1)]}}])})],1)],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){var o=a(957);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("4cd91c1d",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,".label[data-v-a680463e]{text-align:right;color:gray}.el-col[data-v-a680463e]{min-height:26px}",""])},function(e,t,a){"use strict";var o=a(69),i=a.n(o),n=a(101),l=a.n(n),r=a(959),s={};t.a={name:"OrderDetail",components:{SDialogShipping:r.a},filters:{payStatus:function(e){return e?"已支付":"未支付"},shippingStatus:function(e){switch(Number(e)){case 0:return"未发货";case 1:return"已发货";case 2:return"部分发货";default:return"未发货"}}},data:function(){return{activeNames:["1","2","3","4","5","6"],orderData:{},visible:{isShowPay:!1,isShowConfirm:!1,isShowCancelConfirm:!1,isShowShipping:!1},currentPage:1,pageSize:10,myForm:{orderId:"",orderStatus:"",payStatus:"",shippingStatus:"",action:"",remark:""},orderStatusOpts:[],shippingStatusOpts:[],dialog:"",dialogData:{},canDeleteBatch:!1,loading:!1,goodsTable:[],logsTable:[],tableData:{records:0,page:1,rows:[]},multipleSelection:[]}},mounted:function(){this.orderData=this.$route.query,this.myForm.orderId=this.orderData.orderId,this.init()},destroyed:function(){this.$message.closeAll()},watch:{multipleSelection:function(e){this.canDeleteBatch=e.length>0}},methods:{init:function(){var e=this;this.getSelectData().then(function(){e.getOrderData()}),this.getGoodsData(),this.getLogsData()},setButton:function(){this.visible.isShowPay=1!==this.orderData.payStatus,this.visible.isShowConfirm=1===this.orderData.payStatus&&0===this.orderData.orderStatus,this.visible.isShowCancelConfirm=1===this.orderData.orderStatus&&0===this.orderData.shippingStatus,this.visible.isShowShipping=1===this.orderData.payStatus&&1===this.orderData.orderStatus&&1!==this.orderData.shippingStatus},getSelectData:function(){var e=this;return new l.a(function(t,a){e.$service.options.getOrderStatus().then(function(a){e.orderStatusOpts=a.data,t()}),e.$service.options.getShippingStatus().then(function(t){e.shippingStatusOpts=t.data})})},getGoodsData:function(){var e=this;this.$service.orderService.queryGoodsByOrderId({orderId:this.orderData.orderId}).then(function(t){e.goodsTable=t.data})},getLogsData:function(){var e=this;this.$service.orderService.queryLogByOrderId({orderId:this.orderData.orderId}).then(function(t){e.logsTable=t.data})},onSearch:function(){return i()(s,this.searchForm),!1},handleSizeChange:function(e){this.pageSize=e},handlePay:function(e){this.resetMyForm(),this.myForm.payStatus="1",this.myForm.action="支付",this.update(e)},handleConfirm:function(e){this.resetMyForm(),this.myForm.orderStatus="1",this.myForm.action="确认",this.update(e)},handleCancelConfirm:function(e){this.resetMyForm(),this.myForm.orderStatus="0",this.myForm.action="取消确认",this.update(e)},handleShipping:function(e){this.dialogData.orderData=this.orderData,this.dialogData.goodsTable=this.goodsTable,this.dialog="SDialogShipping"},handleCancel:function(e){this.resetMyForm(),this.myForm.orderStatus="3",this.myForm.action="取消",this.update(e)},resetMyForm:function(){this.myForm.payStatus="",this.myForm.orderStatus="",this.myForm.shippingStatus=""},update:function(e){var t=this;this.$service.orderService.update(this.myForm).then(function(){t.init()}).finally(function(){e.isLoading(!1)})},getOrderData:function(){var e=this,t=this;this.$service.orderService.detail(this.orderData.orderId).then(function(a){i()(t.orderData,a.data),t.orderData.orderStatusStr=t.orderStatusOpts.find(function(e){return e.key===t.orderData.orderStatus+""}).value,e.setButton()})},handleOk:function(){this.init()},handleEdit:function(e){this.dialogData.detail=e,this.dialog="SDialogEdit"},handleDetail:function(e){this.dialogData.detail=e,this.dialog="SDialogDetail"},handleDelete:function(e,t){var a=this;this.$service.system.deleteUser(t.id).then(function(){a.handleCurrentChange(a.tableData.page)}).finally(function(){e.isLoading(!1)})},handleSelectionChange:function(e){this.multipleSelection=e},handleResetPassword:function(e){var t=this;this.$confirm("此用户密码将重置, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$service.system.resetPassword({userId:e}).then(function(e){t.$message({type:"success",message:e.msg})})})},onDeleteBatch:function(e){var t=this;if(this.multipleSelection.length>0){for(var a=[],o=0;o<this.multipleSelection.length;o++)a.push(this.multipleSelection[o].id);this.$service.system.batchDeleteUser(a).then(function(){t.handleCurrentChange(t.tableData.page)}).finally(function(){e.isLoading(!1)})}else this.$message({message:"没有选中项",type:"warning"}),e.isLoading(!1)},handleFreeze:function(e){var t=this;this.$confirm("此用户密码将冻结, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$service.system.freezeUser({userId:e,status:"2"}).then(function(e){t.handleCurrentChange(t.tableData.page),t.$message({type:"success",message:e.msg})})})},handleUnFreeze:function(e){var t=this;this.$confirm("此用户密码将解冻, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$service.system.freezeUser({userId:e,status:"1"}).then(function(e){t.handleCurrentChange(t.tableData.page),t.$message({type:"success",message:e.msg})})})}}}},function(e,t,a){"use strict";function o(e){a(960)}var i=a(962),n=a(963),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.a=s.exports},function(e,t,a){var o=a(961);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("29bdbc4e",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,".label{text-align:right;color:gray}.el-col{min-height:26px}",""])},function(e,t,a){"use strict";t.a={name:"SDialogShipping",props:{data:{type:Object,default:{}}},data:function(){return{formLabelWidth:"120px",goodsTable:this.data.goodsTable.filter(function(e){return!e.isSend}),orderData:this.data.orderData,activeNames:["1","2","3","4","5","6"],rules:{},form:{orderId:"",orderSn:"",invoiceNo:"",shippingCode:"",shippingName:"",shippingPrice:"",consignee:"",zipcode:"",mobile:"",address:"",note:"",selectedIds:[]},shippingOptions:[],shippingTable:[],multipleSelection:[],loading:!1,visible:!0}},computed:{},mounted:function(){var e=this;this.form.orderId=this.orderData.orderId,this.form.orderSn=this.orderData.orderSn,this.form.shippingPrice=this.orderData.shippingPrice,this.form.shippingCode=this.orderData.shippingCode,this.form.shippingName=this.orderData.shippingName,this.form.consignee=this.orderData.consignee,this.form.zipcode=this.orderData.zipcode,this.form.address=this.orderData.area+this.orderData.address,this.$service.orderService.queryShipping().then(function(t){e.shippingOptions=t.data}),this.$service.orderService.queryDeliveryDocByOrderId({orderId:this.form.orderId}).then(function(t){e.shippingTable=t.data})},created:function(){this.$service.options.setOptions("PositionLevel")},methods:{changeShipping:function(){var e=this;this.form.shippingName=this.shippingOptions.find(function(t){return t.shippingCode===e.form.shippingCode}).shippingName},handleSelectionChange:function(e){this.multipleSelection=e},close:function(){this.$emit("close")},btnOk:function(e){var t=this;if(this.multipleSelection.length>0){for(var a=[],o=0;o<this.multipleSelection.length;o++)a.push(this.multipleSelection[o].recId);this.form.selectedIds=a,this.$service.orderService.shipping(this.form).then(function(e){t.visible=!1,t.$emit("ok")}).finally(function(){e.isLoading(!1)})}else this.$message({message:"没有选中项",type:"warning"}),e.isLoading(!1)}}}},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"订单发货"},on:{close:e.close},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"发货信息",name:"1"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"订单号："}},[e._v(e._s(e.orderData.orderSn))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"收货人："}},[e._v(e._s(e.orderData.consignee))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"联系方式："}},[e._v(e._s(e.orderData.mobile))])],1),e._v(" "),a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"收货地址："}},[e._v(e._s((null==e.orderData.area?"":e.orderData.area)+e.orderData.address))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"邮编："}},[e._v(e._s(e.orderData.zipcode))])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"配送费用："}},[e._v(e._s(e.orderData.shippingPrice))])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"配送方式："}},[a("el-select",{on:{change:e.changeShipping},model:{value:e.form.shippingCode,callback:function(t){e.$set(e.form,"shippingCode",t)},expression:"form.shippingCode"}},e._l(e.shippingOptions,function(e){return a("el-option",{key:e.shippingCode,attrs:{label:e.shippingName,value:e.shippingCode}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"配送单号："}},[a("el-input",{model:{value:e.form.invoiceNo,callback:function(t){e.$set(e.form,"invoiceNo",t)},expression:"form.invoiceNo"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"发货备注："}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.note,callback:function(t){e.$set(e.form,"note",t)},expression:"form.note"}})],1)],1)],1)],1),e._v(" "),a("el-collapse-item",{attrs:{title:"商品信息",name:"2"}},[a("div",[a("el-table",{attrs:{data:e.goodsTable,loading:e.loading},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50",label:"选择发货"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsSn",label:"商品编号","min-width":"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsName",label:"商品","min-width":"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"specKeyName",label:"规格属性","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsNum",label:"数量","min-width":"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsPrice",label:"价格","min-width":"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"memberGoodsPrice",label:"会员价","min-width":"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"shippingStatusStr",label:"小计","min-width":"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.memberGoodsPrice*t.row.goodsNum))]}}])})],1)],1)]),e._v(" "),a("el-collapse-item",{attrs:{title:"发货记录",name:"3"}},[a("div",[a("el-table",{attrs:{data:e.shippingTable,loading:e.loading}},[a("el-table-column",{attrs:{prop:"adminId",label:"操作者","min-width":"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"发货时间","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(e.$dateUtils.getFormatDate(new Date(1e3*t.row.createTime),"yyyy-MM-dd hh:mm:ss"))+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"invoiceNo",label:"发货单号","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"consignee",label:"收货人","min-width":"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"shippingName",label:"快递公司","min-width":"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"note",label:"备注","min-width":"120"}})],1)],1)])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),e._v(" "),a("c-button",{attrs:{type:"primary"},on:{click:function(t){return e.btnOk(t)}}},[e._v("确 定")])],1)],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"基本信息",name:"1"}},[a("div",[a("el-row",[a("el-col",{staticClass:"label",attrs:{span:3}},[e._v("订单ID：")]),e._v(" "),a("el-col",{attrs:{span:5}},[e._v(e._s(e.orderData.orderId))]),e._v(" "),a("el-col",{staticClass:"label",attrs:{span:3}},[e._v("订单号：")]),e._v(" "),a("el-col",{attrs:{span:5}},[e._v(e._s(e.orderData.orderSn))]),e._v(" "),a("el-col",{staticClass:"label",attrs:{span:3}},[e._v("会员：")]),e._v(" "),a("el-col",{attrs:{span:5}},[e._v(e._s(e.orderData.userName))])],1),e._v(" "),a("el-row",[a("el-col",{staticClass:"label",attrs:{span:3}},[e._v("email：")]),e._v(" "),a("el-col",{attrs:{span:5}},[e._v(e._s(e.orderData.email))]),e._v(" "),a("el-col",{staticClass:"label",attrs:{span:3}},[e._v("电话：")]),e._v(" "),a("el-col",{attrs:{span:5}},[e._v(e._s(e.orderData.mobile))]),e._v(" "),a("el-col",{staticClass:"label",attrs:{span:3}},[e._v("应付金额：")]),e._v(" "),a("el-col",{attrs:{span:5}},[e._v(e._s(e.orderData.orderId))])],1),e._v(" "),a("el-row",[a("el-col",{staticClass:"label",attrs:{span:3}},[e._v("订单状态：")]),e._v(" "),a("el-col",{attrs:{span:5}},[e._v(e._s(e.orderData.orderStatusStr))]),e._v(" "),a("el-col",{staticClass:"label",attrs:{span:3}},[e._v("下单时间：")]),e._v(" "),a("el-col",{attrs:{span:5}},[e._v(e._s(e.$dateUtils.getFormatDate(new Date(Number(e.orderData.addTime)),"yyyy-MM-dd hh:mm:ss"))+" ")]),e._v(" "),a("el-col",{staticClass:"label",attrs:{span:3}},[e._v("支付时间：")]),e._v(" "),a("el-col",{attrs:{span:5}},[e._v(e._s(e.orderData.payTime>0?e.$dateUtils.getFormatDate(new Date(Number(e.orderData.payTime)),"yyyy-MM-dd hh:mm:ss"):""))])],1),e._v(" "),a("el-row",[a("el-col",{staticClass:"label",attrs:{span:3}},[e._v("支付方式：")]),e._v(" "),a("el-col",{attrs:{span:5}},[e._v(e._s(e.orderData.payName))]),e._v(" "),a("el-col",{staticClass:"label",attrs:{span:3}},[e._v("发票抬头：")]),e._v(" "),a("el-col",{attrs:{span:5}},[e._v(e._s(e.orderData.invoiceTitle))]),e._v(" "),a("el-col",{staticClass:"label",attrs:{span:3}},[e._v("纳税人识别号：")]),e._v(" "),a("el-col",{attrs:{span:5}})],1)],1)]),e._v(" "),a("el-collapse-item",{attrs:{title:"收货信息",name:"2"}},[a("div",[a("el-col",{staticClass:"label",attrs:{span:3}},[e._v("收货人：")]),e._v(" "),a("el-col",{attrs:{span:5}},[e._v(e._s(e.orderData.consignee))]),e._v(" "),a("el-col",{staticClass:"label",attrs:{span:3}},[e._v("联系方式：")]),e._v(" "),a("el-col",{attrs:{span:13}},[e._v(e._s(e.orderData.mobile))]),e._v(" "),a("el-col",{staticClass:"label",attrs:{span:3}},[e._v("收货地址：")]),e._v(" "),a("el-col",{attrs:{span:21}},[e._v(e._s((null==e.orderData.area?"":e.orderData.area)+e.orderData.address))]),e._v(" "),a("el-col",{staticClass:"label",attrs:{span:3}},[e._v("邮编：")]),e._v(" "),a("el-col",{attrs:{span:5}},[e._v(e._s(e.orderData.zipcode))]),e._v(" "),a("el-col",{staticClass:"label",attrs:{span:3}},[e._v("配送方式：")]),e._v(" "),a("el-col",{attrs:{span:13}},[e._v(e._s(e.orderData.shippingName))]),e._v(" "),a("el-col",{staticClass:"label",attrs:{span:3}},[e._v("留言：")]),e._v(" "),a("el-col",{attrs:{span:21}},[e._v(e._s(e.orderData.userNote))])],1)]),e._v(" "),a("el-collapse-item",{attrs:{title:"商品信息",name:"3"}},[a("div",[a("el-table",{attrs:{data:e.goodsTable,loading:e.loading}},[a("el-table-column",{attrs:{prop:"goodsSn",label:"商品编号","min-width":"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsName",label:"商品","min-width":"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"specKeyName",label:"规格属性","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsNum",label:"数量","min-width":"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsPrice",label:"价格","min-width":"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"memberGoodsPrice",label:"会员折扣价","min-width":"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"shippingStatusStr",label:"小计","min-width":"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.memberGoodsPrice*t.row.goodsNum))]}}])})],1)],1)]),e._v(" "),a("el-collapse-item",{attrs:{title:"费用信息",name:"4"}},[a("div",[a("el-col",{staticClass:"label",attrs:{span:3}},[e._v("小计：")]),e._v(" "),a("el-col",{attrs:{span:5}},[e._v(e._s(e.orderData.goodsPrice))]),e._v(" "),a("el-col",{staticClass:"label",attrs:{span:3}},[e._v("运费：")]),e._v(" "),a("el-col",{attrs:{span:5}},[e._v(e._s(e.orderData.shippingPrice))]),e._v(" "),a("el-col",{staticClass:"label",attrs:{span:3}},[e._v("应付：")]),e._v(" "),a("el-col",{staticStyle:{color:"red"},attrs:{span:5}},[e._v(e._s(e.orderData.totalAmount))])],1)]),e._v(" "),a("el-collapse-item",{attrs:{title:"操作信息",name:"5"}},[a("el-form",[a("div",[a("el-form-item",{attrs:{label:"操作备注：","label-width":"120px"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.myForm.remark,callback:function(t){e.$set(e.myForm,"remark",t)},expression:"myForm.remark"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"可执行操作：","label-width":"120px"}},[a("c-pop-button",{directives:[{name:"show",rawName:"v-show",value:e.visible.isShowPay,expression:"visible.isShowPay"}],attrs:{type:"info",pMsg:"确认支付吗？"},on:{click:function(t){return e.handlePay(t)}}},[e._v("付款")]),e._v(" "),a("c-pop-button",{directives:[{name:"show",rawName:"v-show",value:e.visible.isShowConfirm,expression:"visible.isShowConfirm"}],attrs:{type:"info",pMsg:"确认该订单吗？"},on:{click:function(t){return e.handleConfirm(t)}}},[e._v("确认")]),e._v(" "),a("c-pop-button",{directives:[{name:"show",rawName:"v-show",value:e.visible.isShowCancelConfirm,expression:"visible.isShowCancelConfirm"}],attrs:{type:"info",pMsg:"变更该订单为未确认吗？"},on:{click:function(t){return e.handleCancelConfirm(t)}}},[e._v("取消确认")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.visible.isShowShipping,expression:"visible.isShowShipping"}],attrs:{type:"info"},on:{click:function(t){return e.handleShipping(t)}}},[e._v("去发货")]),e._v(" "),a("c-pop-button",{attrs:{type:"danger",pMsg:"确认该订单无效吗？"},on:{click:function(t){return e.handleCancel(t)}}},[e._v("无效\n          ")]),e._v(" "),a("el-button",{attrs:{type:"info"},on:{click:function(t){e.$router.go(-1)}}},[e._v("返回")])],1)],1)])],1),e._v(" "),a("el-collapse-item",{attrs:{title:"操作记录",name:"6"}},[a("div",[a("el-table",{attrs:{data:e.logsTable,loading:e.loading}},[a("el-table-column",{attrs:{prop:"userName",label:"操作者","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作时间","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(e.$dateUtils.getFormatDate(new Date(Number(t.row.logTime)),"yyyy-MM-dd hh:mm:ss"))+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"orderStatusStr",label:"订单状态","min-width":"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"支付状态","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("payStatus")(t.row.payStatus)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsPrice",label:"发货状态","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("shippingStatus")(t.row.shippingStatus)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"statusDesc",label:"描述","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"actionNote",label:"备注","min-width":"200"}})],1)],1)])],1),e._v(" "),a(e.dialog,{tag:"component",attrs:{data:e.dialogData},on:{ok:function(t){e.handleOk()},close:function(t){e.dialog=""}}})],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){var o=a(966);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("1842423d",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,"",""])},function(e,t,a){"use strict";var o=a(101),i=a.n(o),n=a(69),l=a.n(n),r={};t.a={name:"UserManager",components:{},data:function(){return{currentPage:1,pageSize:10,searchForm:{orderSn:"",orderStatus:"",payStatus:"",shippingStatus:""},orderStatusOpts:[],shippingStatusOpts:[],dialog:"",dialogData:{},canDeleteBatch:!1,loading:!1,tableData:{records:0,page:1,rows:[]},multipleSelection:[]}},mounted:function(){this.getSelectData(),this.handleCurrentChange(1)},destroyed:function(){this.$message.closeAll()},watch:{multipleSelection:function(e){this.canDeleteBatch=e.length>0}},methods:{getSelectData:function(){var e=this;this.$service.options.getOrderStatus().then(function(t){e.orderStatusOpts=t.data}),this.$service.options.getShippingStatus().then(function(t){e.shippingStatusOpts=t.data})},onSearch:function(){return l()(r,this.searchForm),this.handleCurrentChange(1),!1},handleSizeChange:function(e){this.pageSize=e},handleSortChange:function(e){var t=e.sidx,a=e.sord;r.sidx=t,r.sord=a,this.handleCurrentChange(this.currentPage)},handleCurrentChange:function(e){var t=this;return this.currentPage=e,this.loading=!0,new i.a(function(a,o){r.page=e,r.size=t.pageSize,t.$service.orderService.queryByPage(r).then(function(e){t.tableData=e.data,a()}).catch(function(){o()}).finally(function(){t.loading=!1})})},onAdd:function(){this.dialog="SDialogAdd"},handleEdit:function(e){this.dialogData.detail=e,this.dialog="SDialogEdit"},handleDetail:function(e){this.dialogData.detail=e,this.dialog="SDialogDetail"},handleDelete:function(e,t){var a=this;this.$service.system.deleteUser(t.id).then(function(){a.handleCurrentChange(a.tableData.page)}).finally(function(){e.isLoading(!1)})},handleSelectionChange:function(e){this.multipleSelection=e},handleResetPassword:function(e){var t=this;this.$confirm("此用户密码将重置, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$service.system.resetPassword({userId:e}).then(function(e){t.$message({type:"success",message:e.msg})})})},onDeleteBatch:function(e){var t=this;if(this.multipleSelection.length>0){for(var a=[],o=0;o<this.multipleSelection.length;o++)a.push(this.multipleSelection[o].id);this.$service.system.batchDeleteUser(a).then(function(){t.handleCurrentChange(t.tableData.page)}).finally(function(){e.isLoading(!1)})}else this.$message({message:"没有选中项",type:"warning"}),e.isLoading(!1)},handleFreeze:function(e){var t=this;this.$confirm("此用户密码将冻结, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$service.system.freezeUser({userId:e,status:"2"}).then(function(e){t.handleCurrentChange(t.tableData.page),t.$message({type:"success",message:e.msg})})})},handleUnFreeze:function(e){var t=this;this.$confirm("此用户密码将解冻, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$service.system.freezeUser({userId:e,status:"1"}).then(function(e){t.handleCurrentChange(t.tableData.page),t.$message({type:"success",message:e.msg})})})}}}},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,onkeydown:"if(event.keyCode==13){return false;}"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.onSearch(t)}}},[a("el-form-item",{staticClass:"pull-right"},[a("el-input",{attrs:{placeholder:"订单号",icon:"search","on-icon-click":e.onSearch},model:{value:e.searchForm.orderSn,callback:function(t){e.$set(e.searchForm,"orderSn",t)},expression:"searchForm.orderSn"}})],1),e._v(" "),a("el-form-item",{staticClass:"pull-right"},[a("el-select",{attrs:{clearable:"",placeholder:"订单状态"},on:{change:e.onSearch},model:{value:e.searchForm.orderStatus,callback:function(t){e.$set(e.searchForm,"orderStatus",t)},expression:"searchForm.orderStatus"}},e._l(e.orderStatusOpts,function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})}))],1),e._v(" "),a("el-form-item",{staticClass:"pull-right"},[a("el-select",{attrs:{clearable:"",placeholder:"发货状态"},on:{change:e.onSearch},model:{value:e.searchForm.shippingStatus,callback:function(t){e.$set(e.searchForm,"shippingStatus",t)},expression:"searchForm.shippingStatus"}},e._l(e.shippingStatusOpts,function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})}))],1),e._v(" "),a("el-form-item",{staticClass:"pull-right"},[a("el-select",{attrs:{clearable:"",placeholder:"支付状态"},on:{change:e.onSearch},model:{value:e.searchForm.payStatus,callback:function(t){e.$set(e.searchForm,"payStatus",t)},expression:"searchForm.payStatus"}},[a("el-option",{attrs:{label:"未支付",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"已支付",value:"1"}})],1)],1),e._v(" "),a("el-form-item",[a("c-pop-button",{attrs:{type:"info",pMsg:"确认订单吗？",disabled:!e.canDeleteBatch},on:{click:e.onDeleteBatch}},[a("i",{staticClass:"el-icon-success"}),e._v(" 批量确认订单\n      ")]),e._v(" "),a("c-pop-button",{attrs:{type:"danger",pMsg:"确认要批量删除吗？",disabled:!e.canDeleteBatch},on:{click:e.onDeleteBatch}},[a("i",{staticClass:"el-icon-delete"}),e._v(" 批量删除\n      ")])],1)],1),e._v(" "),a("c-page-table",{attrs:{data:e.tableData,loading:e.loading},on:{"selection-change":e.handleSelectionChange,"size-change":e.handleSizeChange,"sort-change":e.handleSortChange,"current-change":e.handleCurrentChange}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderSn",label:"订单号",sortable:"custom","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"收货人","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.consignee)+":"+e._s(t.row.mobile))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"orderAmount",label:"总金额","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderStatusStr",label:"订单状态","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"支付状态","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(1==t.row.payStatus?"已支付":"未支付"))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"shippingStatusStr",label:"发货状态","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"payName",label:"支付方式","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"shippingName",label:"配送方式","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"下单时间","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.$dateUtils.getShortDate(new Date(t.row.addTime))))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"default"},on:{click:function(a){e.handleEdit(t.row)}}},[e._v("编辑\n          ")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"default"},on:{click:function(a){e.handleDetail(t.row)}}},[e._v("查看\n          ")])]}}])})],1)],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},,,function(e,t,a){var o=a(972);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("cb3f47a4",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,"",""])},function(e,t,a){"use strict";var o=a(101),i=a.n(o),n=a(69),l=a.n(n),r=a(974),s=a(979),c=a(984),d={identityCode:1};t.a={name:"MemberManager",components:{SDialogAdd:r.a,SDialogEdit:s.a,SDialogDetail:c.a},data:function(){return{currentPage:1,pageSize:10,searchForm:{param:""},dialog:"",dialogData:{},canDeleteBatch:!1,loading:!1,tableData:{records:0,page:1,rows:[]},multipleSelection:[]}},mounted:function(){this.handleCurrentChange(1)},destroyed:function(){this.$message.closeAll()},watch:{multipleSelection:function(e){this.canDeleteBatch=e.length>0}},methods:{onSearch:function(){return l()(d,this.searchForm),this.handleCurrentChange(1),!1},handleSizeChange:function(e){this.pageSize=e},handleSortChange:function(e){var t=e.sidx,a=e.sord;d.sidx=t,d.sord=a,this.handleCurrentChange(this.currentPage)},handleCurrentChange:function(e){var t=this;return this.currentPage=e,this.loading=!0,new i.a(function(a,o){t.$service.system.queryUserPage(e,t.pageSize,d).then(function(e){t.tableData=e,a()}).catch(function(){o()}).finally(function(){t.loading=!1})})},onAdd:function(){this.dialog="SDialogAdd"},handleEdit:function(e){this.dialogData.detail=e,this.dialog="SDialogEdit"},handleDetail:function(e){this.dialogData.detail=e,this.dialog="SDialogDetail"},handleDelete:function(e,t){var a=this;this.$service.system.deleteUser(t.id).then(function(){a.handleCurrentChange(a.tableData.page)}).finally(function(){e.isLoading(!1)})},handleSelectionChange:function(e){this.multipleSelection=e},handleResetPassword:function(e){var t=this;this.$confirm("此用户密码将重置, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$service.system.resetPassword({userId:e}).then(function(e){t.$message({type:"success",message:e.msg})})})},onDeleteBatch:function(e){var t=this;if(this.multipleSelection.length>0){for(var a=[],o=0;o<this.multipleSelection.length;o++)a.push(this.multipleSelection[o].id);this.$service.system.batchDeleteUser(a).then(function(){t.handleCurrentChange(t.tableData.page)}).finally(function(){e.isLoading(!1)})}else this.$message({message:"没有选中项",type:"warning"}),e.isLoading(!1)},handleFreeze:function(e){var t=this;this.$confirm("此用户密码将冻结, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$service.system.freezeUser({userId:e,status:"2"}).then(function(e){t.handleCurrentChange(t.tableData.page),t.$message({type:"success",message:e.msg})})})},handleUnFreeze:function(e){var t=this;this.$confirm("此用户密码将解冻, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$service.system.freezeUser({userId:e,status:"1"}).then(function(e){t.handleCurrentChange(t.tableData.page),t.$message({type:"success",message:e.msg})})})}}}},function(e,t,a){"use strict";function o(e){a(975)}var i=a(977),n=a(978),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.a=s.exports},function(e,t,a){var o=a(976);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("6deb2899",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,"",""])},function(e,t,a){"use strict";var o=a(149),i=a.n(o),n=a(102),l=a.n(n),r=a(222);t.a={name:"SDialogAdd",props:{},data:function(){var e=this,t=this.$lodash,a=function(a,o,i){t.isEmpty(o)?i():e.$service.system.getUserByIdentityCode({identityCode:o}).then(function(e){t.isEmpty(e.data)?i():i(new Error("该编号已被"+e.data.realName+"使用"))}).catch(function(){i(new Error("校验失败请重新选择"))})};return{formLabelWidth:"120px",visible:!0,form:{icon:"",userName:"",password:"",realName:"",joinDate:"",birthday:"",mobile:"",email:"",qq:"",wx:"",departIds:"",roleIds:[],positionLevel:"",identityCode:""},rules:{userName:this.$checkRules.username,password:this.$checkRules.password,realName:this.$checkRules.name,joinDate:this.$checkRules.joinDate,mobile:[].concat(l()(this.$checkRules.mobileR),l()(this.$checkRules.mobile)),email:[].concat(l()(this.$checkRules.email),l()(this.$checkRules.emailR)),departIds:this.$checkRules.department,roleIds:this.$checkRules.roleOption,positionLevel:this.$checkRules.positionLevel,identityCode:[{validator:a,trigger:"blur,change"}]}}},computed:i()({},Object(r.c)("options",["options"])),methods:{close:function(){this.$emit("close")},btnOk:function(e){var t=this;this.$refs.form.validate(function(a){a?t.$service.system.addUser(t.form).then(function(){t.visible=!1,t.$emit("ok")}).finally(function(){e.isLoading(!1)}):e.isLoading(!1)})}}}},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"新增用户",top:"10%"},on:{close:e.close},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"头像","label-width":e.formLabelWidth,prop:"icon"}},[a("c-avatar-upload",{attrs:{size:"small"},model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}})],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户名","label-width":e.formLabelWidth,prop:"userName"}},[a("el-input",{model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"密码","label-width":e.formLabelWidth,prop:"password"}},[a("el-input",{model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"姓名","label-width":e.formLabelWidth,prop:"realName"}},[a("el-input",{model:{value:e.form.realName,callback:function(t){e.$set(e.form,"realName",t)},expression:"form.realName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"入职时间","label-width":e.formLabelWidth,prop:"joinDate"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"入职日期"},on:{change:function(t){return e.form.joinDate=t}},model:{value:e.form.joinDate,callback:function(t){e.$set(e.form,"joinDate",t)},expression:"form.joinDate"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机","label-width":e.formLabelWidth,prop:"mobile"}},[a("el-input",{model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"生日","label-width":e.formLabelWidth,prop:"birthday"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"出生日期"},on:{change:function(t){return e.form.birthday=t}},model:{value:e.form.birthday,callback:function(t){e.$set(e.form,"birthday",t)},expression:"form.birthday"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"email","label-width":e.formLabelWidth,prop:"email"}},[a("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"QQ","label-width":e.formLabelWidth,prop:"qq"}},[a("el-input",{model:{value:e.form.qq,callback:function(t){e.$set(e.form,"qq",t)},expression:"form.qq"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"微信","label-width":e.formLabelWidth,prop:"wx"}},[a("el-input",{model:{value:e.form.wx,callback:function(t){e.$set(e.form,"wx",t)},expression:"form.wx"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门","label-width":e.formLabelWidth,prop:"departIds"}},[a("c-select",{attrs:{type:"Department",placeholder:"请选择"},model:{value:e.form.departIds,callback:function(t){e.$set(e.form,"departIds",t)},expression:"form.departIds"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"职务","label-width":e.formLabelWidth,prop:"positionLevel"}},[a("c-select",{attrs:{type:"PositionLevel",placeholder:"请选择"},model:{value:e.form.positionLevel,callback:function(t){e.$set(e.form,"positionLevel",t)},expression:"form.positionLevel"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"角色","label-width":e.formLabelWidth,prop:"roleIds"}},[a("c-select",{attrs:{type:"RoleName",multiple:"",placeholder:"请选择"},model:{value:e.form.roleIds,callback:function(t){e.$set(e.form,"roleIds",t)},expression:"form.roleIds"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"编号","label-width":e.formLabelWidth,prop:"identityCode"}},[a("c-select",{attrs:{type:"KqUser",placeholder:"请选择",filterable:"",clearable:""},model:{value:e.form.identityCode,callback:function(t){e.$set(e.form,"identityCode",t)},expression:"form.identityCode"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),e._v(" "),a("c-button",{attrs:{type:"primary"},on:{click:e.btnOk}},[e._v("确 定")])],1)],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){"use strict";function o(e){a(980)}var i=a(982),n=a(983),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.a=s.exports},function(e,t,a){var o=a(981);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("b818c80e",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,"",""])},function(e,t,a){"use strict";var o=a(149),i=a.n(o),n=a(751),l=a.n(n),r=a(69),s=a.n(r),c=a(102),d=a.n(c),u=a(222);t.a={name:"SDialogEdit",props:{data:{type:Object,default:{}}},data:function(){var e=this,t=this.$lodash,a=function(a,o,i){t.isEmpty(o)?i():e.$service.system.getUserByIdentityCode({identityCode:o}).then(function(a){t.isEmpty(a.data)||""+a.data.id==""+e.data.detail.id?i():i(new Error("该编号已被"+a.data.realName+"使用"))}).catch(function(){i(new Error("校验失败请重新选择"))})};return{loading:!1,formLabelWidth:"120px",visible:!0,form:{id:this.data.detail.id,icon:this.data.detail.icon,userName:this.data.detail.userName,realName:this.data.detail.realName,createTime:this.data.detail.createTime,birthday:this.data.detail.birthday,mobile:this.data.detail.mobile,email:this.data.detail.email,qq:this.data.detail.qq,wx:this.data.detail.wx,departIds:"",roleIds:[],positionLevel:this.data.detail.positionLevel,identityCode:this.data.detail.identityCode},rules:{userName:this.$checkRules.username,realName:this.$checkRules.name,joinDate:this.$checkRules.joinDate,mobile:[].concat(d()(this.$checkRules.mobileR),d()(this.$checkRules.mobile)),email:[].concat(d()(this.$checkRules.email),d()(this.$checkRules.emailR)),departIds:this.$checkRules.department,positionLevel:this.$checkRules.positionLevel,roleIds:this.$checkRules.roleOption,identityCode:[{validator:a,trigger:"blur,change"}]}}},created:function(){var e=this;this.$service.system.detailUser({id:this.data.detail.id}).then(function(t){s()(e.form,e.$lodash.pick(t.userInfo,["id","icon","userName","realName","birthday","joinDate","mobile","email","qq","wx","positionLevel","identityCode"])),e.$lodash.isEmpty(t.departments[0])?e.form.departIds="":e.form.departIds=t.departments[0].id;var a=[],o=!0,i=!1,n=void 0;try{for(var r,c=l()(t.roleNames);!(o=(r=c.next()).done);o=!0){var d=r.value,u=d.id;a.push(u)}}catch(e){i=!0,n=e}finally{try{!o&&c.return&&c.return()}finally{if(i)throw n}}e.form.roleIds=a})},computed:i()({},Object(u.c)("options",["options"])),methods:{close:function(){this.$emit("close")},btnOk:function(e){var t=this;this.$refs.form.validate(function(a){a?t.$service.system.updateUser(t.form).then(function(){t.$emit("ok"),t.visible=!1}).finally(function(){e.isLoading(!1)}):e.isLoading(!1)})}}}},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"编辑用户"},on:{close:e.close},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"头像","label-width":e.formLabelWidth,prop:"icon"}},[a("c-avatar-upload",{attrs:{size:"small"},model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}})],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户名","label-width":e.formLabelWidth,prop:"userName"}},[a("el-input",{model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"姓名","label-width":e.formLabelWidth,prop:"realName"}},[a("el-input",{model:{value:e.form.realName,callback:function(t){e.$set(e.form,"realName",t)},expression:"form.realName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机","label-width":e.formLabelWidth,prop:"mobile"}},[a("el-input",{model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"生日","label-width":e.formLabelWidth,prop:"birthday"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"出生日期"},on:{change:function(t){return e.form.birthday=t}},model:{value:e.form.birthday,callback:function(t){e.$set(e.form,"birthday",t)},expression:"form.birthday"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"email","label-width":e.formLabelWidth,prop:"email"}},[a("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"QQ","label-width":e.formLabelWidth,prop:"qq"}},[a("el-input",{model:{value:e.form.qq,callback:function(t){e.$set(e.form,"qq",t)},expression:"form.qq"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"微信","label-width":e.formLabelWidth,prop:"wx"}},[a("el-input",{model:{value:e.form.wx,callback:function(t){e.$set(e.form,"wx",t)},expression:"form.wx"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),e._v(" "),a("c-button",{attrs:{type:"primary"},on:{click:e.btnOk}},[e._v("确 定")])],1)],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){"use strict";function o(e){a(985)}var i=a(987),n=a(988),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.a=s.exports},function(e,t,a){var o=a(986);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("af82dc4e",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,".list-detail label{width:60px;display:inline-block;margin-right:5px;color:#999}",""])},function(e,t,a){"use strict";var o=a(69),i=a.n(o),n=a(751),l=a.n(n),r=a(149),s=a.n(r),c=a(222);t.a={name:"SDialogDetail",props:{data:{type:Object,default:{}}},data:function(){return{roleNames:"",detail:{id:this.data.detail.id,icon:this.data.detail.icon,userName:this.data.detail.userName,realName:this.data.detail.realName,birthday:this.data.detail.birthday,createTime:this.data.detail.createTime,mobile:this.data.detail.mobile,email:this.data.detail.email,qq:this.data.detail.qq,wx:this.data.detail.wx,positionLevel:this.data.detail.positionLevel,department_name:this.data.detail.department_name,identityCode:this.data.detail.identityCode},departments:"",loading:!1,visible:!0}},computed:s()({},Object(c.c)("options",["options"]),{positionLevel:function(){var e=this.options.PositionLevel,t=!0,a=!1,o=void 0;try{for(var i,n=l()(e);!(t=(i=n.next()).done);t=!0){var r=i.value,s=r.name;if(r.value===this.detail.positionLevel)return s}}catch(e){a=!0,o=e}finally{try{!t&&n.return&&n.return()}finally{if(a)throw o}}return""}}),created:function(){var e=this;this.$service.options.setOptions("PositionLevel"),this.$service.system.detailUser({id:this.data.detail.id}).then(function(t){i()(e.detail,e.$lodash.pick(t.userInfo,["id","icon","userName","realName","birthday","joinDate","mobile","email","qq","wx","positionLevel","department_name","identityCode"]));var a=[],o=!0,n=!1,r=void 0;try{for(var s,c=l()(t.departments);!(o=(s=c.next()).done);o=!0){var d=s.value,u=d.departmentName;a.push(u)}}catch(e){n=!0,r=e}finally{try{!o&&c.return&&c.return()}finally{if(n)throw r}}e.departments=a.join(",");var m=[],h=!0,p=!1,f=void 0;try{for(var v,g=l()(t.roleNames);!(h=(v=g.next()).done);h=!0){var b=v.value,y=b.roleName;m.push(y)}}catch(e){p=!0,f=e}finally{try{!h&&g.return&&g.return()}finally{if(p)throw f}}e.roleNames=m.join(",")})},methods:{close:function(){this.$emit("close")}}}},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{title:"用户详情",size:"auto"},on:{close:e.close},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[o("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"600px"}},[o("el-col",{attrs:{span:9}},[o("dl",{staticClass:"oa-mainSide__userpic"},[o("dt",[o("img",{attrs:{src:a(224)}})]),e._v(" "),o("dd",{staticStyle:{"font-size":"16px"}},[e._v(e._s(e.detail.realName))])])]),e._v(" "),o("el-col",{staticClass:"list-detail",attrs:{span:15}},[o("p",[o("label",[e._v("用户名：")]),e._v(e._s(e.detail.userName))]),e._v(" "),o("p",[o("label",{staticStyle:{width:"70px"}},[e._v("注册日期：")]),e._v(e._s(e.$dateUtils.getShortDate(new Date(e.detail.createTime))))]),e._v(" "),o("p",[o("label",[e._v("生日：")]),e._v(e._s(e.detail.birthday))]),e._v(" "),o("p",[o("label",[e._v("手机：")]),e._v(e._s(e.detail.mobile))]),e._v(" "),o("p",[o("label",[e._v("email：")]),e._v(e._s(e.detail.email))]),e._v(" "),o("p",[o("label",[e._v("QQ：")]),e._v(e._s(e.detail.qq))]),e._v(" "),o("p",[o("label",[e._v("微信：")]),e._v(e._s(e.detail.wx))])])],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.visible=!1}}},[e._v("关 闭")])],1)],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,onkeydown:"if(event.keyCode==13){return false;}"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.onSearch(t)}}},[a("el-form-item",{staticClass:"pull-right"},[a("el-input",{attrs:{placeholder:"用户名/姓名/手机",icon:"search","on-icon-click":e.onSearch},model:{value:e.searchForm.param,callback:function(t){e.$set(e.searchForm,"param",t)},expression:"searchForm.param"}})],1)],1),e._v(" "),a("c-page-table",{attrs:{data:e.tableData,loading:e.loading},on:{"selection-change":e.handleSelectionChange,"size-change":e.handleSizeChange,"sort-change":e.handleSortChange,"current-change":e.handleCurrentChange}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"用户名",sortable:"custom","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"realName",label:"姓名",sortable:"custom","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"手机","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"birthday",label:"生日","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"default"},on:{click:function(a){e.handleEdit(t.row)}}},[e._v("编辑\n          ")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"default"},on:{click:function(a){e.handleDetail(t.row)}}},[e._v("详情\n          ")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"default"},on:{click:function(){return e.handleResetPassword(t.row.id)}}},[e._v("重置密码\n          ")]),e._v(" "),"1"==t.row.status?a("el-button",{attrs:{size:"small",type:"default"},on:{click:function(a){return e.handleFreeze(t.row.id)}}},[e._v("冻结")]):a("el-button",{attrs:{size:"small",type:"info"},on:{click:function(a){return e.handleUnFreeze(t.row.id)}}},[e._v("解冻")]),e._v(" "),a("c-pop-button",{attrs:{size:"small",type:"danger",pMsg:"确认要删除吗？"},on:{click:function(a){return e.handleDelete(a,t.row)}}},[e._v("删除\n          ")])]}}])})],1),e._v(" "),a(e.dialog,{tag:"component",attrs:{data:e.dialogData},on:{ok:function(t){e.handleCurrentChange(e.tableData.page)},close:function(t){e.dialog=""}}})],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){var o=a(991);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("b54044f2",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,"",""])},function(e,t,a){"use strict";var o=a(101),i=a.n(o),n=a(69),l=a.n(n),r=a(993),s=a(998),c=a(1003),d={identityCode:0};t.a={name:"UserManager",components:{SDialogAdd:r.a,SDialogEdit:s.a,SDialogDetail:c.a},data:function(){return{currentPage:1,pageSize:10,searchForm:{param:""},dialog:"",dialogData:{},canDeleteBatch:!1,loading:!1,tableData:{records:0,page:1,rows:[]},multipleSelection:[]}},mounted:function(){this.handleCurrentChange(1)},destroyed:function(){this.$message.closeAll()},watch:{multipleSelection:function(e){this.canDeleteBatch=e.length>0}},methods:{onSearch:function(){return l()(d,this.searchForm),this.handleCurrentChange(1),!1},handleSizeChange:function(e){this.pageSize=e},handleSortChange:function(e){var t=e.sidx,a=e.sord;d.sidx=t,d.sord=a,this.handleCurrentChange(this.currentPage)},handleCurrentChange:function(e){var t=this;return this.currentPage=e,this.loading=!0,new i.a(function(a,o){t.$service.system.queryUserPage(e,t.pageSize,d).then(function(e){t.tableData=e,a()}).catch(function(){o()}).finally(function(){t.loading=!1})})},onAdd:function(){this.dialog="SDialogAdd"},handleEdit:function(e){this.dialogData.detail=e,this.dialog="SDialogEdit"},handleDetail:function(e){this.dialogData.detail=e,this.dialog="SDialogDetail"},handleDelete:function(e,t){var a=this;this.$service.system.deleteUser(t.id).then(function(){a.handleCurrentChange(a.tableData.page)}).finally(function(){e.isLoading(!1)})},handleSelectionChange:function(e){this.multipleSelection=e},handleResetPassword:function(e){var t=this;this.$confirm("此用户密码将重置, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$service.system.resetPassword({userId:e}).then(function(e){t.$message({type:"success",message:e.msg})})})},onDeleteBatch:function(e){var t=this;if(this.multipleSelection.length>0){for(var a=[],o=0;o<this.multipleSelection.length;o++)a.push(this.multipleSelection[o].id);this.$service.system.batchDeleteUser(a).then(function(){t.handleCurrentChange(t.tableData.page)}).finally(function(){e.isLoading(!1)})}else this.$message({message:"没有选中项",type:"warning"}),e.isLoading(!1)},handleFreeze:function(e){var t=this;this.$confirm("此用户密码将冻结, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$service.system.freezeUser({userId:e,status:"2"}).then(function(e){t.handleCurrentChange(t.tableData.page),t.$message({type:"success",message:e.msg})})})},handleUnFreeze:function(e){var t=this;this.$confirm("此用户密码将解冻, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$service.system.freezeUser({userId:e,status:"1"}).then(function(e){t.handleCurrentChange(t.tableData.page),t.$message({type:"success",message:e.msg})})})}}}},function(e,t,a){"use strict";function o(e){a(994)}var i=a(996),n=a(997),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.a=s.exports},function(e,t,a){var o=a(995);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("5116a586",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,"",""])},function(e,t,a){"use strict";var o=a(149),i=a.n(o),n=a(102),l=a.n(n),r=a(222);t.a={name:"SDialogAdd",props:{},data:function(){return{formLabelWidth:"120px",visible:!0,form:{icon:"",userName:"",password:"",realName:"",joinDate:"",birthday:"",mobile:"",email:"",qq:"",wx:"",departIds:"",roleIds:[],positionLevel:"",identityCode:""},rules:{userName:this.$checkRules.username,password:this.$checkRules.password,realName:this.$checkRules.name,joinDate:this.$checkRules.joinDate,mobile:[].concat(l()(this.$checkRules.mobileR),l()(this.$checkRules.mobile)),email:[].concat(l()(this.$checkRules.email),l()(this.$checkRules.emailR)),departIds:this.$checkRules.department,roleIds:this.$checkRules.roleOption,positionLevel:this.$checkRules.positionLevel}}},computed:i()({},Object(r.c)("options",["options"])),methods:{close:function(){this.$emit("close")},btnOk:function(e){var t=this;this.$refs.form.validate(function(a){a?t.$service.system.addUser(t.form).then(function(){t.visible=!1,t.$emit("ok")}).finally(function(){e.isLoading(!1)}):e.isLoading(!1)})}}}},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"新增用户",top:"10%"},on:{close:e.close},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"头像","label-width":e.formLabelWidth,prop:"icon"}},[a("c-avatar-upload",{attrs:{size:"small"},model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}})],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户名","label-width":e.formLabelWidth,prop:"userName"}},[a("el-input",{model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"密码","label-width":e.formLabelWidth,prop:"password"}},[a("el-input",{model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"姓名","label-width":e.formLabelWidth,prop:"realName"}},[a("el-input",{model:{value:e.form.realName,callback:function(t){e.$set(e.form,"realName",t)},expression:"form.realName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"入职时间","label-width":e.formLabelWidth,prop:"joinDate"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"入职日期"},on:{change:function(t){return e.form.joinDate=t}},model:{value:e.form.joinDate,callback:function(t){e.$set(e.form,"joinDate",t)},expression:"form.joinDate"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机","label-width":e.formLabelWidth,prop:"mobile"}},[a("el-input",{model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"生日","label-width":e.formLabelWidth,prop:"birthday"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"出生日期"},on:{change:function(t){return e.form.birthday=t}},model:{value:e.form.birthday,callback:function(t){e.$set(e.form,"birthday",t)},expression:"form.birthday"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"email","label-width":e.formLabelWidth,prop:"email"}},[a("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"QQ","label-width":e.formLabelWidth,prop:"qq"}},[a("el-input",{model:{value:e.form.qq,callback:function(t){e.$set(e.form,"qq",t)},expression:"form.qq"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"微信","label-width":e.formLabelWidth,prop:"wx"}},[a("el-input",{model:{value:e.form.wx,callback:function(t){e.$set(e.form,"wx",t)},expression:"form.wx"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门","label-width":e.formLabelWidth,prop:"departIds"}},[a("c-select",{attrs:{type:"Department",placeholder:"请选择"},model:{value:e.form.departIds,callback:function(t){e.$set(e.form,"departIds",t)},expression:"form.departIds"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"职务","label-width":e.formLabelWidth,prop:"positionLevel"}},[a("c-select",{attrs:{type:"PositionLevel",placeholder:"请选择"},model:{value:e.form.positionLevel,callback:function(t){e.$set(e.form,"positionLevel",t)},expression:"form.positionLevel"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"角色","label-width":e.formLabelWidth,prop:"roleIds"}},[a("c-select",{attrs:{type:"RoleName",multiple:"",placeholder:"请选择"},model:{value:e.form.roleIds,callback:function(t){e.$set(e.form,"roleIds",t)},expression:"form.roleIds"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),e._v(" "),a("c-button",{attrs:{type:"primary"},on:{click:e.btnOk}},[e._v("确 定")])],1)],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){"use strict";function o(e){a(999)}var i=a(1001),n=a(1002),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.a=s.exports},function(e,t,a){var o=a(1e3);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("eb37be1e",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,"",""])},function(e,t,a){"use strict";var o=a(149),i=a.n(o),n=a(751),l=a.n(n),r=a(69),s=a.n(r),c=a(102),d=a.n(c),u=a(222);t.a={name:"SDialogEdit",props:{data:{type:Object,default:{}}},data:function(){var e=this,t=this.$lodash,a=function(a,o,i){t.isEmpty(o)?i():e.$service.system.getUserByIdentityCode({identityCode:o}).then(function(a){t.isEmpty(a.data)||""+a.data.id==""+e.data.detail.id?i():i(new Error("该编号已被"+a.data.realName+"使用"))}).catch(function(){i(new Error("校验失败请重新选择"))})};return{loading:!1,formLabelWidth:"120px",visible:!0,form:{id:this.data.detail.id,icon:this.data.detail.icon,userName:this.data.detail.userName,realName:this.data.detail.realName,joinDate:this.data.detail.joinDate,birthday:this.data.detail.birthday,mobile:this.data.detail.mobile,email:this.data.detail.email,qq:this.data.detail.qq,wx:this.data.detail.wx,departIds:"",roleIds:[],positionLevel:this.data.detail.positionLevel,identityCode:this.data.detail.identityCode},rules:{userName:this.$checkRules.username,realName:this.$checkRules.name,joinDate:this.$checkRules.joinDate,mobile:[].concat(d()(this.$checkRules.mobileR),d()(this.$checkRules.mobile)),email:[].concat(d()(this.$checkRules.email),d()(this.$checkRules.emailR)),departIds:this.$checkRules.department,positionLevel:this.$checkRules.positionLevel,roleIds:this.$checkRules.roleOption,identityCode:[{validator:a,trigger:"blur,change"}]}}},created:function(){var e=this;this.$service.system.detailUser({id:this.data.detail.id}).then(function(t){s()(e.form,e.$lodash.pick(t.userInfo,["id","icon","userName","realName","birthday","joinDate","mobile","email","qq","wx","positionLevel","identityCode"])),e.$lodash.isEmpty(t.departments[0])?e.form.departIds="":e.form.departIds=t.departments[0].id;var a=[],o=!0,i=!1,n=void 0;try{for(var r,c=l()(t.roleNames);!(o=(r=c.next()).done);o=!0){var d=r.value,u=d.id;a.push(u)}}catch(e){i=!0,n=e}finally{try{!o&&c.return&&c.return()}finally{if(i)throw n}}e.form.roleIds=a})},computed:i()({},Object(u.c)("options",["options"])),methods:{close:function(){this.$emit("close")},btnOk:function(e){var t=this;this.$refs.form.validate(function(a){a?t.$service.system.updateUser(t.form).then(function(){t.$emit("ok"),t.visible=!1}).finally(function(){e.isLoading(!1)}):e.isLoading(!1)})}}}},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"编辑用户"},on:{close:e.close},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"头像","label-width":e.formLabelWidth,prop:"icon"}},[a("c-avatar-upload",{attrs:{size:"small"},model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}})],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户名","label-width":e.formLabelWidth,prop:"userName"}},[a("el-input",{model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"姓名","label-width":e.formLabelWidth,prop:"realName"}},[a("el-input",{model:{value:e.form.realName,callback:function(t){e.$set(e.form,"realName",t)},expression:"form.realName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"入职时间","label-width":e.formLabelWidth,prop:"joinDate"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"入职日期"},on:{change:function(t){return e.form.joinDate=t}},model:{value:e.form.joinDate,callback:function(t){e.$set(e.form,"joinDate",t)},expression:"form.joinDate"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机","label-width":e.formLabelWidth,prop:"mobile"}},[a("el-input",{model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"生日","label-width":e.formLabelWidth,prop:"birthday"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"出生日期"},on:{change:function(t){return e.form.birthday=t}},model:{value:e.form.birthday,callback:function(t){e.$set(e.form,"birthday",t)},expression:"form.birthday"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"email","label-width":e.formLabelWidth,prop:"email"}},[a("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"QQ","label-width":e.formLabelWidth,prop:"qq"}},[a("el-input",{model:{value:e.form.qq,callback:function(t){e.$set(e.form,"qq",t)},expression:"form.qq"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"微信","label-width":e.formLabelWidth,prop:"wx"}},[a("el-input",{model:{value:e.form.wx,callback:function(t){e.$set(e.form,"wx",t)},expression:"form.wx"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门","label-width":e.formLabelWidth,prop:"departIds"}},[a("c-select",{attrs:{type:"Department",placeholder:"请选择"},model:{value:e.form.departIds,callback:function(t){e.$set(e.form,"departIds",t)},expression:"form.departIds"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"职务","label-width":e.formLabelWidth,prop:"positionLevel"}},[a("c-select",{attrs:{type:"PositionLevel",placeholder:"请选择"},model:{value:e.form.positionLevel,callback:function(t){e.$set(e.form,"positionLevel",t)},expression:"form.positionLevel"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"角色","label-width":e.formLabelWidth,prop:"roleIds"}},[a("c-select",{attrs:{type:"RoleName",multiple:"",placeholder:"请选择"},model:{value:e.form.roleIds,callback:function(t){e.$set(e.form,"roleIds",t)},expression:"form.roleIds"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"编号","label-width":e.formLabelWidth,prop:"identityCode"}},[a("c-select",{attrs:{type:"KqUser",placeholder:"请选择",filterable:"",clearable:""},model:{value:e.form.identityCode,callback:function(t){e.$set(e.form,"identityCode",t)},expression:"form.identityCode"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),e._v(" "),a("c-button",{attrs:{type:"primary"},on:{click:e.btnOk}},[e._v("确 定")])],1)],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){"use strict";function o(e){a(1004)}var i=a(1006),n=a(1007),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.a=s.exports},function(e,t,a){var o=a(1005);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("2deba42f",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,".list-detail label{width:60px;display:inline-block;margin-right:5px;color:#999}",""])},function(e,t,a){"use strict";var o=a(69),i=a.n(o),n=a(751),l=a.n(n),r=a(149),s=a.n(r),c=a(222);t.a={name:"SDialogDetail",props:{data:{type:Object,default:{}}},data:function(){return{roleNames:"",detail:{id:this.data.detail.id,icon:this.data.detail.icon,userName:this.data.detail.userName,realName:this.data.detail.realName,birthday:this.data.detail.birthday,joinDate:this.data.detail.joinDate,mobile:this.data.detail.mobile,email:this.data.detail.email,qq:this.data.detail.qq,wx:this.data.detail.wx,positionLevel:this.data.detail.positionLevel,department_name:this.data.detail.department_name,identityCode:this.data.detail.identityCode},departments:"",loading:!1,visible:!0}},computed:s()({},Object(c.c)("options",["options"]),{positionLevel:function(){var e=this.options.PositionLevel,t=!0,a=!1,o=void 0;try{for(var i,n=l()(e);!(t=(i=n.next()).done);t=!0){var r=i.value,s=r.name;if(r.value===this.detail.positionLevel)return s}}catch(e){a=!0,o=e}finally{try{!t&&n.return&&n.return()}finally{if(a)throw o}}return""}}),created:function(){var e=this;this.$service.options.setOptions("PositionLevel"),this.$service.system.detailUser({id:this.data.detail.id}).then(function(t){i()(e.detail,e.$lodash.pick(t.userInfo,["id","icon","userName","realName","birthday","joinDate","mobile","email","qq","wx","positionLevel","department_name","identityCode"]));var a=[],o=!0,n=!1,r=void 0;try{for(var s,c=l()(t.departments);!(o=(s=c.next()).done);o=!0){var d=s.value,u=d.departmentName;a.push(u)}}catch(e){n=!0,r=e}finally{try{!o&&c.return&&c.return()}finally{if(n)throw r}}e.departments=a.join(",");var m=[],h=!0,p=!1,f=void 0;try{for(var v,g=l()(t.roleNames);!(h=(v=g.next()).done);h=!0){var b=v.value,y=b.roleName;m.push(y)}}catch(e){p=!0,f=e}finally{try{!h&&g.return&&g.return()}finally{if(p)throw f}}e.roleNames=m.join(",")})},methods:{close:function(){this.$emit("close")}}}},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{title:"用户详情",size:"auto"},on:{close:e.close},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[o("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"600px"}},[o("el-col",{attrs:{span:9}},[o("dl",{staticClass:"oa-mainSide__userpic"},[o("dt",[o("img",{attrs:{src:a(224)}})]),e._v(" "),o("dd",{staticStyle:{"font-size":"16px"}},[e._v(e._s(e.detail.realName))])])]),e._v(" "),o("el-col",{staticClass:"list-detail",attrs:{span:15}},[o("p",[o("label",[e._v("用户名：")]),e._v(e._s(e.detail.userName))]),e._v(" "),o("p",[o("label",{staticStyle:{width:"70px"}},[e._v("入职时间：")]),e._v(e._s(e.detail.joinDate))]),e._v(" "),o("p",[o("label",[e._v("生日：")]),e._v(e._s(e.detail.birthday))]),e._v(" "),o("p",[o("label",[e._v("手机：")]),e._v(e._s(e.detail.mobile))]),e._v(" "),o("p",[o("label",[e._v("email：")]),e._v(e._s(e.detail.email))]),e._v(" "),o("p",[o("label",[e._v("QQ：")]),e._v(e._s(e.detail.qq))]),e._v(" "),o("p",[o("label",[e._v("微信：")]),e._v(e._s(e.detail.wx))]),e._v(" "),o("p",[o("label",[e._v("部门：")]),e._v(e._s(e.departments))]),e._v(" "),o("p",[o("label",[e._v("职务：")]),e._v(e._s(e.positionLevel))]),e._v(" "),o("p",[o("label",[e._v("角色：")]),e._v(e._s(e.roleNames))]),e._v(" "),o("p",[o("label",[e._v("编号：")]),e._v(e._s(e.detail.identityCode))])])],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.visible=!1}}},[e._v("关 闭")])],1)],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,onkeydown:"if(event.keyCode==13){return false;}"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.onSearch(t)}}},[a("el-form-item",{staticClass:"pull-right"},[a("el-input",{attrs:{placeholder:"用户名/姓名/手机",icon:"search","on-icon-click":e.onSearch},model:{value:e.searchForm.param,callback:function(t){e.$set(e.searchForm,"param",t)},expression:"searchForm.param"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.onAdd}},[e._v("新增")])],1),e._v(" "),a("el-form-item",[a("c-pop-button",{attrs:{type:"danger",pMsg:"确认要批量删除吗？",disabled:!e.canDeleteBatch},on:{click:e.onDeleteBatch}},[a("i",{staticClass:"el-icon-delete"}),e._v(" 批量删除\n      ")])],1)],1),e._v(" "),a("c-page-table",{attrs:{data:e.tableData,loading:e.loading},on:{"selection-change":e.handleSelectionChange,"size-change":e.handleSizeChange,"sort-change":e.handleSortChange,"current-change":e.handleCurrentChange}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"用户名",sortable:"custom","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"realName",label:"姓名",sortable:"custom","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"手机","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"birthday",label:"生日","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"default"},on:{click:function(a){e.handleEdit(t.row)}}},[e._v("编辑\n          ")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"default"},on:{click:function(a){e.handleDetail(t.row)}}},[e._v("详情\n          ")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"default"},on:{click:function(){return e.handleResetPassword(t.row.id)}}},[e._v("重置密码\n          ")]),e._v(" "),"1"==t.row.status?a("el-button",{attrs:{size:"small",type:"default"},on:{click:function(a){return e.handleFreeze(t.row.id)}}},[e._v("冻结")]):a("el-button",{attrs:{size:"small",type:"info"},on:{click:function(a){return e.handleUnFreeze(t.row.id)}}},[e._v("解冻")]),e._v(" "),a("c-pop-button",{attrs:{size:"small",type:"danger",pMsg:"确认要删除吗？"},on:{click:function(a){return e.handleDelete(a,t.row)}}},[e._v("删除\n          ")])]}}])})],1),e._v(" "),a(e.dialog,{tag:"component",attrs:{data:e.dialogData},on:{ok:function(t){e.handleCurrentChange(e.tableData.page)},close:function(t){e.dialog=""}}})],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){var o=a(1010);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("482516a9",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,"",""])},function(e,t,a){"use strict";var o=a(1012);t.a={components:{SDialogAdd:o.a},data:function(){return{deptData:[],defaultProps:{children:"children",label:"title"},filterText:"",dialog:"",dialogData:{parentId:"",isDisabled:!0,deptId:"",showId:"",deptName:"",title:""}}},created:function(){this.$service.options.clearOptions("Department")},mounted:function(){this.queryDeptTree()},watch:{filterText:function(e){this.$refs.tree2.filter(e)}},methods:{stopPropagation:function(e){e=window.event||e,document.all?e.cancelBubble=!0:e.stopPropagation()},showAddDept:function(e,t,a,o){this.stopPropagation(e),this.dialogData.parentId=a.parentId,this.dialogData.deptId=a.id,"edit"===o?(this.dialogData.isDisabled=!1,this.dialogData.showId=this.dialogData.parentId,this.dialogData.deptName=a.title,this.dialogData.title="编辑部门"):(this.dialogData.showId=this.dialogData.deptId,this.dialogData.deptName="",this.dialogData.title="新增部门"),this.dialog="SDialogAdd"},delDept:function(e,t,a){var o=this;this.stopPropagation(e),this.$confirm("确定删除此部门及其子部门？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",showCancelButton:!1,type:"warning"}).then(function(){o.$service.system.delDept(a.id).then(function(){o.queryDeptTree()})}).catch(function(){})},renderContent:function(e,t){var a=this,o=t.node,i=t.data,n=t.store;return 1===o.level?e("span",null,[e("span",null,[e("span",null,[o.label])]),e("span",{style:"float: right; margin-right: 108px"},[e("el-button",{attrs:{size:"mini"},on:{click:function(e){return a.showAddDept(e,n,i,"add")}}},["新增"])])]):e("span",null,[e("span",null,[e("span",null,[o.label])]),e("span",{style:"float: right; margin-right: 20px"},[e("el-button",{attrs:{size:"mini"},on:{click:function(e){return a.showAddDept(e,n,i,"add")}}},["新增"]),e("el-button",{attrs:{size:"mini"},on:{click:function(e){return a.showAddDept(e,n,i,"edit")}}},["修改"]),e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return a.delDept(e,n,i)}}},["删除"])])])},filterNode:function(e,t){return!e||-1!==t.title.indexOf(e)},queryDeptTree:function(){var e=this;this.$service.system.queryDeptTree({deptName:this.filterText}).then(function(t){e.deptData=t.data})},close:function(){this.dialog="",this.dialogData.isDisabled=!0}}}},function(e,t,a){"use strict";function o(e){a(1013)}var i=a(1015),n=a(1016),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.a=s.exports},function(e,t,a){var o=a(1014);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("59f4b30a",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,"",""])},function(e,t,a){"use strict";var o=a(102),i=a.n(o);t.a={props:{data:{type:Object}},data:function(){return{formLabelWidth:"120px",visible:!0,deptOptions:[],deptForm:{deptName:"",parentId:this.data.parentId,deptId:""},isDisabled:this.data.isDisabled,title:this.data.title,rules:{deptName:[].concat(i()(this.$checkRules.dept.deptName))}}},created:function(){var e=this;this.$service.system.queryDeptList().then(function(t){e.deptOptions=t.data,e.deptForm.deptId=e.data.deptId,e.deptForm.parentId=e.data.showId,e.deptForm.deptName=e.data.deptName})},methods:{close:function(){this.$emit("close")},submitForm:function(e){var t=this;this.$refs.deptForm.validate(function(a){a?t.$service.system.saveDept(t.deptForm).then(function(){t.visible=!1,t.$emit("ok")}).finally(function(){e.isLoading(!1)}):e.isLoading(!1)})}}}},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.data.title,size:"small"},on:{close:e.close},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("el-form",{ref:"deptForm",attrs:{model:e.deptForm,rules:e.rules}},[a("el-form-item",{attrs:{label:"上级部门：","label-width":e.formLabelWidth}},[a("el-select",{attrs:{disabled:e.isDisabled,filterable:"",placeholder:"请选择"},model:{value:e.deptForm.parentId,callback:function(t){e.$set(e.deptForm,"parentId",t)},expression:"deptForm.parentId"}},[e._l(e.deptOptions,function(t){return[a("el-option",{attrs:{disabled:t.key===e.data.deptId,label:t.value,value:t.key}})]})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"部门名称：","label-width":e.formLabelWidth,prop:"deptName"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.deptForm.deptName,callback:function(t){e.$set(e.deptForm,"deptName",t)},expression:"deptForm.deptName"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("c-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{staticClass:"demo-form-inline"},[a("el-form-item",[a("el-input",{attrs:{placeholder:"部门名称"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}})],1)],1),e._v(" "),a("el-tree",{ref:"tree2",attrs:{data:e.deptData,props:e.defaultProps,"default-expand-all":"","render-content":e.renderContent,"filter-node-method":e.filterNode}}),e._v(" "),a(e.dialog,{tag:"component",attrs:{data:e.dialogData},on:{ok:e.queryDeptTree,close:e.close}})],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){var o=a(1019);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("4fdfcd57",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,".scroll-bar[data-v-7f735f60]{max-height:500px;overflow:auto}",""])},function(e,t,a){"use strict";var o=a(69),i=a.n(o),n=a(101),l=a.n(n),r=a(1021),s=a(1026),c={};t.a={name:"ResourceManager",components:{SDialogAdd:r.a,SDialogEdit:s.a},data:function(){return{currentPage:1,pageSize:10,searchForm:{name:"",parentId:"0"},defaultProps:{children:"nodes",label:"text"},treeData:[],dialog:"",filterText:"",dialogData:{},canDeleteBatch:!1,loading:!1,tableData:{records:0,page:1,rows:[]},multipleSelection:[]}},mounted:function(){this.getTreeData(),this.handleCurrentChange(1)},destroyed:function(){this.$message.closeAll()},watch:{filterText:function(e){this.$refs.tree2.filter(e)},multipleSelection:function(e){this.canDeleteBatch=e.length>0}},methods:{getTreeData:function(){var e=this;this.$service.system.queryResourceTree().then(function(t){e.treeData=t.data})},filterNode:function(e,t){return!e||-1!==t.text.indexOf(e)},handleNodeClick:function(e){this.searchForm.parentId=e.id,this.onSearch()},onSearch:function(){this.handleCurrentChange(1)},handleSizeChange:function(e){this.pageSize=e},handleSortChange:function(e){var t=e.sidx,a=e.sord;c.sidx=t,c.sord=a,this.handleCurrentChange(this.currentPage)},handleCurrentChange:function(e){var t=this;return this.currentPage=e,this.loading=!0,new l.a(function(a,o){i()(c,t.searchForm),t.$service.system.queryResourcePage(e,t.pageSize,c).then(function(e){t.tableData=e,a()}).catch(function(){o()}).finally(function(){t.loading=!1})})},handleEdit:function(e){this.dialogData=e,this.dialog="SDialogEdit"},handleDelete:function(e){var t=this;this.$confirm("确定删除此菜单及其子菜单？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",showCancelButton:!1,type:"warning"}).then(function(){t.$service.system.delResource(e.id).then(function(){t.getTreeData(),t.handleCurrentChange(t.tableData.page)})}).catch(function(){})},onAdd:function(){this.dialog="SDialogAdd",this.dialogData={parentId:this.searchForm.parentId}},handleSelectionChange:function(e){this.multipleSelection=e},onDeleteBatch:function(e){var t=this;this.multipleSelection.length>0?this.$confirm("确定删除选中菜单？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",showCancelButton:!1,type:"warning"}).then(function(){for(var e=[],a=0;a<t.multipleSelection.length;a++)e.push(t.multipleSelection[a].id);t.$service.system.batchDeleteResource(e).then(function(){t.getTreeData(),t.handleCurrentChange(t.tableData.page)})}).catch(function(){}):this.$message({message:"没有选中项",type:"warning"})},handleOk:function(e){this.handleCurrentChange(e),this.getTreeData()}}}},function(e,t,a){"use strict";function o(e){a(1022)}var i=a(1024),n=a(1025),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.a=s.exports},function(e,t,a){var o=a(1023);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("3e82ed97",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,"",""])},function(e,t,a){"use strict";var o=a(102),i=a.n(o);t.a={name:"SDialogAdd",props:{data:{type:Object,default:{parentId:""}}},data:function(){return{formLabelWidth:"120px",visible:!0,resourceOptions:[],form:{sortNo:"",name:"",code:"",url:"",parentId:this.data.parentId,type:0},typeOptions:this.$constant.Options.ResTypeOptions,rules:{name:[].concat(i()(this.$checkRules.resource.resName)),code:[].concat(i()(this.$checkRules.resource.code)),url:[].concat(i()(this.$checkRules.resource.url)),parentId:[].concat(i()(this.$checkRules.resource.parentId)),type:[].concat(i()(this.$checkRules.resource.type))}}},created:function(){var e=this;this.$service.system.queryResourceList().then(function(t){e.resourceOptions=t.data})},methods:{close:function(){this.$emit("close")},btnOk:function(e){var t=this;this.$refs.form.validate(function(a){a?t.$service.system.addResource(t.form).then(function(){t.visible=!1,t.$emit("ok")}).finally(function(){e.isLoading(!1)}):e.isLoading(!1)})}}}},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"新增菜单"},on:{close:e.close},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"排序号","label-width":e.formLabelWidth,prop:"sortNo"}},[a("el-input",{model:{value:e.form.sortNo,callback:function(t){e.$set(e.form,"sortNo",t)},expression:"form.sortNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"菜单名","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"CODE","label-width":e.formLabelWidth,prop:"code"}},[a("el-input",{model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"URL","label-width":e.formLabelWidth,prop:"url"}},[a("el-input",{model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"父菜单","label-width":e.formLabelWidth,prop:"parentId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}},[e._l(e.resourceOptions,function(e){return[a("el-option",{attrs:{label:e.value,value:e.key}})]})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"功能类型","label-width":e.formLabelWidth,prop:"type"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[e._l(e.typeOptions,function(e){return[a("el-option",{attrs:{label:e.value,value:e.key}})]})],2)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),e._v(" "),a("c-button",{attrs:{type:"primary"},on:{click:e.btnOk}},[e._v("确 定")])],1)],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){"use strict";function o(e){a(1027)}var i=a(1029),n=a(1030),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.a=s.exports},function(e,t,a){var o=a(1028);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("802aa490",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,"",""])},function(e,t,a){"use strict";var o=a(102),i=a.n(o);t.a={name:"SDialogEdit",props:{data:{type:Object,default:{id:"",sortNo:"",name:"",code:"",url:"",parentId:"",type:""}}},data:function(){return{formLabelWidth:"120px",visible:!0,resourceOptions:[],form:{id:this.data.id,sortNo:this.data.sortNo,name:this.data.name,code:this.data.code,url:this.data.url,parentId:this.data.parentId,type:this.data.type},typeOptions:this.$constant.Options.ResTypeOptions,rules:{name:[].concat(i()(this.$checkRules.resource.resName)),code:[].concat(i()(this.$checkRules.resource.code)),url:[].concat(i()(this.$checkRules.resource.url)),parentId:[].concat(i()(this.$checkRules.resource.parentId)),type:[].concat(i()(this.$checkRules.resource.type))}}},created:function(){var e=this;this.$service.system.queryResourceList().then(function(t){e.resourceOptions=t.data})},methods:{close:function(){this.$emit("close")},btnOk:function(e){var t=this;this.$refs.form.validate(function(a){a?t.$service.system.updateResource(t.form).then(function(){t.$emit("ok"),t.visible=!1}).finally(function(){e.isLoading(!1)}):e.isLoading(!1)})}}}},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"编辑菜单"},on:{close:e.close},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"排序号","label-width":e.formLabelWidth,prop:"sortNo"}},[a("el-input",{model:{value:e.form.sortNo,callback:function(t){e.$set(e.form,"sortNo",t)},expression:"form.sortNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"菜单名","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"CODE","label-width":e.formLabelWidth,prop:"code"}},[a("el-input",{model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"URL","label-width":e.formLabelWidth,prop:"url"}},[a("el-input",{model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"父菜单","label-width":e.formLabelWidth,prop:"parentId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}},[e._l(e.resourceOptions,function(e){return[a("el-option",{attrs:{label:e.value,value:e.key}})]})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"功能类型","label-width":e.formLabelWidth,prop:"type"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[e._l(e.typeOptions,function(e){return[a("el-option",{attrs:{label:e.value,value:e.key}})]})],2)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),e._v(" "),a("c-button",{attrs:{type:"primary"},on:{click:e.btnOk}},[e._v("确 定")])],1)],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("section",{staticClass:"border space-p bg-extra-light-blue"},[a("el-input",{staticClass:"space-m-b",attrs:{placeholder:"请输入关键字",icon:"search"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),a("el-tree",{ref:"tree2",staticClass:"noborder bg-transparent scroll-bar",attrs:{data:e.treeData,props:e.defaultProps,"filter-node-method":e.filterNode,"default-expand-all":!0,"highlight-current":"",indent:16},on:{"node-click":e.handleNodeClick}})],1)]),e._v(" "),a("el-col",{attrs:{span:18}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,onkeydown:"if(event.keyCode==13){return false;}"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.onSearch(t)}}},[a("el-form-item",{staticClass:"pull-right"},[a("el-input",{attrs:{placeholder:"请输入菜单名",icon:"search","on-icon-click":e.onSearch},model:{value:e.searchForm.name,callback:function(t){e.$set(e.searchForm,"name",t)},expression:"searchForm.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.onAdd}},[e._v("新增")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"danger",disabled:!e.canDeleteBatch},on:{click:e.onDeleteBatch}},[a("i",{staticClass:"el-icon-delete"}),e._v(" 批量删除")])],1)],1),e._v(" "),a("c-page-table",{attrs:{data:e.tableData,loading:e.loading},on:{"size-change":e.handleSizeChange,"sort-change":e.handleSortChange,"current-change":e.handleCurrentChange,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sortNo",label:"序号",sortable:"sortNo","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"菜单名",sortable:"name","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"code",label:"CODE","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"parentName",label:"父菜单","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"url",label:"URL","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){e.handleEdit(t.row)}}},[e._v("编辑\n            ")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){e.handleDelete(t.row)}}},[e._v("删除\n            ")])]}}])})],1)],1)],1),e._v(" "),a(e.dialog,{tag:"component",attrs:{data:e.dialogData},on:{ok:function(t){e.handleOk(e.tableData.page)},close:function(t){e.dialog=""}}})],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){var o=a(1033);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("48bb95cf",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,"",""])},function(e,t,a){"use strict";var o=a(149),i=a.n(o),n=a(101),l=a.n(n),r=a(69),s=a.n(r),c=a(1035),d={};t.a={name:"QuartzTask",components:{SDialogAdd:c.a},data:function(){return{currentPage:1,pageSize:10,searchForm:{dtlJobName:"",dtlDescription:""},dialog:"",isDictItemDialog:!1,dialogData:{},dictItemDialogData:{},canDeleteBatch:!1,loading:!1,tableData:{records:0,page:1,rows:[]},multipleSelection:[]}},mounted:function(){this.handleCurrentChange(1)},destroyed:function(){this.$message.closeAll()},watch:{multipleSelection:function(e){this.canDeleteBatch=e.length>0}},methods:{onSearch:function(){s()(d,this.searchForm),this.handleCurrentChange(1)},handleSizeChange:function(e){this.pageSize=e},handleSortChange:function(e){var t=e.sidx,a=e.sord;d.sidx=t,d.sord=a,this.handleCurrentChange(this.currentPage)},handleCurrentChange:function(e){var t=this;return this.currentPage=e,this.loading=!0,new l.a(function(a,o){t.$service.system.queryQuarzTask(i()({},d,{page:e,rows:t.pageSize})).then(function(e){t.tableData=e.data,a()}).catch(function(){o()}).finally(function(){t.loading=!1})})},onAdd:function(){this.dialog="SDialogAdd"},delWithQuarzTask:function(e){var t=this,a="";if(this.multipleSelection.length<1)return this.$alert("请选择要操作的行","提示"),!1;"pauseAllJob"===e||"shutdownQuartz"===e||(a=this.multipleSelection.map(function(e){return e.dtlJobName+","+e.dtlJobGroup}).join("|")),this.$confirm("确认执行此操作吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$service.system.delWithQuarzTask({params:a,operType:e}).then(function(e){t.handleCurrentChange(t.tableData.page),t.$message({type:"success",message:e.msg})})})},handleEdit:function(e){var t=this;this.$service.system.getTaskDetail({dtlJobName:e.dtlJobName}).then(function(e){t.dialogData.detail=e.data,t.dialog="SDialogAdd"})},handleDelete:function(e,t){var a=this;this.$service.system.deleteDictType(t.id).then(function(){a.handleCurrentChange(a.tableData.page)}).finally(function(){e.isLoading(!1)})},onDictItem:function(e){this.dictItemDialogData.detail=e,this.isDictItemDialog=!0},handleSelectionChange:function(e){this.multipleSelection=e},handleFreeze:function(e){var t=this;this.$confirm("是否确认停用？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$service.system.freezeDictType({id:e,status:"0"}).then(function(e){t.handleCurrentChange(t.tableData.page),t.$message({type:"success",message:e.msg})})})},handleUnFreeze:function(e){var t=this;this.$confirm("是否确认启用？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$service.system.freezeDictType({id:e,status:"1"}).then(function(e){t.handleCurrentChange(t.tableData.page),t.$message({type:"success",message:e.msg})})})}}}},function(e,t,a){"use strict";function o(e){a(1036)}var i=a(1038),n=a(1039),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.a=s.exports},function(e,t,a){var o=a(1037);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("608c57b3",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,".w200{width:200px}.mb5{margin-bottom:5px}",""])},function(e,t,a){"use strict";var o=a(102),i=a.n(o),n=a(776),l=a.n(n),r=a(751),s=a.n(r);t.a={props:{data:{type:Object}},data:function(){var e=void 0;if(null!=this.data.detail&&null!==this.data.detail.dtlJobName){e={dtlJobName:this.data.detail.dtlJobName,dtlJobGroup:"",dtlDescription:this.data.detail.dtlDescription,trigRange:[this.data.detail.trigStartTimeStr,this.data.detail.trigEndTimeStr],trigStartTimeStr:this.data.detail.trigStartTimeStr,trigEndTimeStr:this.data.detail.trigEndTimeStr,cronCronExpression:this.data.detail.cronCronExpression,jobDataMap:{serviceName:this.data.detail.jobDataMap.serviceName,method:this.data.detail.jobDataMap.method,insertQuartzLog:this.data.detail.jobDataMap.method},params:[]};var t=!0,a=!1,o=void 0;try{for(var n,r=s()(l()(this.data.detail.jobDataMap));!(t=(n=r.next()).done);t=!0){var c=n.value;"serviceName"!==c&&"method"!==c&&"insertQuartzLog"!==c&&e.params.push({paramKey:c,paramValue:this.data.detail.jobDataMap[c]})}}catch(e){a=!0,o=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw o}}}else e={dtlJobName:"",dtlJobGroup:"",dtlDescription:"",trigRange:"",trigStartTimeStr:"",trigEndTimeStr:"",cronCronExpression:"",jobDataMap:{serviceName:"",method:"",insertQuartzLog:"true"},params:[]};return{formLabelWidth:"120px",visible:!0,deptOptions:[],taskForm:e,isDisabled:this.data.isDisabled,title:"编辑任务",rules:{dtlJobName:this.$checkRules.taskName,description:[].concat(i()(this.$checkRules.description)),trigRange:[].concat(i()(this.$checkRules.dateRange)),cronCronExpression:[].concat(i()(this.$checkRules.cronExpression)),"jobDataMap.serviceName":[].concat(i()(this.$checkRules.serviceName)),"jobDataMap.method":[].concat(i()(this.$checkRules.method)),notEmpty:[].concat(i()(this.$checkRules.notEmpty))}}},created:function(){},methods:{makeRow:function(e){return{index:e,paramKey:"",paramValue:""}},addParam:function(){this.taskForm.params.push(this.makeRow(this.taskForm.params.length+1))},delParam:function(e){this.taskForm.params.splice(e,1)},close:function(){this.$emit("close")},submitForm:function(e){var t=this;this.$refs.taskForm.validate(function(a){a?(t.taskForm.trigStartTimeStr=t.$dateUtils.getFormatDate(t.taskForm.trigRange[0],"yyyy-MM-dd"),t.taskForm.trigEndTimeStr=t.$dateUtils.getFormatDate(t.taskForm.trigRange[1],"yyyy-MM-dd"),t.$service.system.saveQuartzTask(t.taskForm).then(function(){t.visible=!1,t.$emit("ok")}).finally(function(){e.isLoading(!1)})):e.isLoading(!1)})}}}},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"编辑任务",size:"small"},on:{close:e.close},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("el-form",{ref:"taskForm",attrs:{model:e.taskForm,rules:e.rules}},[a("el-form-item",{attrs:{label:"任务名称：","label-width":e.formLabelWidth,prop:"dtlJobName",required:""}},[a("el-input",{staticClass:"w200",model:{value:e.taskForm.dtlJobName,callback:function(t){e.$set(e.taskForm,"dtlJobName",t)},expression:"taskForm.dtlJobName"}}),e._v(" 名称必须唯一\n      ")],1),e._v(" "),a("el-form-item",{attrs:{label:"描述：","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.taskForm.dtlDescription,callback:function(t){e.$set(e.taskForm,"dtlDescription",t)},expression:"taskForm.dtlDescription"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"有效期：","label-width":e.formLabelWidth,required:"",prop:"trigRange"}},[a("el-date-picker",{attrs:{type:"daterange",format:"yyyy-MM-dd",placeholder:"选择日期范围"},model:{value:e.taskForm.trigRange,callback:function(t){e.$set(e.taskForm,"trigRange",t)},expression:"taskForm.trigRange"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Cron表达式：","label-width":e.formLabelWidth,prop:"cronCronExpression",required:""}},[a("el-input",{staticClass:"w200",model:{value:e.taskForm.cronCronExpression,callback:function(t){e.$set(e.taskForm,"cronCronExpression",t)},expression:"taskForm.cronCronExpression"}}),e._v(" "),a("abbr",{attrs:{title:"Cron表达式范例\n\n每隔5秒执行一次：*/5 * * * * ?\n\n每隔1分钟执行一次：0 */1 * * * ?\n\n每天23点执行一次：0 0 23 * * ?\n\n每天凌晨1点执行一次：0 0 1 * * ?\n\n每月1号凌晨1点执行一次：0 0 1 1 * ?\n\n每月最后一天23点执行一次：0 0 23 L * ?\n\n每周星期天凌晨1点实行一次：0 0 1 ? * L\n\n在26分、29分、33分执行一次：0 26,29,33 * * * ?\n\n每天的0点、13点、18点、21点都执行一次：0 0 0,13,18,21 * * ?\n\n每隔5分钟执行一次：0 0/5 * * * ?"}},[e._v("?")])],1),e._v(" "),a("el-form-item",{attrs:{label:"调度服务名：","label-width":e.formLabelWidth,prop:"jobDataMap.serviceName",required:""}},[a("el-input",{staticClass:"w200",model:{value:e.taskForm.jobDataMap.serviceName,callback:function(t){e.$set(e.taskForm.jobDataMap,"serviceName",t)},expression:"taskForm.jobDataMap.serviceName"}}),e._v(" (spring bean名称)\n      ")],1),e._v(" "),a("el-form-item",{attrs:{label:"调度方法名：","label-width":e.formLabelWidth,prop:"jobDataMap.method",required:""}},[a("el-input",{staticClass:"w200",model:{value:e.taskForm.jobDataMap.method,callback:function(t){e.$set(e.taskForm.jobDataMap,"method",t)},expression:"taskForm.jobDataMap.method"}}),e._v(" (该方法的参数必须为Map或无参数)\n      ")],1),e._v(" "),a("el-form-item",{attrs:{label:"日志记录方式：","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.taskForm.jobDataMap.insertQuartzLog,callback:function(t){e.$set(e.taskForm.jobDataMap,"insertQuartzLog",t)},expression:"taskForm.jobDataMap.insertQuartzLog"}},[a("el-option",{attrs:{label:"全部记录",value:"true"}}),e._v(" "),a("el-option",{attrs:{label:"仅记录异常",value:"false"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"参数：","label-width":e.formLabelWidth}},[a("el-button",{attrs:{type:"info"},on:{click:e.addParam}},[e._v("新增参数")]),e._v(" "),e._l(e.taskForm.params,function(t,o){return[a("el-row",{staticClass:"mb5"},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{prop:"params["+o+"].paramKey",rules:e.rules.notEmpty}},[a("el-input",{attrs:{placeholder:"参数名"},model:{value:t.paramKey,callback:function(a){e.$set(t,"paramKey",a)},expression:"prm.paramKey"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{prop:"params["+o+"].paramValue",rules:e.rules.notEmpty}},[a("el-input",{attrs:{placeholder:"参数值"},model:{value:t.paramValue,callback:function(a){e.$set(t,"paramValue",a)},expression:"prm.paramValue"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.delParam(o)}}},[e._v("删除")])],1)],1)]})],2)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("c-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,onkeydown:"if(event.keyCode===13){return false;}"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.onSearch(t)}}},[a("el-form-item",{staticClass:"pull-right"},[a("el-input",{attrs:{placeholder:"任务描述",icon:"search","on-icon-click":e.onSearch},model:{value:e.searchForm.dtlDescription,callback:function(t){e.$set(e.searchForm,"dtlDescription",t)},expression:"searchForm.dtlDescription"}})],1),e._v(" "),a("el-form-item",{staticClass:"pull-right"},[a("el-input",{attrs:{placeholder:"任务名称",icon:"search","on-icon-click":e.onSearch},model:{value:e.searchForm.dtlJobName,callback:function(t){e.$set(e.searchForm,"dtlJobName",t)},expression:"searchForm.dtlJobName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.onAdd}},[e._v("创建任务")]),e._v(" "),a("el-button",{attrs:{type:"danger",icon:"minus"},on:{click:function(t){e.delWithQuarzTask("delQuarzTask")}}},[e._v("删除任务")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.delWithQuarzTask("pauseQuarzTask")}}},[e._v("暂停任务")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.delWithQuarzTask("resumeQuarzTask")}}},[e._v("恢复运行")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.delWithQuarzTask("interruptQuarzTask")}}},[e._v("中断运行")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.delWithQuarzTask("runQuarzTaskOnce")}}},[e._v("运行一次")])],1)],1),e._v(" "),a("c-page-table",{attrs:{data:e.tableData,loading:e.loading},on:{"selection-change":e.handleSelectionChange,"size-change":e.handleSizeChange,"sort-change":e.handleSortChange,"current-change":e.handleCurrentChange}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dtlJobName",label:"任务名称","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"trigPrevFireTimeStr",label:"上次执行时间","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"trigNextFireTimeStr",label:"下次执行时间","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"trigTriggerState",label:"状态","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"生/失效日期","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.trigStartTimeStr)+" / "+e._s(t.row.trigEndTimeStr))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"dtlDescription",label:"任务描述 ","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"default"},on:{click:function(a){e.handleEdit(t.row)}}},[e._v("编辑\n\n        ")])]}}])})],1),e._v(" "),a(e.dialog,{tag:"component",attrs:{data:e.dialogData},on:{ok:function(t){e.handleCurrentChange(e.tableData.page)},close:function(t){e.dialog=""}}})],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){var o=a(1042);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("89d97fda",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,"",""])},function(e,t,a){"use strict";var o=a(149),i=a.n(o),n=a(101),l=a.n(n),r=a(69),s=a.n(r),c={};t.a={name:"QuartzLog",components:{},data:function(){return{currentPage:1,pageSize:10,searchForm:{jobName:"",runResultCode:""},dialog:"",dialogData:{},canDeleteBatch:!1,loading:!1,tableData:{records:0,page:1,rows:[]},multipleSelection:[]}},mounted:function(){this.handleCurrentChange(1)},destroyed:function(){this.$message.closeAll()},methods:{onSearch:function(){s()(c,this.searchForm),this.handleCurrentChange(1)},handleSizeChange:function(e){this.pageSize=e},handleSortChange:function(e){var t=e.sidx,a=e.sord;c.sidx=t,c.sord=a,this.handleCurrentChange(this.currentPage)},handleCurrentChange:function(e){var t=this;return this.currentPage=e,this.loading=!0,new l.a(function(a,o){t.$service.system.qryQrtzRunlog(i()({},c,{page:e,rows:t.pageSize})).then(function(e){t.tableData=e.data,a()}).catch(function(){o()}).finally(function(){t.loading=!1})})}}}},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,onkeydown:"if(event.keyCode===13){return false;}"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.onSearch(t)}}},[a("el-form-item",{staticClass:"pull-right"},[a("el-input",{attrs:{placeholder:"任务名称",icon:"search","on-icon-click":e.onSearch},model:{value:e.searchForm.dtlJobName,callback:function(t){e.$set(e.searchForm,"dtlJobName",t)},expression:"searchForm.dtlJobName"}})],1),e._v(" "),a("el-form-item",{staticClass:"pull-right"},[e._v("\n      执行结果：\n      "),a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.onSearch},model:{value:e.searchForm.runResultCode,callback:function(t){e.$set(e.searchForm,"runResultCode",t)},expression:"searchForm.runResultCode"}},[a("el-option",{attrs:{label:"正常",value:"0000"}}),e._v(" "),a("el-option",{attrs:{label:"异常",value:"9999"}})],1)],1)],1),e._v(" "),a("c-page-table",{attrs:{data:e.tableData,loading:e.loading},on:{"selection-change":e.handleSelectionChange,"size-change":e.handleSizeChange,"sort-change":e.handleSortChange,"current-change":e.handleCurrentChange}},[a("el-table-column",{attrs:{prop:"jobName",label:"任务名称","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"description",label:"任务描述","min-width":"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"runStartTimeStr",label:"执行开始时间","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"runEndTimeStr",label:"执行结束时间","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"runResultCodeDict",label:"状态","min-width":"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"runUsedTime",label:"耗时(毫秒)","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"fireInstanceId",label:"触发实例ID","min-width":"150"}})],1),e._v(" "),a(e.dialog,{tag:"component",attrs:{data:e.dialogData},on:{ok:function(t){e.handleCurrentChange(e.tableData.page)},close:function(t){e.dialog=""}}})],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},,,function(e,t,a){var o=a(1048);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("206f71cf",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,"",""])},function(e,t,a){"use strict";t.a={name:"NoticeManager",data:function(){return{}},methods:{}}},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement;return(e._self._c||t)("router-view")},i=[],n={render:o,staticRenderFns:i};t.a=n},,,,,,,,,,,,,,,,,function(e,t,a){var o=a(1068);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("06421a44",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,"",""])},function(e,t,a){"use strict";var o=a(101),i=a.n(o),n=a(69),l=a.n(n),r=a(1070),s=a(1075),c=a(1080),d={};t.a={name:"DictionaryManager",components:{SDialogAdd:r.a,SDialogEdit:s.a,SDialogDictItem:c.a},data:function(){return{currentPage:1,pageSize:10,searchForm:{param:""},dialog:"",isDictItemDialog:!1,dialogData:{},dictItemDialogData:{},canDeleteBatch:!1,loading:!1,tableData:{records:0,page:1,rows:[]},multipleSelection:[]}},mounted:function(){this.handleCurrentChange(1)},destroyed:function(){this.$message.closeAll()},watch:{multipleSelection:function(e){this.canDeleteBatch=e.length>0}},methods:{onSearch:function(){l()(d,this.searchForm),this.handleCurrentChange(1)},handleSizeChange:function(e){this.pageSize=e},handleSortChange:function(e){var t=e.sidx,a=e.sord;d.sidx=t,d.sord=a,this.handleCurrentChange(this.currentPage)},handleCurrentChange:function(e){var t=this;return this.currentPage=e,this.loading=!0,new i.a(function(a,o){t.$service.system.queryAllDictTypePage(e,t.pageSize,d).then(function(e){t.tableData=e,a()}).catch(function(){o()}).finally(function(){t.loading=!1})})},onAdd:function(){this.dialog="SDialogAdd"},handleEdit:function(e){this.dialogData.detail=e,this.dialog="SDialogEdit"},handleDelete:function(e,t){var a=this;this.$service.system.deleteDictType(t.id).then(function(){a.handleCurrentChange(a.tableData.page)}).finally(function(){e.isLoading(!1)})},onDictItem:function(e){this.dictItemDialogData.detail=e,this.isDictItemDialog=!0},handleSelectionChange:function(e){this.multipleSelection=e},handleFreeze:function(e){var t=this;this.$confirm("是否确认停用？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$service.system.freezeDictType({id:e,status:"0"}).then(function(e){t.handleCurrentChange(t.tableData.page),t.$message({type:"success",message:e.msg})})})},handleUnFreeze:function(e){var t=this;this.$confirm("是否确认启用？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$service.system.freezeDictType({id:e,status:"1"}).then(function(e){t.handleCurrentChange(t.tableData.page),t.$message({type:"success",message:e.msg})})})}}}},function(e,t,a){"use strict";function o(e){a(1071)}var i=a(1073),n=a(1074),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.a=s.exports},function(e,t,a){var o=a(1072);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("12c26b46",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,"",""])},function(e,t,a){"use strict";var o=a(149),i=a.n(o),n=a(222);t.a={name:"SDialogAdd",props:{},data:function(){var e=this,t=this.$lodash,a=function(a,o,i){t.isEmpty(o)?i():e.$service.system.getUserByIdentityCode({identityCode:o}).then(function(e){t.isEmpty(e.data)?i():i(new Error("该编号已被"+e.data.name+"使用"))}).catch(function(){i(new Error("校验失败请重新选择"))})};return{formLabelWidth:"120px",visible:!0,form:{id:"",name:"",type:"",description:"",valid:""},typeOptions:this.$constant.Options.ActiveOptions,rules:{name:this.$checkRules.dict.name,type:this.$checkRules.dict.type,valid:this.$checkRules.dict.valid,identityCode:[{validator:a,trigger:"blur,change"}]}}},computed:i()({},Object(n.c)("options",["options"])),methods:{close:function(){this.$emit("close")},btnOk:function(e){var t=this;this.$refs.form.validate(function(a){a?t.$service.system.addDictType(t.form).then(function(){t.visible=!1,t.$emit("ok")}).finally(function(){e.isLoading(!1)}):e.isLoading(!1)})}}}},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"新增字典",top:"10%"},on:{close:e.close},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"名称","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"CODE","label-width":e.formLabelWidth,prop:"type"}},[a("el-input",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"描述","label-width":e.formLabelWidth,prop:"description"}},[a("el-input",{model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"状态","label-width":e.formLabelWidth,prop:"valid"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.valid,callback:function(t){e.$set(e.form,"valid",t)},expression:"form.valid"}},[e._l(e.typeOptions,function(e){return[a("el-option",{attrs:{label:e.value,value:e.key}})]})],2)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),e._v(" "),a("c-button",{attrs:{type:"primary"},on:{click:e.btnOk}},[e._v("确 定")])],1)],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){"use strict";function o(e){a(1076)}var i=a(1078),n=a(1079),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.a=s.exports},function(e,t,a){var o=a(1077);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("66435ee8",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,"",""])},function(e,t,a){"use strict";t.a={name:"SDialogEdit",props:{data:{type:Object,default:{}}},data:function(){var e=this,t=this.$lodash,a=function(a,o,i){t.isEmpty(o)?i():e.$service.system.getUserByIdentityCode({identityCode:o}).then(function(a){t.isEmpty(a.data)||""+a.data.id==""+e.data.detail.id?i():i(new Error("该编号已被"+a.data.realName+"使用"))}).catch(function(){i(new Error("校验失败请重新选择"))})};return{loading:!1,formLabelWidth:"120px",visible:!0,form:{id:this.data.detail.id,name:this.data.detail.name,type:this.data.detail.type,description:this.data.detail.description,valid:this.data.detail.valid},typeOptions:this.$constant.Options.ActiveOptions,rules:{name:this.$checkRules.dict.name,type:this.$checkRules.dict.type,valid:this.$checkRules.dict.valid,identityCode:[{validator:a,trigger:"blur,change"}]}}},methods:{close:function(){this.$emit("close")},btnOk:function(e){var t=this;this.$refs.form.validate(function(a){a?t.$service.system.updateDictType(t.form).then(function(){t.$emit("ok"),t.visible=!1}).finally(function(){e.isLoading(!1)}):e.isLoading(!1)})}}}},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"编辑"},on:{close:e.close},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"名称","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"CODE","label-width":e.formLabelWidth,prop:"type"}},[a("el-input",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"描述","label-width":e.formLabelWidth,prop:"description"}},[a("el-input",{model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"状态","label-width":e.formLabelWidth,prop:"valid"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.valid,callback:function(t){e.$set(e.form,"valid",t)},expression:"form.valid"}},[e._l(e.typeOptions,function(e){return[a("el-option",{attrs:{label:e.value,value:e.key}})]})],2)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),e._v(" "),a("c-button",{attrs:{type:"primary"},on:{click:e.btnOk}},[e._v("确 定")])],1)],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){"use strict";function o(e){a(1081)}var i=a(1083),n=a(1094),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.a=s.exports},function(e,t,a){var o=a(1082);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("91437bd4",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,"",""])},function(e,t,a){"use strict";var o=a(101),i=a.n(o),n=a(69),l=a.n(n),r=a(149),s=a.n(r),c=a(222),d=a(1084),u=a(1089),m={};t.a={components:{SDialogDictItemAdd:d.a,SDialogDictItemEdit:u.a},name:"SDialogDictItem",props:{data:{type:Object,default:function(){return{}}}},data:function(){return{dialog:"",currentPage:1,pageSize:10,dialogData:{type:this.data.detail.type},loading:!1,formLabelWidth:"120px",visible:!0,searchForm:{param:""},canDeleteBatch:!1,tableData:{records:0,page:1,rows:[]},multipleSelection:[]}},computed:s()({},Object(c.c)("options",["options"])),created:function(){m.type=this.data.detail.type,this.handleCurrentChange(1)},destroyed:function(){this.$message.closeAll()},watch:{multipleSelection:function(e){this.canDeleteBatch=e.length>0}},methods:{onSearch:function(){l()(m,this.searchForm),this.handleCurrentChange(1)},handleSizeChange:function(e){this.pageSize=e},handleSortChange:function(e){var t=e.sidx,a=e.sord;m.sidx=t,m.sord=a,this.handleCurrentChange(this.currentPage)},handleCurrentChange:function(e){var t=this;return this.currentPage=e,this.loading=!0,new i.a(function(a,o){t.$service.system.queryAllDictDataPage(e,t.pageSize,m).then(function(e){t.tableData=e,a()}).catch(function(){o()}).finally(function(){t.loading=!1})})},close:function(){this.$emit("close")},onAdd:function(){this.dialog="SDialogDictItemAdd"},handleEdit:function(e){this.dialogData.detail=e,this.dialog="SDialogDictItemEdit"},handleDelete:function(e,t){var a=this;this.$service.system.deleteDictData(t.id).then(function(){a.handleCurrentChange(a.tableData.page)}).finally(function(){e.isLoading(!1)})},handleSelectionChange:function(e){this.multipleSelection=e},onDeleteBatch:function(e){var t=this;if(this.multipleSelection.length>0){for(var a=[],o=0;o<this.multipleSelection.length;o++)a.push(this.multipleSelection[o].id);this.$service.system.batchDeleteDictData(a).then(function(){t.handleCurrentChange(t.tableData.page)}).finally(function(){e.isLoading(!1)})}else this.$message({message:"没有选中项",type:"warning"}),e.isLoading(!1)},handleFreeze:function(e){var t=this;this.$confirm("是否确认停用？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$service.system.freezeDictData({id:e,status:"0"}).then(function(e){t.handleCurrentChange(t.tableData.page),t.$message({type:"success",message:e.msg})})})},handleUnFreeze:function(e){var t=this;this.$confirm("是否确认启用？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$service.system.freezeDictData({id:e,status:"1"}).then(function(e){t.handleCurrentChange(t.tableData.page),t.$message({type:"success",message:e.msg})})})}}}},function(e,t,a){"use strict";function o(e){a(1085)}var i=a(1087),n=a(1088),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.a=s.exports},function(e,t,a){var o=a(1086);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("9c6e1494",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,"",""])},function(e,t,a){"use strict";var o=a(149),i=a.n(o),n=a(222);t.a={name:"SDialogDictItemAdd",props:{data:{type:Object,default:function(){return{}}}},data:function(){var e=this,t=this.$lodash,a=function(a,o,i){t.isEmpty(o)?i():e.$service.system.getUserByIdentityCode({identityCode:o}).then(function(e){t.isEmpty(e.data)?i():i(new Error("该编号已被"+e.data.name+"使用"))}).catch(function(){i(new Error("校验失败请重新选择"))})};return{formLabelWidth:"120px",visible:!0,form:{type:this.data.type,cname:"",ename:"",code:"",sortNo:"",valid:""},typeOptions:this.$constant.Options.ActiveOptions,rules:{cname:this.$checkRules.dictData.cname,ename:this.$checkRules.dictData.ename,code:this.$checkRules.dictData.code,sortNo:this.$checkRules.dictData.sortNo,valid:this.$checkRules.dictData.valid,identityCode:[{validator:a,trigger:"blur,change"}]}}},computed:i()({},Object(n.c)("options",["options"])),methods:{close:function(){this.$emit("close")},btnOk:function(e){var t=this;this.$refs.form.validate(function(a){a?t.$service.system.addDictData(t.form).then(function(){t.visible=!1,t.$emit("ok")}).finally(function(){e.isLoading(!1)}):e.isLoading(!1)})}}}},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"新增字典项",top:"10%"},on:{close:e.close},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"中文名称","label-width":e.formLabelWidth,prop:"cname"}},[a("el-input",{model:{value:e.form.cname,callback:function(t){e.$set(e.form,"cname",t)},expression:"form.cname"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"英文名称","label-width":e.formLabelWidth,prop:"ename"}},[a("el-input",{model:{value:e.form.ename,callback:function(t){e.$set(e.form,"ename",t)},expression:"form.ename"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"CODE","label-width":e.formLabelWidth,prop:"code"}},[a("el-input",{model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"排序号","label-width":e.formLabelWidth,prop:"sortNo"}},[a("el-input",{model:{value:e.form.sortNo,callback:function(t){e.$set(e.form,"sortNo",t)},expression:"form.sortNo"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"状态","label-width":e.formLabelWidth,prop:"valid"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.valid,callback:function(t){e.$set(e.form,"valid",t)},expression:"form.valid"}},[e._l(e.typeOptions,function(e){return[a("el-option",{attrs:{label:e.value,value:e.key}})]})],2)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),e._v(" "),a("c-button",{attrs:{type:"primary"},on:{click:e.btnOk}},[e._v("确 定")])],1)],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){"use strict";function o(e){a(1090)}var i=a(1092),n=a(1093),l=a(68),r=o,s=l(i.a,n.a,!1,r,null,null);t.a=s.exports},function(e,t,a){var o=a(1091);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(664)("349dfb9d",o,!0)},function(e,t,a){t=e.exports=a(663)(!1),t.push([e.i,"",""])},function(e,t,a){"use strict";var o=a(149),i=a.n(o),n=a(222);t.a={name:"SDialogDictItemEdit",props:{data:{type:Object,default:function(){return{}}}},data:function(){var e=this,t=this.$lodash,a=function(a,o,i){t.isEmpty(o)?i():e.$service.system.getUserByIdentityCode({identityCode:o}).then(function(a){t.isEmpty(a.data)||""+a.data.id==""+e.data.detail.id?i():i(new Error("该编号已被"+a.data.realName+"使用"))}).catch(function(){i(new Error("校验失败请重新选择"))})};return{loading:!1,formLabelWidth:"120px",visible:!0,form:{id:this.data.detail.id,cname:this.data.detail.cname,ename:this.data.detail.ename,code:this.data.detail.code,sortNo:this.data.detail.sortNo,valid:this.data.detail.valid},typeOptions:this.$constant.Options.ActiveOptions,rules:{cname:this.$checkRules.dictData.cname,ename:this.$checkRules.dictData.ename,code:this.$checkRules.dictData.code,sortNo:this.$checkRules.dictData.sortNo,valid:this.$checkRules.dictData.valid,identityCode:[{validator:a,trigger:"blur,change"}]}}},computed:i()({},Object(n.c)("options",["options"])),methods:{close:function(){this.$emit("close")},btnOk:function(e){var t=this;this.$refs.form.validate(function(a){a?t.$service.system.updateDictData(t.form).then(function(){t.$emit("ok"),t.visible=!1}).finally(function(){e.isLoading(!1)}):e.isLoading(!1)})}}}},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"编辑"},on:{close:e.close},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"中文名称","label-width":e.formLabelWidth,prop:"cname"}},[a("el-input",{model:{value:e.form.cname,callback:function(t){e.$set(e.form,"cname",t)},expression:"form.cname"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"英文名称","label-width":e.formLabelWidth,prop:"ename"}},[a("el-input",{model:{value:e.form.ename,callback:function(t){e.$set(e.form,"ename",t)},expression:"form.ename"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"CODE","label-width":e.formLabelWidth,prop:"code"}},[a("el-input",{model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"排序号","label-width":e.formLabelWidth,prop:"sortNo"}},[a("el-input",{model:{value:e.form.sortNo,callback:function(t){e.$set(e.form,"sortNo",t)},expression:"form.sortNo"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"状态","label-width":e.formLabelWidth,prop:"valid"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.valid,callback:function(t){e.$set(e.form,"valid",t)},expression:"form.valid"}},[e._l(e.typeOptions,function(e){return[a("el-option",{attrs:{label:e.value,value:e.key}})]})],2)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),e._v(" "),a("c-button",{attrs:{type:"primary"},on:{click:e.btnOk}},[e._v("确 定")])],1)],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"字典项",size:"auto"},on:{close:e.close},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm}},[a("el-form-item",{staticClass:"pull-right"},[a("el-input",{attrs:{placeholder:"中英文名称/CODE",icon:"search","on-icon-click":e.onSearch},model:{value:e.searchForm.param,callback:function(t){e.$set(e.searchForm,"param",t)},expression:"searchForm.param"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.onAdd}},[e._v("新增")])],1),e._v(" "),a("el-form-item",[a("c-pop-button",{attrs:{type:"danger",pMsg:"确认要批量删除吗？",disabled:!e.canDeleteBatch},on:{click:e.onDeleteBatch}},[a("i",{staticClass:"el-icon-delete"}),e._v(" 批量删除\n        ")])],1)],1),e._v(" "),a("c-page-table",{attrs:{data:e.tableData,loading:e.loading},on:{"selection-change":e.handleSelectionChange,"size-change":e.handleSizeChange,"sort-change":e.handleSortChange,"current-change":e.handleCurrentChange}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cname",label:"中文名称","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ename",label:"英文名称","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"code",label:"CODE",sortable:"custom","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sortNo",label:"排序号","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"valid",label:"状态","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==t.row.valid?a("el-tag",{attrs:{type:"warning"}},[e._v("停用中")]):"1"==t.row.valid?a("el-tag",{attrs:{type:"success"}},[e._v("启用中")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"default"},on:{click:function(a){e.handleEdit(t.row)}}},[e._v("编辑\n          ")]),e._v(" "),"1"==t.row.valid?a("el-button",{attrs:{size:"small",type:"default"},on:{click:function(a){return e.handleFreeze(t.row.id)}}},[e._v("停用")]):a("el-button",{attrs:{size:"small",type:"info"},on:{click:function(a){return e.handleUnFreeze(t.row.id)}}},[e._v("启用")]),e._v(" "),a("c-pop-button",{attrs:{size:"small",type:"danger",pMsg:"确认要删除吗？"},on:{click:function(a){return e.handleDelete(a,t.row)}}},[e._v("删除\n          ")])]}}])})],1)],1),e._v(" "),a(e.dialog,{tag:"component",attrs:{data:e.dialogData},on:{ok:function(t){e.handleCurrentChange(e.tableData.page)},close:function(t){e.dialog=""}}})],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,onkeydown:"if(event.keyCode==13){return false;}"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.onSearch(t)}}},[a("el-form-item",{staticClass:"pull-right"},[a("el-input",{attrs:{placeholder:"字典名称/CODE/描述",icon:"search","on-icon-click":e.onSearch},model:{value:e.searchForm.param,callback:function(t){e.$set(e.searchForm,"param",t)},expression:"searchForm.param"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.onAdd}},[e._v("新增")])],1)],1),e._v(" "),a("c-page-table",{attrs:{data:e.tableData,loading:e.loading},on:{"selection-change":e.handleSelectionChange,"size-change":e.handleSizeChange,"sort-change":e.handleSortChange,"current-change":e.handleCurrentChange}},[a("el-table-column",{attrs:{prop:"name",label:"名称","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"CODE",sortable:"custom","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"description",label:"描述","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"valid",label:"状态","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==t.row.valid?a("el-tag",{attrs:{type:"warning"}},[e._v("停用中")]):"1"==t.row.valid?a("el-tag",{attrs:{type:"success"}},[e._v("启用中")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"default"},on:{click:function(a){e.handleEdit(t.row)}}},[e._v("编辑\n          ")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"default"},on:{click:function(a){e.onDictItem(t.row)}}},[e._v("详情\n          ")]),e._v(" "),"1"==t.row.valid?a("el-button",{attrs:{size:"small",type:"default"},on:{click:function(a){return e.handleFreeze(t.row.id)}}},[e._v("停用")]):a("el-button",{attrs:{size:"small",type:"info"},on:{click:function(a){return e.handleUnFreeze(t.row.id)}}},[e._v("启用")]),e._v(" "),a("c-pop-button",{attrs:{size:"small",type:"danger",pMsg:"确认要删除吗？"},on:{click:function(a){return e.handleDelete(a,t.row)}}},[e._v("删除\n          ")])]}}])})],1),e._v(" "),a(e.isDictItemDialog?"SDialogDictItem":"",{tag:"component",attrs:{data:e.dictItemDialogData},on:{close:function(t){e.isDictItemDialog=!1}}}),e._v(" "),a(e.dialog,{tag:"component",attrs:{data:e.dialogData},on:{ok:function(t){e.handleCurrentChange(e.tableData.page)},close:function(t){e.dialog=""}}})],1)},i=[],n={render:o,staticRenderFns:i};t.a=n}]));