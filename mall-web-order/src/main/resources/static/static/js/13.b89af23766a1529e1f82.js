webpackJsonp([13],{681:function(t,e,r){"use strict";function s(t){r(778)}Object.defineProperty(e,"__esModule",{value:!0});var a=r(780),i=r(781),n=r(9),o=s,c=n(a.a,i.a,!1,o,null,null);e.default=c.exports},696:function(t,e,r){"use strict";e.a={filters:{orderStatus:function(t){return["","等待付款","等待配货","等待出库","等待收货","交易成功","已关闭"][t]},orderStatusClass:function(t){return["","uc-order-item-pay","uc-order-item-shipping","uc-order-item-shipping","uc-order-item-shipping","uc-order-item-finish","uc-order-item-finish"][t]}},methods:{$_order_btnCancel:function(t){return"1"===this.$trim(t)},$_order_btnPay:function(t){return"1"===this.$trim(t)},$_order_btnReceive:function(t){return"4"===this.$trim(t)},$_order_getStatus:function(t){var e=t.orderStatus,r=t.shippingStatus,s=t.payStatus;return e=this.$trim(e),r=this.$trim(r),s=this.$trim(s),"3"===e?6:"4"===e||"2"===e?5:"0"===s?1:"1"===s&&"0"===e?2:"1"===e&&"0"===r?3:"1"===e&&"1"===r?4:0}}}},697:function(t,e,r){"use strict";function s(t){r(698)}var a=r(700),i=r(702),n=r(9),o=s,c=n(a.a,i.a,!1,o,null,null);e.a=c.exports},698:function(t,e,r){var s=r(699);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);r(671)("e48d6746",s,!0)},699:function(t,e,r){e=t.exports=r(670)(!1),e.push([t.i,"",""])},700:function(t,e,r){"use strict";var s=r(696),a=r(701);e.a={name:"OrderTable",mixins:[s.a,a.a],props:{data:{type:Object,default:function(){return{}}},emptyMsg:""},filters:{parseDate:function(t){return new Date(t).format("yyyy年MM月dd日 hh:mm")}},data:function(){return{form:this.data}},methods:{onReceive:function(t){var e=this;this.$confirm("确认已经收到货物吗？").then(function(){e.$service.order.receive({orderId:t}).then(function(){e.load()})})}}}},701:function(t,e,r){"use strict";var s=r(71),a=r.n(s);e.a={data:function(){var t={page:1,pageSize:5};return a.a.assign(t,this.form,a.a.pick(this.$route.query,["page","keywords"])),{loading:!1,form:t,table:{page:1,records:0,total:0,rows:[]}}},created:function(){this.load()},watch:{$route:function(t){a.a.assign(this.form,a.a.pick(t.query,["page","keywords"])),this.load()}},methods:{onPage:function(t){this.form.page=t,this.refresh()},refresh:function(){this.$router.push({query:a.a.pick(this.form,["page","keywords"])})},load:function(){var t=this;this.loading=!0,this.$service.order.queryOrderPage(this.form).then(function(e){t.loading=!1,t.table=e.data})}}}},702:function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"box-bd"},[r("div",[t.loading?r("div",{staticClass:"loading"},[r("div",{staticClass:"loader"})]):0===t.table.records?r("p",{staticClass:"empty"},[t._v(t._s(t.emptyMsg))]):r("ul",{staticClass:"order-list"},[t._l(t.table.rows,function(e){return[r("li",{staticClass:"uc-order-item",class:t._f("orderStatusClass")(t.$_order_getStatus(e))},[r("div",{staticClass:"order-detail"},[r("div",{staticClass:"order-summary"},[r("div",{staticClass:"order-status"},[t._v(t._s(t._f("orderStatus")(t.$_order_getStatus(e))))])]),t._v(" "),r("table",{staticClass:"order-detail-table"},[r("thead",[r("tr",[r("th",{staticClass:"col-main"},[r("p",{staticClass:"caption-info"},[t._v(t._s(t._f("parseDate")(e.addTime))),r("span",{staticClass:"sep"},[t._v("|")]),t._v(t._s(e.consignee)),r("span",{staticClass:"sep"},[t._v("|")]),t._v("订单号： "),r("router-link",{attrs:{to:"/main/orderDetail/"+e.orderId}},[t._v(t._s(e.orderSn))]),r("span",{staticClass:"sep"},[t._v("|")]),t._v("在线支付")],1)]),t._v(" "),r("th",{staticClass:"col-sub"},[r("p",{staticClass:"caption-price"},[t._v("订单金额："),r("span",{staticClass:"num"},[t._v(t._s(e.totalAmount))]),t._v("元")])])])]),t._v(" "),r("tbody",[r("tr",[r("td",{staticClass:"order-items"},[r("ul",{staticClass:"goods-list"},[t._l(e.orderGoodsList,function(e){return[r("li",[r("div",{staticClass:"figure figure-thumb"},[r("router-link",{attrs:{target:"_blank",to:"/product/"+e.specGoodsId}},[r("img",{directives:[{name:"image",rawName:"v-image",value:e.originalImg,expression:"product.originalImg"}],attrs:{width:"80",height:"80"}})])],1),t._v(" "),r("p",{staticClass:"name"},[r("router-link",{attrs:{target:"_blank",to:"/product/"+e.specGoodsId}},[t._v("\n                            "+t._s(e.goodsName)+" "+t._s(e.specKeyName))])],1),t._v(" "),r("p",{staticClass:"price"},[t._v(t._s(e.goodsPrice)+"元 × "+t._s(e.goodsNum))])])]})],2)]),t._v(" "),r("td",{staticClass:"order-actions"},[t.$_order_btnPay(t.$_order_getStatus(e))?r("router-link",{staticClass:"btn btn-small btn-primary",attrs:{to:"/confirmOrder/"+e.orderId}},[t._v("立即支付")]):t._e(),t._v(" "),t.$_order_btnReceive(t.$_order_getStatus(e))?r("a",{staticClass:"btn btn-small btn-primary",attrs:{href:"javascript:void(0)"},on:{click:function(r){t.onReceive(e.orderId)}}},[t._v("确认收货")]):t._e(),t._v(" "),r("router-link",{staticClass:"btn btn-small btn-line-gray",attrs:{to:"/main/orderDetail/"+e.orderId}},[t._v("订单详情")])],1)])])])])])]})],2)]),t._v(" "),t.table.total>1?r("c-pagination",{attrs:{"current-page":t.table.page,total:t.table.total},on:{change:t.onPage}}):t._e()],1)},a=[],i={render:s,staticRenderFns:a};e.a=i},778:function(t,e,r){var s=r(779);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);r(671)("4a4a7b45",s,!0)},779:function(t,e,r){e=t.exports=r(670)(!1),e.push([t.i,"",""])},780:function(t,e,r){"use strict";var s=r(697);e.a={name:"WaitReceive",components:{OrderTable:s.a},data:function(){return{form:{type:3}}}}},781:function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement;return(t._self._c||e)("order-table",{attrs:{data:t.form,"empty-msg":"当前没有待收货订单。"}})},a=[],i={render:s,staticRenderFns:a};e.a=i}});